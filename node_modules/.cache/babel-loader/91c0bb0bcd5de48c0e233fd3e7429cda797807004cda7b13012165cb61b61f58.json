{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport React, { useState, useRef, useEffect, useContext } from 'react';\nimport Trigger from '../Trigger';\nimport DateInput from '../_class/picker/input';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport omit from '../_util/omit';\nimport { getDayjsValue, dayjs, getNow, getValueWithTime, methods, isDayjsChange, toLocal, toTimezone } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport PickerContext from './context';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport { getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport { pickDataAttributes } from '../_util/pick';\nfunction getFormat(props) {\n  var format = props.format,\n    picker = props.picker,\n    showTime = props.showTime;\n  var valueFormat;\n  var mode = props.mode || picker.props.pickerType;\n  switch (mode) {\n    case 'date':\n      valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n      break;\n    case 'month':\n      valueFormat = 'YYYY-MM';\n      break;\n    case 'year':\n      valueFormat = 'YYYY';\n      break;\n    case 'week':\n      valueFormat = 'gggg-wo';\n      break;\n    case 'quarter':\n      valueFormat = 'YYYY-[Q]Q';\n      break;\n    default:\n      valueFormat = 'YYYY-MM-DD';\n  }\n  if (format) {\n    valueFormat = format;\n  }\n  return valueFormat;\n}\nvar defaultProps = {\n  allowClear: true,\n  unmountOnExit: true,\n  position: 'bl',\n  editable: true,\n  showNowBtn: true\n};\nvar Picker = function (baseProps) {\n  var _a = useContext(ConfigContext),\n    getPrefixCls = _a.getPrefixCls,\n    locale = _a.locale,\n    ctxSize = _a.size,\n    componentConfig = _a.componentConfig,\n    rtl = _a.rtl;\n  if (rtl) {\n    defaultProps.position = 'br';\n  }\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n  var allowClear = props.allowClear,\n    className = props.className,\n    style = props.style,\n    placeholder = props.placeholder,\n    getPopupContainer = props.getPopupContainer,\n    disabled = props.disabled,\n    position = props.position,\n    error = props.error,\n    status = props.status,\n    unmountOnExit = props.unmountOnExit,\n    editable = props.editable,\n    triggerProps = props.triggerProps,\n    picker = props.picker,\n    shortcuts = props.shortcuts,\n    onSelect = props.onSelect,\n    onVisibleChange = props.onVisibleChange,\n    propsValue = props.value,\n    onChange = props.onChange,\n    icons = props.icons,\n    disabledDate = props.disabledDate,\n    showTime = props.showTime,\n    showNowBtn = props.showNowBtn,\n    onSelectShortcut = props.onSelectShortcut,\n    extra = props.extra,\n    shortcutsPlacementLeft = props.shortcutsPlacementLeft,\n    onOk = props.onOk,\n    defaultPickerValue = props.defaultPickerValue,\n    pickerValue = props.pickerValue,\n    onPickerValueChange = props.onPickerValueChange,\n    triggerElement = props.triggerElement,\n    utcOffset = props.utcOffset,\n    timezone = props.timezone,\n    panelRender = props.panelRender;\n  var prefixCls = getPrefixCls('picker');\n  var DATEPICKER_LOCALE = locale.DatePicker;\n  var weekStart = isUndefined(props.dayStartOfWeek) ? getDefaultWeekStart(locale.dayjsLocale) : props.dayStartOfWeek;\n  // picker.props.pickerType: Compatible with defaultProps\n  var mode = props.mode || picker.props.pickerType;\n  var refInput = useRef(null);\n  var refPanel = useRef(null);\n  var refShortcuts = useRef(null);\n  var realFormat = getFormat(props);\n  var format = realFormat;\n  if (typeof format === 'function') {\n    format = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n  }\n  function getDefaultValue() {\n    var value;\n    if (props.value) {\n      value = getDayjsValue(props.value, format, utcOffset, timezone);\n    } else {\n      value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n    }\n    return value;\n  }\n  var _b = __read(useState(getDefaultValue()), 2),\n    value = _b[0],\n    setValue = _b[1];\n  var _c = __read(useState(props.popupVisible), 2),\n    popupVisible = _c[0],\n    setPopupVisible = _c[1];\n  var _d = __read(useState(false), 2),\n    isTimePanel = _d[0],\n    setIsTimePanel = _d[1];\n  var _e = __read(useState(), 2),\n    hoverPlaceholderValue = _e[0],\n    setHoverPlaceholderValue = _e[1];\n  var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n  var mergedValue = 'value' in props ? getDayjsValue(propsValue, format, utcOffset, timezone) : value;\n  var defaultPageShowDate = mergedValue || getDayjsValue(defaultPickerValue, format) || getNow();\n  var _f = __read(useState(), 2),\n    inputValue = _f[0],\n    setInputValue = _f[1];\n  var _g = __read(useState(), 2),\n    valueShow = _g[0],\n    setValueShow = _g[1];\n  var _h = __read(useState(), 2),\n    shortcutValue = _h[0],\n    setShortcutValue = _h[1];\n  var _j = __read(useState(defaultPageShowDate), 2),\n    pageShowDate = _j[0],\n    setPageShowDate = _j[1];\n  var mergedPageShowDate = getDayjsValue(pickerValue, format) || pageShowDate;\n  var panelValue = shortcutValue || valueShow || mergedValue;\n  var _k = __read(useState(mode), 2),\n    panelMode = _k[0],\n    setPanelMode = _k[1];\n  var defaultTimeValue = isObject(showTime) && getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss', utcOffset, timezone) || getNow(utcOffset, timezone);\n  var timeValue = panelValue || defaultTimeValue;\n  function focusInput() {\n    refInput.current && refInput.current.blur && refInput.current.focus();\n  }\n  function blurInput() {\n    refInput.current && refInput.current.blur && refInput.current.blur();\n  }\n  var previousUtcOffset = usePrevious(utcOffset);\n  var previousTimezone = usePrevious(timezone);\n  // when timezone or utcOffset change changed\n  useUpdate(function () {\n    if (value && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n      var localValue = toLocal(value, previousUtcOffset, previousTimezone);\n      setValue(toTimezone(localValue, utcOffset, timezone));\n    }\n  }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n  useEffect(function () {\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    if (mergedPopupVisible) {\n      setPageShowDate(defaultPageShowDate);\n      if (shortcutsPlacementLeft) {\n        refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n      }\n    } else {\n      setValueShow(undefined);\n      setShortcutValue(undefined);\n      setTimeout(function () {\n        setIsTimePanel(false);\n        setPanelMode(mode);\n        blurInput();\n      }, 100);\n    }\n  }, [mergedPopupVisible]);\n  function visibleChange(visible) {\n    if (visible) {\n      setOpen(visible, function () {\n        focusInput();\n      });\n    } else {\n      setOpen(false);\n    }\n  }\n  function handlePickerValueChange(v) {\n    onPickerValueChange && onPickerValueChange(v.format(format), v);\n  }\n  function setOpen(visible, callback) {\n    setPopupVisible(visible);\n    onVisibleChange && onVisibleChange(visible);\n    callback && callback();\n  }\n  function onClear(e) {\n    e.stopPropagation();\n    setValue(undefined);\n    setValueShow(undefined);\n    onHandleChange(undefined);\n    props.onClear && props.onClear();\n  }\n  function onClickConfirmBtn() {\n    var pv = getLocaleDayjsValue(panelValue, locale.dayjsLocale);\n    onConfirmValue();\n    onOk && onOk(pv && pv.format(format), pv);\n  }\n  function onConfirmValue() {\n    setValue(panelValue);\n    onHandleChange(panelValue);\n    setOpen(false);\n  }\n  function onHandleSelect(_, date, now) {\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    if (showTime) {\n      var newTime = now ? date : getValueWithTime(date, timeValue);\n      setValueShow(newTime);\n      setPageShowDate(newTime);\n      var localTime = getLocaleDayjsValue(toLocal(newTime, utcOffset, timezone), locale.dayjsLocale);\n      onSelect && onSelect(localTime.format(format), localTime);\n    } else {\n      var localTime = getLocaleDayjsValue(toLocal(date, utcOffset, timezone).locale(locale.dayjsLocale), locale.dayjsLocale);\n      onSelect && onSelect(localTime ? localTime.format(format) : undefined, localTime);\n      setValue(date);\n      onHandleChange(date);\n      setOpen(false);\n    }\n  }\n  function onHandleChange(newValue) {\n    if (isDayjsChange(newValue, mergedValue)) {\n      var localValue = getLocaleDayjsValue(toLocal(newValue, utcOffset, timezone), locale.dayjsLocale);\n      onChange && onChange(localValue ? localValue.format(format) : undefined, localValue);\n    }\n  }\n  function onTimePickerSelect(_, time) {\n    var _valueShow = panelValue || getNow(utcOffset, timezone);\n    var newValueShow = getValueWithTime(_valueShow, time);\n    setValueShow(newValueShow);\n    var localNewValueShow = getLocaleDayjsValue(toLocal(newValueShow, utcOffset, timezone), locale.dayjsLocale);\n    onSelect && onSelect(localNewValueShow.format(format), localNewValueShow);\n  }\n  function isValid(time) {\n    return typeof time === 'string' && dayjs(time, format).format(format) === time && (typeof disabledDate === 'function' ? !disabledDate(dayjs(time, format)) : true);\n  }\n  function onChangeInput(e) {\n    var niv = e.target.value;\n    setInputValue(niv);\n    if (!mergedPopupVisible) {\n      setOpen(true);\n    }\n    if (isValid(niv)) {\n      var newValue = getDayjsValue(niv, format, utcOffset, timezone);\n      setValueShow(newValue);\n      setPageShowDate(newValue);\n      setInputValue(undefined);\n    }\n  }\n  function onPressEnter() {\n    if (panelValue) {\n      onConfirmValue();\n      blurInput();\n    } else if (mergedPopupVisible) {\n      setOpen(false);\n    }\n  }\n  function changePageShowDate(type, unit, num) {\n    if (num === void 0) {\n      num = 1;\n    }\n    var newPageShowDate;\n    if (type === 'prev') {\n      newPageShowDate = methods.subtract(mergedPageShowDate, num, unit);\n    }\n    if (type === 'next') {\n      newPageShowDate = methods.add(mergedPageShowDate, num, unit);\n    }\n    handlePickerValueChange(newPageShowDate);\n    setPageShowDate(newPageShowDate);\n  }\n  function getHeaderOperations(pickMode) {\n    if (pickMode === void 0) {\n      pickMode = mode;\n    }\n    if (pickMode === 'date' || pickMode === 'week') {\n      return {\n        onPrev: function () {\n          return changePageShowDate('prev', 'month');\n        },\n        onNext: function () {\n          return changePageShowDate('next', 'month');\n        },\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year');\n        }\n      };\n    }\n    if (pickMode === 'month' || pickMode === 'quarter') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year');\n        }\n      };\n    }\n    if (pickMode === 'year') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year', 10);\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year', 10);\n        }\n      };\n    }\n  }\n  function onSelectNow() {\n    var now = getLocaleDayjsValue(getNow(utcOffset, timezone), locale.dayjsLocale);\n    handlePickerValueChange(now);\n    onHandleSelect(now.format(format), now, true);\n  }\n  function onMouseEnterCell(value, disabled) {\n    if (!disabled) {\n      var placeHolderValue = showTime ? getValueWithTime(value, timeValue) : value;\n      setHoverPlaceholderValue(typeof realFormat === 'function' ? realFormat(value) : placeHolderValue.locale(locale.dayjsLocale).format(format));\n    }\n  }\n  function onMouseLeaveCell() {\n    setHoverPlaceholderValue(undefined);\n  }\n  function onMouseEnterShortcut(shortcut) {\n    if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n      var sv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      setPageShowDate(sv);\n      handlePickerValueChange(sv);\n      setShortcutValue(sv);\n    }\n  }\n  function onMouseLeaveShortcut() {\n    var newValue = valueShow || mergedValue || getNow(utcOffset, timezone);\n    setShortcutValue(undefined);\n    setPageShowDate(newValue);\n    handlePickerValueChange(newValue);\n  }\n  function onHandleSelectShortcut(shortcut) {\n    onSelectShortcut && onSelectShortcut(shortcut);\n    if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n      var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      setValue(time);\n      onHandleChange(time);\n      setOpen(false);\n    }\n  }\n  function onClickSelectTimeBtn() {\n    setIsTimePanel(!isTimePanel);\n  }\n  function renderPopup(panelOnly) {\n    var _a;\n    var classNames = cs(prefixCls + \"-container\", (_a = {}, _a[prefixCls + \"-panel-only\"] = panelOnly, _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft, _a[prefixCls + \"-container-rtl\"] = rtl, _a), panelOnly ? className : '');\n    var shortcutsProps = {\n      prefixCls: prefixCls,\n      showTime: showTime,\n      shortcuts: shortcuts,\n      onSelectNow: onSelectNow,\n      showNowBtn: showNowBtn,\n      onMouseEnterShortcut: onMouseEnterShortcut,\n      onMouseLeaveShortcut: onMouseLeaveShortcut,\n      onSelectShortcut: onHandleSelectShortcut\n    };\n    var shouldShowFooter = showTime && panelMode === 'date' || extra || isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft || !showTime && panelMode === 'date' && showNowBtn;\n    var content = React.createElement(React.Fragment, null, React.cloneElement(picker, __assign(__assign(__assign({}, omit(props, ['style'])), getHeaderOperations()), {\n      getHeaderOperations: getHeaderOperations,\n      onSelect: onHandleSelect,\n      onTimePickerSelect: onTimePickerSelect,\n      onSelectNow: onSelectNow,\n      popupVisible: mergedPopupVisible,\n      format: format,\n      value: panelValue,\n      pageShowDate: mergedPageShowDate,\n      localeName: locale.dayjsLocale,\n      setPageShowDate: function (v) {\n        setPageShowDate(v);\n        handlePickerValueChange(v);\n      },\n      timeValue: timeValue,\n      isTimePanel: isTimePanel,\n      panelMode: panelMode,\n      setPanelMode: setPanelMode,\n      onMouseEnterCell: onMouseEnterCell,\n      onMouseLeaveCell: onMouseLeaveCell\n    })), shouldShowFooter && React.createElement(Footer, __assign({}, shortcutsProps, {\n      DATEPICKER_LOCALE: DATEPICKER_LOCALE,\n      disabled: !panelValue,\n      onClickConfirmBtn: onClickConfirmBtn,\n      extra: extra,\n      mode: panelMode,\n      shortcutsPlacementLeft: shortcutsPlacementLeft,\n      onClickSelectTimeBtn: onClickSelectTimeBtn,\n      isTimePanel: isTimePanel\n    })));\n    var contentWithShortcuts = shortcutsPlacementLeft ? React.createElement(React.Fragment, null, React.createElement(Shortcuts, __assign({\n      ref: refShortcuts\n    }, shortcutsProps)), React.createElement(\"div\", {\n      ref: refPanel,\n      className: prefixCls + \"-panel-wrapper\"\n    }, content)) : content;\n    var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n    return React.createElement(\"div\", {\n      className: classNames,\n      onClick: function () {\n        refInput.current && refInput.current.focus && refInput.current.focus();\n      },\n      style: panelOnly ? style : {}\n    }, panelNode);\n  }\n  var size = props.size || ctxSize;\n  var suffixIcon = icons && icons.inputSuffix === null ? null : icons && icons.inputSuffix || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n  var baseInputProps = {\n    style: style,\n    className: className,\n    popupVisible: mergedPopupVisible,\n    format: realFormat,\n    disabled: disabled,\n    error: error,\n    status: status,\n    size: size,\n    onPressEnter: onPressEnter,\n    onClear: onClear,\n    prefix: props.prefix,\n    suffixIcon: suffixIcon,\n    editable: editable && typeof realFormat !== 'function',\n    allowClear: allowClear\n  };\n  return React.createElement(PickerContext.Provider, {\n    value: {\n      utcOffset: utcOffset,\n      timezone: timezone,\n      weekStart: weekStart\n    }\n  }, triggerElement === null ? renderPopup(true) : React.createElement(Trigger, __assign({\n    popup: renderPopup,\n    trigger: \"click\",\n    clickToClose: false,\n    position: position,\n    disabled: disabled,\n    popupAlign: {\n      bottom: 4\n    },\n    getPopupContainer: getPopupContainer,\n    onVisibleChange: visibleChange,\n    popupVisible: mergedPopupVisible,\n    classNames: \"slideDynamicOrigin\",\n    unmountOnExit: unmountOnExit\n  }, triggerProps), triggerElement || React.createElement(DateInput, __assign({}, pickDataAttributes(props), baseInputProps, {\n    ref: refInput,\n    placeholder: placeholder || DATEPICKER_LOCALE.placeholder[mode],\n    popupVisible: mergedPopupVisible,\n    value: valueShow || mergedValue,\n    inputValue: hoverPlaceholderValue || inputValue,\n    prefixCls: prefixCls,\n    onChange: onChangeInput,\n    isPlaceholder: !!hoverPlaceholderValue\n  }))));\n};\nexport default Picker;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","React","useState","useRef","useEffect","useContext","Trigger","DateInput","isArray","isDayjs","isObject","isUndefined","cs","ConfigContext","omit","getDayjsValue","dayjs","getNow","getValueWithTime","methods","isDayjsChange","toLocal","toTimezone","IconCalendar","IconCalendarClock","Footer","Shortcuts","useMergeProps","PickerContext","usePrevious","useUpdate","getDefaultWeekStart","getLocaleDayjsValue","pickDataAttributes","getFormat","props","format","picker","showTime","valueFormat","mode","pickerType","defaultProps","allowClear","unmountOnExit","position","editable","showNowBtn","Picker","baseProps","_a","getPrefixCls","locale","ctxSize","size","componentConfig","rtl","DatePicker","className","style","placeholder","getPopupContainer","disabled","status","triggerProps","shortcuts","onSelect","onVisibleChange","propsValue","onChange","icons","disabledDate","onSelectShortcut","extra","shortcutsPlacementLeft","onOk","defaultPickerValue","pickerValue","onPickerValueChange","triggerElement","utcOffset","timezone","panelRender","prefixCls","DATEPICKER_LOCALE","weekStart","dayStartOfWeek","dayjsLocale","refInput","refPanel","refShortcuts","realFormat","getDefaultValue","defaultValue","_b","setValue","_c","popupVisible","setPopupVisible","_d","isTimePanel","setIsTimePanel","_e","hoverPlaceholderValue","setHoverPlaceholderValue","mergedPopupVisible","mergedValue","defaultPageShowDate","_f","inputValue","setInputValue","_g","valueShow","setValueShow","_h","shortcutValue","setShortcutValue","_j","pageShowDate","setPageShowDate","mergedPageShowDate","panelValue","_k","panelMode","setPanelMode","defaultTimeValue","timeValue","focusInput","current","blur","focus","blurInput","previousUtcOffset","previousTimezone","localValue","undefined","maxHeight","clientHeight","setTimeout","visibleChange","visible","setOpen","handlePickerValueChange","v","callback","onClear","stopPropagation","onHandleChange","onClickConfirmBtn","pv","onConfirmValue","onHandleSelect","_","date","now","newTime","localTime","newValue","onTimePickerSelect","time","_valueShow","newValueShow","localNewValueShow","isValid","onChangeInput","niv","target","onPressEnter","changePageShowDate","type","unit","num","newPageShowDate","subtract","add","getHeaderOperations","pickMode","onPrev","onNext","onSuperPrev","onSuperNext","onSelectNow","onMouseEnterCell","placeHolderValue","onMouseLeaveCell","onMouseEnterShortcut","shortcut","sv","onMouseLeaveShortcut","onHandleSelectShortcut","onClickSelectTimeBtn","renderPopup","panelOnly","classNames","shortcutsProps","shouldShowFooter","content","createElement","Fragment","cloneElement","localeName","contentWithShortcuts","ref","panelNode","onClick","suffixIcon","inputSuffix","baseInputProps","prefix","Provider","popup","trigger","clickToClose","popupAlign","bottom","isPlaceholder"],"sources":["D:/Code/ceo-copilot-frontend/node_modules/@arco-design/web-react/es/DatePicker/picker.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState, useRef, useEffect, useContext } from 'react';\nimport Trigger from '../Trigger';\nimport DateInput from '../_class/picker/input';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport omit from '../_util/omit';\nimport { getDayjsValue, dayjs, getNow, getValueWithTime, methods, isDayjsChange, toLocal, toTimezone, } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport PickerContext from './context';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport { getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport { pickDataAttributes } from '../_util/pick';\nfunction getFormat(props) {\n    var format = props.format, picker = props.picker, showTime = props.showTime;\n    var valueFormat;\n    var mode = props.mode || picker.props.pickerType;\n    switch (mode) {\n        case 'date':\n            valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n            break;\n        case 'month':\n            valueFormat = 'YYYY-MM';\n            break;\n        case 'year':\n            valueFormat = 'YYYY';\n            break;\n        case 'week':\n            valueFormat = 'gggg-wo';\n            break;\n        case 'quarter':\n            valueFormat = 'YYYY-[Q]Q';\n            break;\n        default:\n            valueFormat = 'YYYY-MM-DD';\n    }\n    if (format) {\n        valueFormat = format;\n    }\n    return valueFormat;\n}\nvar defaultProps = {\n    allowClear: true,\n    unmountOnExit: true,\n    position: 'bl',\n    editable: true,\n    showNowBtn: true,\n};\nvar Picker = function (baseProps) {\n    var _a = useContext(ConfigContext), getPrefixCls = _a.getPrefixCls, locale = _a.locale, ctxSize = _a.size, componentConfig = _a.componentConfig, rtl = _a.rtl;\n    if (rtl) {\n        defaultProps.position = 'br';\n    }\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n    var allowClear = props.allowClear, className = props.className, style = props.style, placeholder = props.placeholder, getPopupContainer = props.getPopupContainer, disabled = props.disabled, position = props.position, error = props.error, status = props.status, unmountOnExit = props.unmountOnExit, editable = props.editable, triggerProps = props.triggerProps, picker = props.picker, shortcuts = props.shortcuts, onSelect = props.onSelect, onVisibleChange = props.onVisibleChange, propsValue = props.value, onChange = props.onChange, icons = props.icons, disabledDate = props.disabledDate, showTime = props.showTime, showNowBtn = props.showNowBtn, onSelectShortcut = props.onSelectShortcut, extra = props.extra, shortcutsPlacementLeft = props.shortcutsPlacementLeft, onOk = props.onOk, defaultPickerValue = props.defaultPickerValue, pickerValue = props.pickerValue, onPickerValueChange = props.onPickerValueChange, triggerElement = props.triggerElement, utcOffset = props.utcOffset, timezone = props.timezone, panelRender = props.panelRender;\n    var prefixCls = getPrefixCls('picker');\n    var DATEPICKER_LOCALE = locale.DatePicker;\n    var weekStart = isUndefined(props.dayStartOfWeek)\n        ? getDefaultWeekStart(locale.dayjsLocale)\n        : props.dayStartOfWeek;\n    // picker.props.pickerType: Compatible with defaultProps\n    var mode = props.mode || picker.props.pickerType;\n    var refInput = useRef(null);\n    var refPanel = useRef(null);\n    var refShortcuts = useRef(null);\n    var realFormat = getFormat(props);\n    var format = realFormat;\n    if (typeof format === 'function') {\n        format = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n    }\n    function getDefaultValue() {\n        var value;\n        if (props.value) {\n            value = getDayjsValue(props.value, format, utcOffset, timezone);\n        }\n        else {\n            value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n        }\n        return value;\n    }\n    var _b = __read(useState(getDefaultValue()), 2), value = _b[0], setValue = _b[1];\n    var _c = __read(useState(props.popupVisible), 2), popupVisible = _c[0], setPopupVisible = _c[1];\n    var _d = __read(useState(false), 2), isTimePanel = _d[0], setIsTimePanel = _d[1];\n    var _e = __read(useState(), 2), hoverPlaceholderValue = _e[0], setHoverPlaceholderValue = _e[1];\n    var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n    var mergedValue = 'value' in props ? getDayjsValue(propsValue, format, utcOffset, timezone) : value;\n    var defaultPageShowDate = mergedValue || getDayjsValue(defaultPickerValue, format) || getNow();\n    var _f = __read(useState(), 2), inputValue = _f[0], setInputValue = _f[1];\n    var _g = __read(useState(), 2), valueShow = _g[0], setValueShow = _g[1];\n    var _h = __read(useState(), 2), shortcutValue = _h[0], setShortcutValue = _h[1];\n    var _j = __read(useState(defaultPageShowDate), 2), pageShowDate = _j[0], setPageShowDate = _j[1];\n    var mergedPageShowDate = getDayjsValue(pickerValue, format) || pageShowDate;\n    var panelValue = shortcutValue || valueShow || mergedValue;\n    var _k = __read(useState(mode), 2), panelMode = _k[0], setPanelMode = _k[1];\n    var defaultTimeValue = (isObject(showTime) &&\n        getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss', utcOffset, timezone)) ||\n        getNow(utcOffset, timezone);\n    var timeValue = panelValue || defaultTimeValue;\n    function focusInput() {\n        refInput.current && refInput.current.blur && refInput.current.focus();\n    }\n    function blurInput() {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n    }\n    var previousUtcOffset = usePrevious(utcOffset);\n    var previousTimezone = usePrevious(timezone);\n    // when timezone or utcOffset change changed\n    useUpdate(function () {\n        if (value && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n            var localValue = toLocal(value, previousUtcOffset, previousTimezone);\n            setValue(toTimezone(localValue, utcOffset, timezone));\n        }\n    }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n    useEffect(function () {\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        if (mergedPopupVisible) {\n            setPageShowDate(defaultPageShowDate);\n            if (shortcutsPlacementLeft) {\n                refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n            }\n        }\n        else {\n            setValueShow(undefined);\n            setShortcutValue(undefined);\n            setTimeout(function () {\n                setIsTimePanel(false);\n                setPanelMode(mode);\n                blurInput();\n            }, 100);\n        }\n    }, [mergedPopupVisible]);\n    function visibleChange(visible) {\n        if (visible) {\n            setOpen(visible, function () {\n                focusInput();\n            });\n        }\n        else {\n            setOpen(false);\n        }\n    }\n    function handlePickerValueChange(v) {\n        onPickerValueChange && onPickerValueChange(v.format(format), v);\n    }\n    function setOpen(visible, callback) {\n        setPopupVisible(visible);\n        onVisibleChange && onVisibleChange(visible);\n        callback && callback();\n    }\n    function onClear(e) {\n        e.stopPropagation();\n        setValue(undefined);\n        setValueShow(undefined);\n        onHandleChange(undefined);\n        props.onClear && props.onClear();\n    }\n    function onClickConfirmBtn() {\n        var pv = getLocaleDayjsValue(panelValue, locale.dayjsLocale);\n        onConfirmValue();\n        onOk && onOk(pv && pv.format(format), pv);\n    }\n    function onConfirmValue() {\n        setValue(panelValue);\n        onHandleChange(panelValue);\n        setOpen(false);\n    }\n    function onHandleSelect(_, date, now) {\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        if (showTime) {\n            var newTime = now ? date : getValueWithTime(date, timeValue);\n            setValueShow(newTime);\n            setPageShowDate(newTime);\n            var localTime = getLocaleDayjsValue(toLocal(newTime, utcOffset, timezone), locale.dayjsLocale);\n            onSelect && onSelect(localTime.format(format), localTime);\n        }\n        else {\n            var localTime = getLocaleDayjsValue(toLocal(date, utcOffset, timezone).locale(locale.dayjsLocale), locale.dayjsLocale);\n            onSelect && onSelect(localTime ? localTime.format(format) : undefined, localTime);\n            setValue(date);\n            onHandleChange(date);\n            setOpen(false);\n        }\n    }\n    function onHandleChange(newValue) {\n        if (isDayjsChange(newValue, mergedValue)) {\n            var localValue = getLocaleDayjsValue(toLocal(newValue, utcOffset, timezone), locale.dayjsLocale);\n            onChange && onChange(localValue ? localValue.format(format) : undefined, localValue);\n        }\n    }\n    function onTimePickerSelect(_, time) {\n        var _valueShow = panelValue || getNow(utcOffset, timezone);\n        var newValueShow = getValueWithTime(_valueShow, time);\n        setValueShow(newValueShow);\n        var localNewValueShow = getLocaleDayjsValue(toLocal(newValueShow, utcOffset, timezone), locale.dayjsLocale);\n        onSelect && onSelect(localNewValueShow.format(format), localNewValueShow);\n    }\n    function isValid(time) {\n        return (typeof time === 'string' &&\n            dayjs(time, format).format(format) === time &&\n            (typeof disabledDate === 'function' ? !disabledDate(dayjs(time, format)) : true));\n    }\n    function onChangeInput(e) {\n        var niv = e.target.value;\n        setInputValue(niv);\n        if (!mergedPopupVisible) {\n            setOpen(true);\n        }\n        if (isValid(niv)) {\n            var newValue = getDayjsValue(niv, format, utcOffset, timezone);\n            setValueShow(newValue);\n            setPageShowDate(newValue);\n            setInputValue(undefined);\n        }\n    }\n    function onPressEnter() {\n        if (panelValue) {\n            onConfirmValue();\n            blurInput();\n        }\n        else if (mergedPopupVisible) {\n            setOpen(false);\n        }\n    }\n    function changePageShowDate(type, unit, num) {\n        if (num === void 0) { num = 1; }\n        var newPageShowDate;\n        if (type === 'prev') {\n            newPageShowDate = methods.subtract(mergedPageShowDate, num, unit);\n        }\n        if (type === 'next') {\n            newPageShowDate = methods.add(mergedPageShowDate, num, unit);\n        }\n        handlePickerValueChange(newPageShowDate);\n        setPageShowDate(newPageShowDate);\n    }\n    function getHeaderOperations(pickMode) {\n        if (pickMode === void 0) { pickMode = mode; }\n        if (pickMode === 'date' || pickMode === 'week') {\n            return {\n                onPrev: function () { return changePageShowDate('prev', 'month'); },\n                onNext: function () { return changePageShowDate('next', 'month'); },\n                onSuperPrev: function () { return changePageShowDate('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDate('next', 'year'); },\n            };\n        }\n        if (pickMode === 'month' || pickMode === 'quarter') {\n            return {\n                onSuperPrev: function () { return changePageShowDate('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDate('next', 'year'); },\n            };\n        }\n        if (pickMode === 'year') {\n            return {\n                onSuperPrev: function () { return changePageShowDate('prev', 'year', 10); },\n                onSuperNext: function () { return changePageShowDate('next', 'year', 10); },\n            };\n        }\n    }\n    function onSelectNow() {\n        var now = getLocaleDayjsValue(getNow(utcOffset, timezone), locale.dayjsLocale);\n        handlePickerValueChange(now);\n        onHandleSelect(now.format(format), now, true);\n    }\n    function onMouseEnterCell(value, disabled) {\n        if (!disabled) {\n            var placeHolderValue = showTime ? getValueWithTime(value, timeValue) : value;\n            setHoverPlaceholderValue(typeof realFormat === 'function'\n                ? realFormat(value)\n                : placeHolderValue.locale(locale.dayjsLocale).format(format));\n        }\n    }\n    function onMouseLeaveCell() {\n        setHoverPlaceholderValue(undefined);\n    }\n    function onMouseEnterShortcut(shortcut) {\n        if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n            var sv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            setPageShowDate(sv);\n            handlePickerValueChange(sv);\n            setShortcutValue(sv);\n        }\n    }\n    function onMouseLeaveShortcut() {\n        var newValue = valueShow || mergedValue || getNow(utcOffset, timezone);\n        setShortcutValue(undefined);\n        setPageShowDate(newValue);\n        handlePickerValueChange(newValue);\n    }\n    function onHandleSelectShortcut(shortcut) {\n        onSelectShortcut && onSelectShortcut(shortcut);\n        if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n            var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            setValue(time);\n            onHandleChange(time);\n            setOpen(false);\n        }\n    }\n    function onClickSelectTimeBtn() {\n        setIsTimePanel(!isTimePanel);\n    }\n    function renderPopup(panelOnly) {\n        var _a;\n        var classNames = cs(prefixCls + \"-container\", (_a = {},\n            _a[prefixCls + \"-panel-only\"] = panelOnly,\n            _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft,\n            _a[prefixCls + \"-container-rtl\"] = rtl,\n            _a), panelOnly ? className : '');\n        var shortcutsProps = {\n            prefixCls: prefixCls,\n            showTime: showTime,\n            shortcuts: shortcuts,\n            onSelectNow: onSelectNow,\n            showNowBtn: showNowBtn,\n            onMouseEnterShortcut: onMouseEnterShortcut,\n            onMouseLeaveShortcut: onMouseLeaveShortcut,\n            onSelectShortcut: onHandleSelectShortcut,\n        };\n        var shouldShowFooter = (showTime && panelMode === 'date') ||\n            extra ||\n            (isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft) ||\n            (!showTime && panelMode === 'date' && showNowBtn);\n        var content = (React.createElement(React.Fragment, null,\n            React.cloneElement(picker, __assign(__assign(__assign({}, omit(props, ['style'])), getHeaderOperations()), { getHeaderOperations: getHeaderOperations, onSelect: onHandleSelect, onTimePickerSelect: onTimePickerSelect, onSelectNow: onSelectNow, popupVisible: mergedPopupVisible, format: format, value: panelValue, pageShowDate: mergedPageShowDate, localeName: locale.dayjsLocale, setPageShowDate: function (v) {\n                    setPageShowDate(v);\n                    handlePickerValueChange(v);\n                }, timeValue: timeValue, isTimePanel: isTimePanel, panelMode: panelMode, setPanelMode: setPanelMode, onMouseEnterCell: onMouseEnterCell, onMouseLeaveCell: onMouseLeaveCell })),\n            shouldShowFooter && (React.createElement(Footer, __assign({}, shortcutsProps, { DATEPICKER_LOCALE: DATEPICKER_LOCALE, disabled: !panelValue, onClickConfirmBtn: onClickConfirmBtn, extra: extra, mode: panelMode, shortcutsPlacementLeft: shortcutsPlacementLeft, onClickSelectTimeBtn: onClickSelectTimeBtn, isTimePanel: isTimePanel })))));\n        var contentWithShortcuts = shortcutsPlacementLeft ? (React.createElement(React.Fragment, null,\n            React.createElement(Shortcuts, __assign({ ref: refShortcuts }, shortcutsProps)),\n            React.createElement(\"div\", { ref: refPanel, className: prefixCls + \"-panel-wrapper\" }, content))) : (content);\n        var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n        return (React.createElement(\"div\", { className: classNames, onClick: function () {\n                refInput.current && refInput.current.focus && refInput.current.focus();\n            }, style: panelOnly ? style : {} }, panelNode));\n    }\n    var size = props.size || ctxSize;\n    var suffixIcon = icons && icons.inputSuffix === null\n        ? null\n        : (icons && icons.inputSuffix) || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n    var baseInputProps = {\n        style: style,\n        className: className,\n        popupVisible: mergedPopupVisible,\n        format: realFormat,\n        disabled: disabled,\n        error: error,\n        status: status,\n        size: size,\n        onPressEnter: onPressEnter,\n        onClear: onClear,\n        prefix: props.prefix,\n        suffixIcon: suffixIcon,\n        editable: editable && typeof realFormat !== 'function',\n        allowClear: allowClear,\n    };\n    return (React.createElement(PickerContext.Provider, { value: { utcOffset: utcOffset, timezone: timezone, weekStart: weekStart } }, triggerElement === null ? (renderPopup(true)) : (React.createElement(Trigger, __assign({ popup: renderPopup, trigger: \"click\", clickToClose: false, position: position, disabled: disabled, popupAlign: { bottom: 4 }, getPopupContainer: getPopupContainer, onVisibleChange: visibleChange, popupVisible: mergedPopupVisible, classNames: \"slideDynamicOrigin\", unmountOnExit: unmountOnExit }, triggerProps), triggerElement || (React.createElement(DateInput, __assign({}, pickDataAttributes(props), baseInputProps, { ref: refInput, placeholder: placeholder || DATEPICKER_LOCALE.placeholder[mode], popupVisible: mergedPopupVisible, value: valueShow || mergedValue, inputValue: hoverPlaceholderValue || inputValue, prefixCls: prefixCls, onChange: onChangeInput, isPlaceholder: !!hoverPlaceholderValue })))))));\n};\nexport default Picker;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}