{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { forwardRef, useContext, useEffect, useRef, useState, useImperativeHandle, useMemo, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport useStateValue, { parseValue } from './hook/useStateValue';\nimport { normalizeValueToArray } from './utils';\nimport { isArray, isFunction, isNullOrUndefined, isObject } from '../_util/is';\nimport Trigger from '../Trigger';\nimport Tree from '../Tree';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getAllCheckedKeysByCheck } from '../Tree/util';\nimport SelectView from '../_class/select-view';\nimport { DefaultFieldNames } from './interface';\nimport useTreeData from './hook/useTreeData';\nimport useKeyCache from './hook/useKeyCache';\nimport TreeList from './tree-list';\nimport useMergeValue from '../_util/hooks/useMergeValue';\nimport cs from '../_util/classNames';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useIsFirstRender from '../_util/hooks/useIsFirstRender';\nimport useId from '../_util/hooks/useId';\nfunction isEmptyValue(value) {\n  return !value || isArray(value) && value.length === 0 || isObject(value) && Object.keys(value).length === 0;\n}\nvar defaultProps = {\n  bordered: true,\n  treeCheckedStrategy: Tree.SHOW_CHILD,\n  fieldNames: DefaultFieldNames\n};\nvar TreeSelect = function (baseProps, ref) {\n  var _a = useContext(ConfigContext),\n    getPrefixCls = _a.getPrefixCls,\n    renderEmpty = _a.renderEmpty,\n    componentConfig = _a.componentConfig,\n    rtl = _a.rtl;\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.TreeSelect);\n  var refIsFirstRender = useIsFirstRender();\n  var triggerRef = useRef();\n  var treeRef = useRef(null);\n  var refSelectView = useRef(null);\n  var indeterminateKeys = useRef([]);\n  var _b = __read(useTreeData(props), 1),\n    treeData = _b[0];\n  var key2nodeProps = useKeyCache(treeData, props.fieldNames);\n  var _c = __read(useState(), 2),\n    hitKeys = _c[0],\n    setHitKeys = _c[1];\n  var _d = __read(useMergeValue(false, {\n      value: props.popupVisible\n    }), 2),\n    popupVisible = _d[0],\n    setPopupVisible = _d[1];\n  var _e = __read(useMergeValue(undefined,\n    // Compatible with previous behavior 'undefined as default'\n    {\n      value: 'inputValue' in props ? props.inputValue || '' : undefined\n    }), 2),\n    inputValue = _e[0],\n    setInputValue = _e[1];\n  // 触发 onInputValueChange 回调的值\n  var refOnInputChangeCallbackValue = useRef(inputValue);\n  // 触发 onInputValueChange 回调的原因\n  var refOnInputChangeCallbackReason = useRef(null);\n  var onInputValueChange = props.onInputValueChange;\n  var _f = __read(useStateValue(props, key2nodeProps, indeterminateKeys), 2),\n    value = _f[0],\n    setValue = _f[1];\n  var multiple = props.multiple || props.treeCheckable;\n  var prefixCls = getPrefixCls('tree-select');\n  var isFilterNode = inputValue && !isFunction(props.onSearch);\n  // Unique ID of this select instance\n  var instancePopupID = useId(prefixCls + \"-popup-\");\n  var tryUpdatePopupVisible = function (visible) {\n    var _a;\n    if (visible !== popupVisible) {\n      setPopupVisible(visible);\n      (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, visible);\n    }\n  };\n  // 尝试更新 inputValue，并触发 onInputValueChange\n  var tryUpdateInputValue = function (value, reason) {\n    if (value !== refOnInputChangeCallbackValue.current || reason !== refOnInputChangeCallbackReason.current) {\n      setInputValue(value);\n      refOnInputChangeCallbackValue.current = value;\n      refOnInputChangeCallbackReason.current = reason;\n      onInputValueChange && onInputValueChange(value, reason);\n    }\n  };\n  var handleSearch = useCallback(function (inputText) {\n    var search = debounce(function (inputText) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var hitKeys;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!isFunction(props.onSearch)) return [3 /*break*/, 2];\n              return [4 /*yield*/, props.onSearch(inputText)];\n            case 1:\n              _a.sent();\n              return [2 /*return*/];\n            case 2:\n              if (!inputText) return [2 /*return*/, treeData];\n              hitKeys = new Set();\n              Object.keys(key2nodeProps).forEach(function (key) {\n                var nodeProps = key2nodeProps[key];\n                var isHit = false;\n                if (isFunction(props.filterTreeNode)) {\n                  // @ts-ignore\n                  if (props.filterTreeNode(inputText, React.createElement(Tree.Node, __assign({}, nodeProps)))) {\n                    isHit = true;\n                  }\n                } else {\n                  var text = nodeProps.value || nodeProps._key;\n                  if (text && text.indexOf(inputText) > -1) {\n                    isHit = true;\n                  }\n                }\n                if (isHit) {\n                  hitKeys.add(nodeProps.key);\n                }\n              });\n              setHitKeys(hitKeys);\n              return [2 /*return*/];\n          }\n        });\n      });\n    }, 100);\n    return search(inputText);\n  }, [props.onSearch, treeData, key2nodeProps, props.filterTreeNode]);\n  var resetInputValue = useCallback(function () {\n    // 多选选中值时候不清除搜索文本\n    var retainInputValueWhileSelect = true;\n    if (isObject(props.showSearch)) {\n      retainInputValueWhileSelect = props.showSearch.retainInputValueWhileSelect !== false;\n    }\n    // default scene: inputValue = refOnInputChangeCallbackValue =  undefined\n    // if updateTo ''，will trigger an unnecessary onsearch\n    if (props.multiple && !retainInputValueWhileSelect && inputValue !== undefined) {\n      tryUpdateInputValue('', 'optionChecked');\n    }\n  }, [inputValue, props.multiple, JSON.stringify(props.showSearch)]);\n  var triggerChange = useCallback(function (newValue, extra) {\n    setValue(newValue, extra);\n    resetInputValue();\n    if (!multiple) {\n      tryUpdatePopupVisible(false);\n    }\n  }, [setValue, resetInputValue, popupVisible]);\n  var handleRemoveCheckedItem = function (item, index, e) {\n    e.stopPropagation();\n    if (item.disabled) {\n      return;\n    }\n    var itemValue = isObject(item.value) ? item.value.value : item.value;\n    if (!props.treeCheckable || props.treeCheckStrictly || !key2nodeProps[itemValue]) {\n      var newValue = value.filter(function (_, i) {\n        return i !== index;\n      });\n      triggerChange(newValue, {\n        trigger: key2nodeProps[itemValue] || item,\n        checked: false,\n        selected: false\n      });\n      return;\n    }\n    var result = getAllCheckedKeysByCheck(itemValue, false, normalizeValueToArray(value), key2nodeProps, indeterminateKeys.current);\n    indeterminateKeys.current = result.indeterminateKeys;\n    triggerChange(parseValue(result.checkedKeys, key2nodeProps, value), {\n      trigger: key2nodeProps[itemValue],\n      checked: false,\n      selected: false\n    });\n  };\n  useEffect(function () {\n    inputValue !== undefined && handleSearch(inputValue);\n    if (inputValue !== refOnInputChangeCallbackValue.current) {\n      refOnInputChangeCallbackValue.current = inputValue;\n    }\n  }, [inputValue]);\n  var searchKeys = useMemo(function () {\n    var newKeys = [];\n    if (inputValue) {\n      for (var key in key2nodeProps) {\n        var item = key2nodeProps[key];\n        var pathKeys = __spreadArray(__spreadArray([], __read(item.pathParentKeys), false), [key], false);\n        if (pathKeys.some(function (_key) {\n          return hitKeys && hitKeys.has(_key);\n        })) {\n          newKeys = newKeys.concat(pathKeys);\n        }\n      }\n    }\n    return Array.from(new Set(newKeys));\n  }, [inputValue, key2nodeProps, hitKeys]);\n  useEffect(function () {\n    if (popupVisible) {\n      setTimeout(function () {\n        var target = value[0];\n        if (treeRef.current && target) {\n          treeRef.current.scrollIntoView(target.value);\n        }\n      });\n    } else if (!refIsFirstRender) {\n      inputValue && tryUpdateInputValue('', 'optionListHide');\n    }\n  }, [popupVisible]);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function () {\n        refSelectView.current && refSelectView.current.focus();\n      },\n      blur: function () {\n        refSelectView.current && refSelectView.current.blur();\n      }\n    };\n  });\n  var filterNode = useCallback(function (node) {\n    return isFilterNode ? searchKeys.indexOf(node._key) > -1 : true;\n  }, [isFilterNode, searchKeys]);\n  var renderText = useCallback(function (val) {\n    var _a = val || {},\n      disabled = _a.disabled,\n      value = _a.value;\n    var label = val === null || val === void 0 ? void 0 : val.label;\n    if (isFunction(props.renderFormat)) {\n      label = props.renderFormat(key2nodeProps[value] || null, props.labelInValue ? val : value);\n    }\n    return {\n      text: label || value || '',\n      disabled: disabled\n    };\n  }, [props.renderFormat, props.labelInValue]);\n  var tryUpdateSelectValue = function (value) {\n    setValue(value, {});\n  };\n  var renderView = function (eleView) {\n    return React.createElement(Trigger, __assign({\n      autoAlignPopupWidth: false,\n      autoAlignPopupMinWidth: true,\n      ref: triggerRef,\n      classNames: \"slideDynamicOrigin\",\n      trigger: \"click\",\n      position: \"bl\",\n      getPopupContainer: props.getPopupContainer,\n      popupAlign: {\n        bottom: 4\n      },\n      unmountOnExit: props.unmountOnExit\n    }, props.triggerProps, {\n      className: cs(prefixCls + \"-trigger\", props.triggerProps && props.triggerProps.className),\n      popup: function () {\n        var _a;\n        var _b, _c, _d;\n        var dropdownRender = props.dropdownRender;\n        var dom = isFilterNode && isEmptyValue(searchKeys) || isEmptyValue(treeData) ? props.notFoundContent || renderEmpty('TreeSelect') : React.createElement(TreeList, __assign({\n          prefixCls: prefixCls,\n          ref: treeRef\n        }, props, {\n          inputValue: inputValue,\n          filterNode: filterNode,\n          value: value,\n          onChange: triggerChange,\n          multiple: multiple,\n          treeData: treeData\n        }));\n        return React.createElement(\"div\", {\n          id: instancePopupID,\n          className: cs(prefixCls + \"-popup\", (_a = {}, _a[prefixCls + \"-rtl-popup\"] = rtl, _a)),\n          style: __assign({\n            maxHeight: ((_b = props.treeProps) === null || _b === void 0 ? void 0 : _b.height) || ((_d = (_c = props.treeProps) === null || _c === void 0 ? void 0 : _c.virtualListProps) === null || _d === void 0 ? void 0 : _d.height) ? 'unset' : ''\n          }, props.dropdownMenuStyle)\n        }, isFunction(dropdownRender) ? dropdownRender(dom) : dom);\n      },\n      disabled: props.disabled,\n      onVisibleChange: function (visible) {\n        tryUpdatePopupVisible(visible);\n        // props.onVisibleChange && props.onVisibleChange(visible);\n      },\n      popupVisible: popupVisible\n    }), eleView);\n  };\n  var customTriggerElement = typeof props.triggerElement === 'function' ? function () {\n    var _a;\n    var valueForCallback;\n    if (multiple) {\n      valueForCallback = value.map(function (x) {\n        return props.labelInValue ? {\n          label: x.label,\n          value: x.value\n        } : x.value;\n      });\n    } else {\n      valueForCallback = props.labelInValue ? value[0] : (_a = value[0]) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    return props.triggerElement({\n      value: valueForCallback\n    });\n  }() : props.triggerElement;\n  return !isNullOrUndefined(customTriggerElement) ? renderView(customTriggerElement) : React.createElement(SelectView, __assign({\n    ref: refSelectView,\n    rtl: rtl,\n    ariaControls: instancePopupID\n  }, props, {\n    popupVisible: popupVisible,\n    value: !multiple && isArray(value) ? value[0] : value,\n    inputValue: inputValue,\n    // other\n    isEmptyValue: isEmptyValue(value),\n    prefixCls: prefixCls,\n    isMultiple: multiple,\n    renderText: renderText,\n    onSort: tryUpdateSelectValue,\n    onRemoveCheckedItem: handleRemoveCheckedItem,\n    onClear: function (e) {\n      var _a;\n      e.stopPropagation();\n      triggerChange([], {});\n      (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props, !!popupVisible);\n    },\n    onKeyDown: function (e) {\n      var _a;\n      e.stopPropagation();\n      (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onFocus: function (e) {\n      e && e.stopPropagation();\n    },\n    onChangeInputValue: function (value) {\n      tryUpdateInputValue(value, 'manual');\n    },\n    renderView: renderView\n  }));\n};\nvar ForwardRefTreeSelect = forwardRef(TreeSelect);\nvar TreeSelectComponent = ForwardRefTreeSelect;\nTreeSelectComponent.displayName = 'TreeSelect';\nTreeSelectComponent.Node = Tree.Node;\nTreeSelectComponent.SHOW_ALL = Tree.SHOW_ALL;\nTreeSelectComponent.SHOW_PARENT = Tree.SHOW_PARENT;\nTreeSelectComponent.SHOW_CHILD = Tree.SHOW_CHILD;\nexport default TreeSelectComponent;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","Array","slice","concat","React","forwardRef","useContext","useEffect","useRef","useState","useImperativeHandle","useMemo","useCallback","debounce","useStateValue","parseValue","normalizeValueToArray","isArray","isFunction","isNullOrUndefined","isObject","Trigger","Tree","ConfigContext","getAllCheckedKeysByCheck","SelectView","DefaultFieldNames","useTreeData","useKeyCache","TreeList","useMergeValue","cs","useMergeProps","useIsFirstRender","useId","isEmptyValue","keys","defaultProps","bordered","treeCheckedStrategy","SHOW_CHILD","fieldNames","TreeSelect","baseProps","ref","_a","getPrefixCls","renderEmpty","componentConfig","rtl","props","refIsFirstRender","triggerRef","treeRef","refSelectView","indeterminateKeys","_b","treeData","key2nodeProps","_c","hitKeys","setHitKeys","_d","popupVisible","setPopupVisible","_e","undefined","inputValue","setInputValue","refOnInputChangeCallbackValue","refOnInputChangeCallbackReason","onInputValueChange","_f","setValue","multiple","treeCheckable","prefixCls","isFilterNode","onSearch","instancePopupID","tryUpdatePopupVisible","visible","onVisibleChange","tryUpdateInputValue","reason","current","handleSearch","inputText","search","Set","forEach","key","nodeProps","isHit","filterTreeNode","createElement","Node","text","_key","indexOf","add","resetInputValue","retainInputValueWhileSelect","showSearch","JSON","stringify","triggerChange","newValue","extra","handleRemoveCheckedItem","item","index","stopPropagation","disabled","itemValue","treeCheckStrictly","filter","trigger","checked","selected","checkedKeys","searchKeys","newKeys","pathKeys","pathParentKeys","some","has","setTimeout","target","scrollIntoView","focus","blur","filterNode","node","renderText","val","renderFormat","labelInValue","tryUpdateSelectValue","renderView","eleView","autoAlignPopupWidth","autoAlignPopupMinWidth","classNames","position","getPopupContainer","popupAlign","bottom","unmountOnExit","triggerProps","className","popup","dropdownRender","dom","notFoundContent","onChange","id","style","maxHeight","treeProps","height","virtualListProps","dropdownMenuStyle","customTriggerElement","triggerElement","valueForCallback","map","x","ariaControls","isMultiple","onSort","onRemoveCheckedItem","onClear","onKeyDown","onFocus","onChangeInputValue","ForwardRefTreeSelect","TreeSelectComponent","displayName","SHOW_ALL","SHOW_PARENT"],"sources":["D:/Code/LegalGPT-frontend/node_modules/@arco-design/web-react/es/TreeSelect/tree-select.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { forwardRef, useContext, useEffect, useRef, useState, useImperativeHandle, useMemo, useCallback, } from 'react';\nimport debounce from 'lodash/debounce';\nimport useStateValue, { parseValue } from './hook/useStateValue';\nimport { normalizeValueToArray } from './utils';\nimport { isArray, isFunction, isNullOrUndefined, isObject } from '../_util/is';\nimport Trigger from '../Trigger';\nimport Tree from '../Tree';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getAllCheckedKeysByCheck } from '../Tree/util';\nimport SelectView from '../_class/select-view';\nimport { DefaultFieldNames, } from './interface';\nimport useTreeData from './hook/useTreeData';\nimport useKeyCache from './hook/useKeyCache';\nimport TreeList from './tree-list';\nimport useMergeValue from '../_util/hooks/useMergeValue';\nimport cs from '../_util/classNames';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useIsFirstRender from '../_util/hooks/useIsFirstRender';\nimport useId from '../_util/hooks/useId';\nfunction isEmptyValue(value) {\n    return (!value ||\n        (isArray(value) && value.length === 0) ||\n        (isObject(value) && Object.keys(value).length === 0));\n}\nvar defaultProps = {\n    bordered: true,\n    treeCheckedStrategy: Tree.SHOW_CHILD,\n    fieldNames: DefaultFieldNames,\n};\nvar TreeSelect = function (baseProps, ref) {\n    var _a = useContext(ConfigContext), getPrefixCls = _a.getPrefixCls, renderEmpty = _a.renderEmpty, componentConfig = _a.componentConfig, rtl = _a.rtl;\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.TreeSelect);\n    var refIsFirstRender = useIsFirstRender();\n    var triggerRef = useRef();\n    var treeRef = useRef(null);\n    var refSelectView = useRef(null);\n    var indeterminateKeys = useRef([]);\n    var _b = __read(useTreeData(props), 1), treeData = _b[0];\n    var key2nodeProps = useKeyCache(treeData, props.fieldNames);\n    var _c = __read(useState(), 2), hitKeys = _c[0], setHitKeys = _c[1];\n    var _d = __read(useMergeValue(false, {\n        value: props.popupVisible,\n    }), 2), popupVisible = _d[0], setPopupVisible = _d[1];\n    var _e = __read(useMergeValue(undefined, // Compatible with previous behavior 'undefined as default'\n    {\n        value: 'inputValue' in props ? props.inputValue || '' : undefined,\n    }), 2), inputValue = _e[0], setInputValue = _e[1];\n    // 触发 onInputValueChange 回调的值\n    var refOnInputChangeCallbackValue = useRef(inputValue);\n    // 触发 onInputValueChange 回调的原因\n    var refOnInputChangeCallbackReason = useRef(null);\n    var onInputValueChange = props.onInputValueChange;\n    var _f = __read(useStateValue(props, key2nodeProps, indeterminateKeys), 2), value = _f[0], setValue = _f[1];\n    var multiple = props.multiple || props.treeCheckable;\n    var prefixCls = getPrefixCls('tree-select');\n    var isFilterNode = inputValue && !isFunction(props.onSearch);\n    // Unique ID of this select instance\n    var instancePopupID = useId(prefixCls + \"-popup-\");\n    var tryUpdatePopupVisible = function (visible) {\n        var _a;\n        if (visible !== popupVisible) {\n            setPopupVisible(visible);\n            (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, visible);\n        }\n    };\n    // 尝试更新 inputValue，并触发 onInputValueChange\n    var tryUpdateInputValue = function (value, reason) {\n        if (value !== refOnInputChangeCallbackValue.current ||\n            reason !== refOnInputChangeCallbackReason.current) {\n            setInputValue(value);\n            refOnInputChangeCallbackValue.current = value;\n            refOnInputChangeCallbackReason.current = reason;\n            onInputValueChange && onInputValueChange(value, reason);\n        }\n    };\n    var handleSearch = useCallback(function (inputText) {\n        var search = debounce(function (inputText) { return __awaiter(void 0, void 0, void 0, function () {\n            var hitKeys;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!isFunction(props.onSearch)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, props.onSearch(inputText)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                    case 2:\n                        if (!inputText)\n                            return [2 /*return*/, treeData];\n                        hitKeys = new Set();\n                        Object.keys(key2nodeProps).forEach(function (key) {\n                            var nodeProps = key2nodeProps[key];\n                            var isHit = false;\n                            if (isFunction(props.filterTreeNode)) {\n                                // @ts-ignore\n                                if (props.filterTreeNode(inputText, React.createElement(Tree.Node, __assign({}, nodeProps)))) {\n                                    isHit = true;\n                                }\n                            }\n                            else {\n                                var text = nodeProps.value || nodeProps._key;\n                                if (text && text.indexOf(inputText) > -1) {\n                                    isHit = true;\n                                }\n                            }\n                            if (isHit) {\n                                hitKeys.add(nodeProps.key);\n                            }\n                        });\n                        setHitKeys(hitKeys);\n                        return [2 /*return*/];\n                }\n            });\n        }); }, 100);\n        return search(inputText);\n    }, [props.onSearch, treeData, key2nodeProps, props.filterTreeNode]);\n    var resetInputValue = useCallback(function () {\n        // 多选选中值时候不清除搜索文本\n        var retainInputValueWhileSelect = true;\n        if (isObject(props.showSearch)) {\n            retainInputValueWhileSelect = props.showSearch.retainInputValueWhileSelect !== false;\n        }\n        // default scene: inputValue = refOnInputChangeCallbackValue =  undefined\n        // if updateTo ''，will trigger an unnecessary onsearch\n        if (props.multiple && !retainInputValueWhileSelect && inputValue !== undefined) {\n            tryUpdateInputValue('', 'optionChecked');\n        }\n    }, [inputValue, props.multiple, JSON.stringify(props.showSearch)]);\n    var triggerChange = useCallback(function (newValue, extra) {\n        setValue(newValue, extra);\n        resetInputValue();\n        if (!multiple) {\n            tryUpdatePopupVisible(false);\n        }\n    }, [setValue, resetInputValue, popupVisible]);\n    var handleRemoveCheckedItem = function (item, index, e) {\n        e.stopPropagation();\n        if (item.disabled) {\n            return;\n        }\n        var itemValue = isObject(item.value) ? item.value.value : item.value;\n        if (!props.treeCheckable || props.treeCheckStrictly || !key2nodeProps[itemValue]) {\n            var newValue = value.filter(function (_, i) { return i !== index; });\n            triggerChange(newValue, {\n                trigger: key2nodeProps[itemValue] || item,\n                checked: false,\n                selected: false,\n            });\n            return;\n        }\n        var result = getAllCheckedKeysByCheck(itemValue, false, normalizeValueToArray(value), key2nodeProps, indeterminateKeys.current);\n        indeterminateKeys.current = result.indeterminateKeys;\n        triggerChange(parseValue(result.checkedKeys, key2nodeProps, value), {\n            trigger: key2nodeProps[itemValue],\n            checked: false,\n            selected: false,\n        });\n    };\n    useEffect(function () {\n        inputValue !== undefined && handleSearch(inputValue);\n        if (inputValue !== refOnInputChangeCallbackValue.current) {\n            refOnInputChangeCallbackValue.current = inputValue;\n        }\n    }, [inputValue]);\n    var searchKeys = useMemo(function () {\n        var newKeys = [];\n        if (inputValue) {\n            for (var key in key2nodeProps) {\n                var item = key2nodeProps[key];\n                var pathKeys = __spreadArray(__spreadArray([], __read(item.pathParentKeys), false), [key], false);\n                if (pathKeys.some(function (_key) { return hitKeys && hitKeys.has(_key); })) {\n                    newKeys = newKeys.concat(pathKeys);\n                }\n            }\n        }\n        return Array.from(new Set(newKeys));\n    }, [inputValue, key2nodeProps, hitKeys]);\n    useEffect(function () {\n        if (popupVisible) {\n            setTimeout(function () {\n                var target = value[0];\n                if (treeRef.current && target) {\n                    treeRef.current.scrollIntoView(target.value);\n                }\n            });\n        }\n        else if (!refIsFirstRender) {\n            inputValue && tryUpdateInputValue('', 'optionListHide');\n        }\n    }, [popupVisible]);\n    useImperativeHandle(ref, function () { return ({\n        focus: function () {\n            refSelectView.current && refSelectView.current.focus();\n        },\n        blur: function () {\n            refSelectView.current && refSelectView.current.blur();\n        },\n    }); });\n    var filterNode = useCallback(function (node) {\n        return isFilterNode ? searchKeys.indexOf(node._key) > -1 : true;\n    }, [isFilterNode, searchKeys]);\n    var renderText = useCallback(function (val) {\n        var _a = val || {}, disabled = _a.disabled, value = _a.value;\n        var label = val === null || val === void 0 ? void 0 : val.label;\n        if (isFunction(props.renderFormat)) {\n            label = props.renderFormat(key2nodeProps[value] || null, props.labelInValue ? val : value);\n        }\n        return { text: label || value || '', disabled: disabled };\n    }, [props.renderFormat, props.labelInValue]);\n    var tryUpdateSelectValue = function (value) {\n        setValue(value, {});\n    };\n    var renderView = function (eleView) {\n        return (React.createElement(Trigger, __assign({ autoAlignPopupWidth: false, autoAlignPopupMinWidth: true, ref: triggerRef, classNames: \"slideDynamicOrigin\", trigger: \"click\", position: \"bl\", getPopupContainer: props.getPopupContainer, popupAlign: { bottom: 4 }, unmountOnExit: props.unmountOnExit }, props.triggerProps, { className: cs(prefixCls + \"-trigger\", props.triggerProps && props.triggerProps.className), popup: function () {\n                var _a;\n                var _b, _c, _d;\n                var dropdownRender = props.dropdownRender;\n                var dom = (isFilterNode && isEmptyValue(searchKeys)) || isEmptyValue(treeData) ? (props.notFoundContent || renderEmpty('TreeSelect')) : (React.createElement(TreeList, __assign({ prefixCls: prefixCls, ref: treeRef }, props, { inputValue: inputValue, filterNode: filterNode, value: value, onChange: triggerChange, multiple: multiple, treeData: treeData })));\n                return (React.createElement(\"div\", { id: instancePopupID, className: cs(prefixCls + \"-popup\", (_a = {}, _a[prefixCls + \"-rtl-popup\"] = rtl, _a)), style: __assign({ maxHeight: ((_b = props.treeProps) === null || _b === void 0 ? void 0 : _b.height) || ((_d = (_c = props.treeProps) === null || _c === void 0 ? void 0 : _c.virtualListProps) === null || _d === void 0 ? void 0 : _d.height)\n                            ? 'unset'\n                            : '' }, props.dropdownMenuStyle) }, isFunction(dropdownRender) ? dropdownRender(dom) : dom));\n            }, disabled: props.disabled, onVisibleChange: function (visible) {\n                tryUpdatePopupVisible(visible);\n                // props.onVisibleChange && props.onVisibleChange(visible);\n            }, popupVisible: popupVisible }), eleView));\n    };\n    var customTriggerElement = typeof props.triggerElement === 'function'\n        ? (function () {\n            var _a;\n            var valueForCallback;\n            if (multiple) {\n                valueForCallback = value.map(function (x) {\n                    return props.labelInValue ? { label: x.label, value: x.value } : x.value;\n                });\n            }\n            else {\n                valueForCallback = props.labelInValue ? value[0] : (_a = value[0]) === null || _a === void 0 ? void 0 : _a.value;\n            }\n            return props.triggerElement({ value: valueForCallback });\n        })()\n        : props.triggerElement;\n    return !isNullOrUndefined(customTriggerElement) ? (renderView(customTriggerElement)) : (React.createElement(SelectView, __assign({ ref: refSelectView, rtl: rtl, ariaControls: instancePopupID }, props, { popupVisible: popupVisible, value: !multiple && isArray(value) ? value[0] : value, inputValue: inputValue, \n        // other\n        isEmptyValue: isEmptyValue(value), prefixCls: prefixCls, isMultiple: multiple, renderText: renderText, onSort: tryUpdateSelectValue, onRemoveCheckedItem: handleRemoveCheckedItem, onClear: function (e) {\n            var _a;\n            e.stopPropagation();\n            triggerChange([], {});\n            (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props, !!popupVisible);\n        }, onKeyDown: function (e) {\n            var _a;\n            e.stopPropagation();\n            (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }, onFocus: function (e) {\n            e && e.stopPropagation();\n        }, onChangeInputValue: function (value) {\n            tryUpdateInputValue(value, 'manual');\n        }, renderView: renderView })));\n};\nvar ForwardRefTreeSelect = forwardRef(TreeSelect);\nvar TreeSelectComponent = ForwardRefTreeSelect;\nTreeSelectComponent.displayName = 'TreeSelect';\nTreeSelectComponent.Node = Tree.Node;\nTreeSelectComponent.SHOW_ALL = Tree.SHOW_ALL;\nTreeSelectComponent.SHOW_PARENT = Tree.SHOW_PARENT;\nTreeSelectComponent.SHOW_CHILD = Tree.SHOW_CHILD;\nexport default TreeSelectComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}