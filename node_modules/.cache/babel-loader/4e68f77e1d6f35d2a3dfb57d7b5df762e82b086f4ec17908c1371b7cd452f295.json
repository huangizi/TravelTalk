{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { render as ReactDOMRender } from '../_util/react-dom';\nimport Modal from './modal';\nimport IconInfoCircleFill from '../../icon/react-icon/IconInfoCircleFill';\nimport IconCheckCircleFill from '../../icon/react-icon/IconCheckCircleFill';\nimport IconExclamationCircleFill from '../../icon/react-icon/IconExclamationCircleFill';\nimport IconCloseCircleFill from '../../icon/react-icon/IconCloseCircleFill';\nimport { getModalConfig, destroyList, getConfigProviderProps } from './config';\nimport ConfigProvider from '../ConfigProvider';\nfunction ConfirmModal(props) {\n  var _a = getModalConfig(),\n    prefixCls = _a.prefixCls,\n    simple = _a.simple;\n  return React.createElement(Modal, __assign({\n    prefixCls: prefixCls,\n    simple: simple\n  }, props), props.content);\n}\n// 如果是消息提示型弹出框，那么只有确认按钮\nexport var normalizeConfig = function (_config) {\n  var icon = _config.icon;\n  if (!icon && icon !== null) {\n    icon = React.createElement(IconExclamationCircleFill, null);\n    if (_config.isNotice) {\n      switch (_config.noticeType) {\n        case 'info':\n          icon = React.createElement(IconInfoCircleFill, null);\n          break;\n        case 'success':\n          icon = React.createElement(IconCheckCircleFill, null);\n          break;\n        case 'warning':\n          icon = React.createElement(IconExclamationCircleFill, null);\n          break;\n        case 'error':\n          icon = React.createElement(IconCloseCircleFill, null);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  if (_config.isNotice) {\n    _config.hideCancel = true;\n  }\n  _config.title = icon === null && _config.title === null ? null : React.createElement(\"span\", null, icon, _config.title);\n  return _config;\n};\nfunction confirm(config, renderFunc) {\n  var root;\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n  var configProviderProps = getConfigProviderProps();\n  function render(props) {\n    var dom = React.createElement(ConfigProvider, __assign({}, configProviderProps), React.createElement(ConfirmModal, __assign({}, props, {\n      onCancel: onCancel\n    })));\n    if (root) {\n      root.render(dom);\n    } else {\n      root = ReactDOMRender(dom, div);\n    }\n  }\n  var renderFunction = renderFunc || render;\n  var modalConfig = __assign(__assign({}, config), {\n    visible: false\n  });\n  var onOk = function () {\n    var ret;\n    var _onOk = config.onOk || config.onConfirm;\n    if (_onOk) {\n      ret = _onOk();\n    }\n    if (ret && ret.then) {\n      modalConfig.confirmLoading = true;\n      renderFunction(modalConfig);\n      ret.then(function () {\n        onCancel(true);\n      }, function (e) {\n        console.error(e);\n        modalConfig.confirmLoading = false;\n        renderFunction(modalConfig);\n      });\n    }\n    if (!ret) {\n      onCancel(true);\n    }\n  };\n  // 如果是promise，那么处理loading和加载完成关闭\n  modalConfig.onOk = onOk;\n  modalConfig = normalizeConfig(modalConfig);\n  modalConfig.visible = true;\n  renderFunction(modalConfig);\n  function destroy() {\n    root = root === null || root === void 0 ? void 0 : root._unmount();\n    if (div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n    for (var i = 0; i < destroyList.length; i++) {\n      var fn = destroyList[i];\n      if (fn === close) {\n        destroyList.splice(i, 1);\n        break;\n      }\n    }\n  }\n  function onCancel(isOnOk) {\n    !isOnOk && config.onCancel && config.onCancel();\n    modalConfig.visible = false;\n    modalConfig.afterClose = function () {\n      config.afterClose && config.afterClose();\n      destroy();\n    };\n    renderFunction(modalConfig);\n  }\n  function update(newConfig) {\n    modalConfig = __assign(__assign(__assign({}, modalConfig), {\n      title: config.title\n    }), newConfig);\n    modalConfig = normalizeConfig(modalConfig);\n    renderFunction(modalConfig);\n  }\n  function close() {\n    modalConfig.visible = false;\n    modalConfig.afterClose = function () {\n      config.afterClose && config.afterClose();\n      destroy();\n    };\n    renderFunction(modalConfig);\n  }\n  destroyList.push(close);\n  return {\n    close: close,\n    update: update\n  };\n}\nexport default confirm;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","render","ReactDOMRender","Modal","IconInfoCircleFill","IconCheckCircleFill","IconExclamationCircleFill","IconCloseCircleFill","getModalConfig","destroyList","getConfigProviderProps","ConfigProvider","ConfirmModal","props","_a","prefixCls","simple","createElement","content","normalizeConfig","_config","icon","isNotice","noticeType","hideCancel","title","confirm","config","renderFunc","root","div","document","body","appendChild","configProviderProps","dom","onCancel","renderFunction","modalConfig","visible","onOk","ret","_onOk","onConfirm","then","confirmLoading","e","console","error","destroy","_unmount","parentNode","removeChild","fn","close","splice","isOnOk","afterClose","update","newConfig","push"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Modal/confirm.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { render as ReactDOMRender } from '../_util/react-dom';\nimport Modal from './modal';\nimport IconInfoCircleFill from '../../icon/react-icon/IconInfoCircleFill';\nimport IconCheckCircleFill from '../../icon/react-icon/IconCheckCircleFill';\nimport IconExclamationCircleFill from '../../icon/react-icon/IconExclamationCircleFill';\nimport IconCloseCircleFill from '../../icon/react-icon/IconCloseCircleFill';\nimport { getModalConfig, destroyList, getConfigProviderProps } from './config';\nimport ConfigProvider from '../ConfigProvider';\nfunction ConfirmModal(props) {\n    var _a = getModalConfig(), prefixCls = _a.prefixCls, simple = _a.simple;\n    return (React.createElement(Modal, __assign({ prefixCls: prefixCls, simple: simple }, props), props.content));\n}\n// 如果是消息提示型弹出框，那么只有确认按钮\nexport var normalizeConfig = function (_config) {\n    var icon = _config.icon;\n    if (!icon && icon !== null) {\n        icon = React.createElement(IconExclamationCircleFill, null);\n        if (_config.isNotice) {\n            switch (_config.noticeType) {\n                case 'info':\n                    icon = React.createElement(IconInfoCircleFill, null);\n                    break;\n                case 'success':\n                    icon = React.createElement(IconCheckCircleFill, null);\n                    break;\n                case 'warning':\n                    icon = React.createElement(IconExclamationCircleFill, null);\n                    break;\n                case 'error':\n                    icon = React.createElement(IconCloseCircleFill, null);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    if (_config.isNotice) {\n        _config.hideCancel = true;\n    }\n    _config.title =\n        icon === null && _config.title === null ? null : (React.createElement(\"span\", null,\n            icon,\n            _config.title));\n    return _config;\n};\nfunction confirm(config, renderFunc) {\n    var root;\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    var configProviderProps = getConfigProviderProps();\n    function render(props) {\n        var dom = (React.createElement(ConfigProvider, __assign({}, configProviderProps),\n            React.createElement(ConfirmModal, __assign({}, props, { onCancel: onCancel }))));\n        if (root) {\n            root.render(dom);\n        }\n        else {\n            root = ReactDOMRender(dom, div);\n        }\n    }\n    var renderFunction = renderFunc || render;\n    var modalConfig = __assign(__assign({}, config), { visible: false });\n    var onOk = function () {\n        var ret;\n        var _onOk = config.onOk || config.onConfirm;\n        if (_onOk) {\n            ret = _onOk();\n        }\n        if (ret && ret.then) {\n            modalConfig.confirmLoading = true;\n            renderFunction(modalConfig);\n            ret.then(function () {\n                onCancel(true);\n            }, function (e) {\n                console.error(e);\n                modalConfig.confirmLoading = false;\n                renderFunction(modalConfig);\n            });\n        }\n        if (!ret) {\n            onCancel(true);\n        }\n    };\n    // 如果是promise，那么处理loading和加载完成关闭\n    modalConfig.onOk = onOk;\n    modalConfig = normalizeConfig(modalConfig);\n    modalConfig.visible = true;\n    renderFunction(modalConfig);\n    function destroy() {\n        root = root === null || root === void 0 ? void 0 : root._unmount();\n        if (div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        for (var i = 0; i < destroyList.length; i++) {\n            var fn = destroyList[i];\n            if (fn === close) {\n                destroyList.splice(i, 1);\n                break;\n            }\n        }\n    }\n    function onCancel(isOnOk) {\n        !isOnOk && config.onCancel && config.onCancel();\n        modalConfig.visible = false;\n        modalConfig.afterClose = function () {\n            config.afterClose && config.afterClose();\n            destroy();\n        };\n        renderFunction(modalConfig);\n    }\n    function update(newConfig) {\n        modalConfig = __assign(__assign(__assign({}, modalConfig), { title: config.title }), newConfig);\n        modalConfig = normalizeConfig(modalConfig);\n        renderFunction(modalConfig);\n    }\n    function close() {\n        modalConfig.visible = false;\n        modalConfig.afterClose = function () {\n            config.afterClose && config.afterClose();\n            destroy();\n        };\n        renderFunction(modalConfig);\n    }\n    destroyList.push(close);\n    return {\n        close: close,\n        update: update,\n    };\n}\nexport default confirm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}