{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { createRef, useRef } from 'react';\nimport ContextHolderElement from '../../_util/contextHolder';\nimport HookModal from './hookModal';\nimport { normalizeConfig } from '../confirm';\nimport { destroyList } from '../config';\nfunction useModal() {\n  var contextHolderRef = useRef();\n  var holderEle = React.createElement(ContextHolderElement, {\n    ref: contextHolderRef\n  });\n  var uuid = 0;\n  function addNewModal(config) {\n    var _a;\n    uuid += 1;\n    var modalRef = createRef();\n    var currentConfig = __assign({}, config);\n    function afterClose() {\n      config.afterClose && config.afterClose();\n      removeModalInstance();\n    }\n    var modal = React.createElement(HookModal, __assign({\n      key: uuid,\n      ref: modalRef\n    }, normalizeConfig(__assign({}, config)), {\n      afterClose: afterClose\n    }));\n    (_a = contextHolderRef.current) === null || _a === void 0 ? void 0 : _a.addInstance(modal);\n    function removeModalInstance() {\n      var _a;\n      (_a = contextHolderRef.current) === null || _a === void 0 ? void 0 : _a.removeInstance(modal);\n    }\n    function close() {\n      var _a;\n      (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n    function update(newConfig) {\n      var _a;\n      currentConfig = __assign(__assign({}, currentConfig), newConfig);\n      (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(normalizeConfig(__assign({}, currentConfig)));\n    }\n    destroyList.push(close);\n    return {\n      close: close,\n      update: update\n    };\n  }\n  var modalFuncs = {\n    confirm: function confirm(config) {\n      return addNewModal(__assign({}, config));\n    }\n  };\n  ['info', 'success', 'warning', 'error'].forEach(function (type) {\n    modalFuncs[type] = function (config) {\n      return addNewModal(__assign(__assign({}, config), {\n        isNotice: true,\n        noticeType: type\n      }));\n    };\n  });\n  return [modalFuncs, holderEle];\n}\nexport default useModal;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","createRef","useRef","ContextHolderElement","HookModal","normalizeConfig","destroyList","useModal","contextHolderRef","holderEle","createElement","ref","uuid","addNewModal","config","_a","modalRef","currentConfig","afterClose","removeModalInstance","modal","key","current","addInstance","removeInstance","close","update","newConfig","push","modalFuncs","confirm","forEach","type","isNotice","noticeType"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Modal/useModal/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { createRef, useRef } from 'react';\nimport ContextHolderElement from '../../_util/contextHolder';\nimport HookModal from './hookModal';\nimport { normalizeConfig } from '../confirm';\nimport { destroyList } from '../config';\nfunction useModal() {\n    var contextHolderRef = useRef();\n    var holderEle = React.createElement(ContextHolderElement, { ref: contextHolderRef });\n    var uuid = 0;\n    function addNewModal(config) {\n        var _a;\n        uuid += 1;\n        var modalRef = createRef();\n        var currentConfig = __assign({}, config);\n        function afterClose() {\n            config.afterClose && config.afterClose();\n            removeModalInstance();\n        }\n        var modal = (React.createElement(HookModal, __assign({ key: uuid, ref: modalRef }, normalizeConfig(__assign({}, config)), { afterClose: afterClose })));\n        (_a = contextHolderRef.current) === null || _a === void 0 ? void 0 : _a.addInstance(modal);\n        function removeModalInstance() {\n            var _a;\n            (_a = contextHolderRef.current) === null || _a === void 0 ? void 0 : _a.removeInstance(modal);\n        }\n        function close() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.close();\n        }\n        function update(newConfig) {\n            var _a;\n            currentConfig = __assign(__assign({}, currentConfig), newConfig);\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(normalizeConfig(__assign({}, currentConfig)));\n        }\n        destroyList.push(close);\n        return {\n            close: close,\n            update: update,\n        };\n    }\n    var modalFuncs = {\n        confirm: function (config) {\n            return addNewModal(__assign({}, config));\n        },\n    };\n    ['info', 'success', 'warning', 'error'].forEach(function (type) {\n        modalFuncs[type] = function (config) {\n            return addNewModal(__assign(__assign({}, config), { isNotice: true, noticeType: type }));\n        };\n    });\n    return [modalFuncs, holderEle];\n}\nexport default useModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}