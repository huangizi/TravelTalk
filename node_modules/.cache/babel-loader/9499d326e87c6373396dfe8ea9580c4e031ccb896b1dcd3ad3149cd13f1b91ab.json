{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport React, { useEffect, useState, useRef } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport cs from '../../_util/classNames';\nimport IconCheck from '../../../icon/react-icon/IconCheck';\nimport Checkbox from '../../Checkbox';\nimport { ArrowDown, Esc, Enter, ArrowUp } from '../../_util/keycode';\nimport useUpdateEffect from '../../_util/hooks/useUpdate';\nimport useIsFirstRender from '../../_util/hooks/useIsFirstRender';\nimport { isString, isObject, isFunction } from '../../_util/is';\nimport { getMultipleCheckValue } from '../util';\nimport VirtualList from '../../_class/VirtualList';\nimport { on, off } from '../../_util/dom';\nexport var getLegalIndex = function (currentIndex, maxIndex) {\n  if (currentIndex < 0) {\n    return maxIndex;\n  }\n  if (currentIndex > maxIndex) {\n    return 0;\n  }\n  return currentIndex;\n};\nvar formatLabel = function (inputValue, label, prefixCls) {\n  var dom = label;\n  if (isString(label)) {\n    var index = label.toUpperCase().indexOf(inputValue.toUpperCase());\n    if (index > -1) {\n      var prefix = label.substr(0, index);\n      var suffix = label.substr(index + inputValue.length);\n      dom = React.createElement(React.Fragment, null, prefix, React.createElement(\"span\", {\n        className: prefixCls + \"-highlight\"\n      }, label.substr(index, inputValue.length)), suffix);\n    }\n  }\n  return dom;\n};\nvar SearchPanel = function (props) {\n  var _a;\n  var store = props.store,\n    prefixCls = props.prefixCls,\n    multiple = props.multiple,\n    onChange = props.onChange,\n    inputValue = props.inputValue,\n    renderEmpty = props.renderEmpty,\n    style = props.style,\n    defaultActiveFirstOption = props.defaultActiveFirstOption,\n    rtl = props.rtl;\n  var value = props.value || [];\n  var _b = __read(useState(store.searchNodeByLabel(inputValue) || []), 2),\n    options = _b[0],\n    setOptions = _b[1];\n  var refActiveItem = useRef();\n  // 用来标示是否需要scrollIntoView。如果是鼠标hover，不需要滚动。\n  var isKeyboardHover = useRef();\n  var isFirstRender = useIsFirstRender();\n  // 保存键盘操作的目标节点\n  var _c = __read(useState(defaultActiveFirstOption ? 0 : -1), 2),\n    currentHoverIndex = _c[0],\n    setCurrentHoverIndex = _c[1];\n  var handleSearchOptionClick = function (option, checked, e) {\n    e.stopPropagation();\n    if (option.disabled) {\n      return;\n    }\n    if (multiple) {\n      var checkedValues = getMultipleCheckValue(props.value, store, option, checked);\n      onChange && onChange(checkedValues);\n    } else {\n      onChange && onChange([option.pathValue]);\n    }\n  };\n  useUpdateEffect(function () {\n    setOptions(store.searchNodeByLabel(inputValue));\n  }, [inputValue, store]);\n  useUpdateEffect(function () {\n    setCurrentHoverIndex(function (currentIndex) {\n      if (currentIndex > options.length - 1) {\n        return defaultActiveFirstOption ? 0 : -1;\n      }\n      return currentIndex;\n    });\n  }, [options]);\n  useEffect(function () {\n    var target = props.getTriggerElement();\n    if (!target) {\n      return;\n    }\n    var handleKeyDown = function (e) {\n      e.stopPropagation();\n      // 使用keycode，避免中文输入法输入时，触发enter,space等事件。\n      // p.s 中文输入时，keycode 都是229\n      var keyCode = e.keyCode || e.which;\n      switch (keyCode) {\n        case Esc.code:\n          {\n            props.onEsc();\n            return false;\n          }\n        case ArrowDown.code:\n        case ArrowUp.code:\n          {\n            isKeyboardHover.current = true;\n            var diff = ArrowDown.code === keyCode ? 1 : -1;\n            var nextIndex = getLegalIndex(currentHoverIndex + diff, options.length - 1);\n            while (nextIndex !== currentHoverIndex) {\n              var item_1 = options[nextIndex];\n              if (item_1.disabled) {\n                nextIndex = getLegalIndex(nextIndex + diff, options.length - 1);\n              } else {\n                break;\n              }\n            }\n            setCurrentHoverIndex(nextIndex);\n            return false;\n          }\n        case Enter.code:\n          var item_2 = options[currentHoverIndex];\n          if (item_2) {\n            var isChecked = value.some(function (x) {\n              return isEqualWith(x, item_2.pathValue);\n            });\n            handleSearchOptionClick(item_2, !isChecked, e);\n          }\n          return false;\n        default:\n          break;\n      }\n    };\n    on(target, 'keydown', handleKeyDown);\n    return function () {\n      off(target, 'keydown', handleKeyDown);\n    };\n  }, [options, currentHoverIndex, value]);\n  useEffect(function () {\n    var _a;\n    var target = refActiveItem.current;\n    if (target && (isKeyboardHover.current || isFirstRender)) {\n      scrollIntoView(target, {\n        behavior: 'instant',\n        block: 'nearest',\n        scrollMode: 'if-needed',\n        boundary: (_a = target.parentNode) === null || _a === void 0 ? void 0 : _a.parentNode\n      });\n    }\n  }, [currentHoverIndex, options]);\n  refActiveItem.current = null;\n  return options.length ? React.createElement(\"div\", {\n    className: prefixCls + \"-list-wrapper\"\n  }, React.createElement(VirtualList, __assign({\n    needFiller: false,\n    wrapper: \"ul\",\n    role: \"menu\",\n    style: style,\n    data: options,\n    isStaticItemHeight: true,\n    threshold: props.virtualListProps ? 100 : null\n  }, isObject(props.virtualListProps) ? props.virtualListProps : {}, {\n    onMouseMove: function () {\n      isKeyboardHover.current = false;\n    },\n    className: cs(prefixCls + \"-list\", prefixCls + \"-list-search\", (_a = {}, _a[prefixCls + \"-list-multiple\"] = multiple, _a[prefixCls + \"-list-rtl\"] = rtl, _a))\n  }), function (item, i) {\n    var _a;\n    var pathNodes = item.getPathNodes();\n    var pathLabel = pathNodes.map(function (x) {\n      return x.label;\n    }).join(' / ');\n    var label = isFunction(props.renderOption) ? props.renderOption(inputValue, item._data) : formatLabel(inputValue, pathLabel, prefixCls);\n    var isChecked = item._checked;\n    return React.createElement(\"li\", {\n      title: isString(label) ? label : isString(pathLabel) ? pathLabel : undefined,\n      role: \"menuitem\",\n      \"aria-disabled\": item.disabled,\n      ref: function (node) {\n        if (i === currentHoverIndex) {\n          refActiveItem.current = node;\n        }\n        if (isChecked && !refActiveItem.current) {\n          refActiveItem.current = node;\n        }\n      },\n      className: cs(prefixCls + \"-list-search-item\", (_a = {}, _a[prefixCls + \"-list-search-item-active\"] = isChecked, _a[prefixCls + \"-list-search-item-hover\"] = i === currentHoverIndex, _a[prefixCls + \"-list-search-item-disabled\"] = item.disabled, _a)),\n      onClick: function (e) {\n        handleSearchOptionClick(item, !isChecked, e);\n      },\n      key: i,\n      onMouseEnter: function () {\n        if (!isKeyboardHover.current && !item.disabled) {\n          setCurrentHoverIndex(i);\n        }\n      },\n      onMouseLeave: function () {\n        if (!isKeyboardHover.current && !item.disabled) {\n          setCurrentHoverIndex(defaultActiveFirstOption ? 0 : -1);\n        }\n      }\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-list-item-label\"\n    }, isFunction(props.renderOption) ? label : multiple ? React.createElement(Checkbox, {\n      checked: isChecked,\n      disabled: item.disabled\n    }, label) : React.createElement(React.Fragment, null, label, isChecked && React.createElement(\"span\", {\n      className: prefixCls + \"-check-icon\"\n    }, React.createElement(IconCheck, null)))));\n  })) : React.createElement(React.Fragment, null, renderEmpty && renderEmpty());\n};\nexport default SearchPanel;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","React","useEffect","useState","useRef","isEqualWith","scrollIntoView","cs","IconCheck","Checkbox","ArrowDown","Esc","Enter","ArrowUp","useUpdateEffect","useIsFirstRender","isString","isObject","isFunction","getMultipleCheckValue","VirtualList","on","off","getLegalIndex","currentIndex","maxIndex","formatLabel","inputValue","label","prefixCls","dom","index","toUpperCase","indexOf","prefix","substr","suffix","createElement","Fragment","className","SearchPanel","props","_a","store","multiple","onChange","renderEmpty","style","defaultActiveFirstOption","rtl","_b","searchNodeByLabel","options","setOptions","refActiveItem","isKeyboardHover","isFirstRender","_c","currentHoverIndex","setCurrentHoverIndex","handleSearchOptionClick","option","checked","stopPropagation","disabled","checkedValues","pathValue","target","getTriggerElement","handleKeyDown","keyCode","which","code","onEsc","current","diff","nextIndex","item_1","item_2","isChecked","some","x","behavior","block","scrollMode","boundary","parentNode","needFiller","wrapper","role","data","isStaticItemHeight","threshold","virtualListProps","onMouseMove","item","pathNodes","getPathNodes","pathLabel","map","join","renderOption","_data","_checked","title","undefined","ref","node","onClick","key","onMouseEnter","onMouseLeave"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Cascader/panel/search-panel.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useEffect, useState, useRef } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport cs from '../../_util/classNames';\nimport IconCheck from '../../../icon/react-icon/IconCheck';\nimport Checkbox from '../../Checkbox';\nimport { ArrowDown, Esc, Enter, ArrowUp } from '../../_util/keycode';\nimport useUpdateEffect from '../../_util/hooks/useUpdate';\nimport useIsFirstRender from '../../_util/hooks/useIsFirstRender';\nimport { isString, isObject, isFunction } from '../../_util/is';\nimport { getMultipleCheckValue } from '../util';\nimport VirtualList from '../../_class/VirtualList';\nimport { on, off } from '../../_util/dom';\nexport var getLegalIndex = function (currentIndex, maxIndex) {\n    if (currentIndex < 0) {\n        return maxIndex;\n    }\n    if (currentIndex > maxIndex) {\n        return 0;\n    }\n    return currentIndex;\n};\nvar formatLabel = function (inputValue, label, prefixCls) {\n    var dom = label;\n    if (isString(label)) {\n        var index = label.toUpperCase().indexOf(inputValue.toUpperCase());\n        if (index > -1) {\n            var prefix = label.substr(0, index);\n            var suffix = label.substr(index + inputValue.length);\n            dom = (React.createElement(React.Fragment, null,\n                prefix,\n                React.createElement(\"span\", { className: prefixCls + \"-highlight\" }, label.substr(index, inputValue.length)),\n                suffix));\n        }\n    }\n    return dom;\n};\nvar SearchPanel = function (props) {\n    var _a;\n    var store = props.store, prefixCls = props.prefixCls, multiple = props.multiple, onChange = props.onChange, inputValue = props.inputValue, renderEmpty = props.renderEmpty, style = props.style, defaultActiveFirstOption = props.defaultActiveFirstOption, rtl = props.rtl;\n    var value = props.value || [];\n    var _b = __read(useState(store.searchNodeByLabel(inputValue) || []), 2), options = _b[0], setOptions = _b[1];\n    var refActiveItem = useRef();\n    // 用来标示是否需要scrollIntoView。如果是鼠标hover，不需要滚动。\n    var isKeyboardHover = useRef();\n    var isFirstRender = useIsFirstRender();\n    // 保存键盘操作的目标节点\n    var _c = __read(useState(defaultActiveFirstOption ? 0 : -1), 2), currentHoverIndex = _c[0], setCurrentHoverIndex = _c[1];\n    var handleSearchOptionClick = function (option, checked, e) {\n        e.stopPropagation();\n        if (option.disabled) {\n            return;\n        }\n        if (multiple) {\n            var checkedValues = getMultipleCheckValue(props.value, store, option, checked);\n            onChange && onChange(checkedValues);\n        }\n        else {\n            onChange && onChange([option.pathValue]);\n        }\n    };\n    useUpdateEffect(function () {\n        setOptions(store.searchNodeByLabel(inputValue));\n    }, [inputValue, store]);\n    useUpdateEffect(function () {\n        setCurrentHoverIndex(function (currentIndex) {\n            if (currentIndex > options.length - 1) {\n                return defaultActiveFirstOption ? 0 : -1;\n            }\n            return currentIndex;\n        });\n    }, [options]);\n    useEffect(function () {\n        var target = props.getTriggerElement();\n        if (!target) {\n            return;\n        }\n        var handleKeyDown = function (e) {\n            e.stopPropagation();\n            // 使用keycode，避免中文输入法输入时，触发enter,space等事件。\n            // p.s 中文输入时，keycode 都是229\n            var keyCode = e.keyCode || e.which;\n            switch (keyCode) {\n                case Esc.code: {\n                    props.onEsc();\n                    return false;\n                }\n                case ArrowDown.code:\n                case ArrowUp.code: {\n                    isKeyboardHover.current = true;\n                    var diff = ArrowDown.code === keyCode ? 1 : -1;\n                    var nextIndex = getLegalIndex(currentHoverIndex + diff, options.length - 1);\n                    while (nextIndex !== currentHoverIndex) {\n                        var item_1 = options[nextIndex];\n                        if (item_1.disabled) {\n                            nextIndex = getLegalIndex(nextIndex + diff, options.length - 1);\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                    setCurrentHoverIndex(nextIndex);\n                    return false;\n                }\n                case Enter.code:\n                    var item_2 = options[currentHoverIndex];\n                    if (item_2) {\n                        var isChecked = value.some(function (x) {\n                            return isEqualWith(x, item_2.pathValue);\n                        });\n                        handleSearchOptionClick(item_2, !isChecked, e);\n                    }\n                    return false;\n                default:\n                    break;\n            }\n        };\n        on(target, 'keydown', handleKeyDown);\n        return function () {\n            off(target, 'keydown', handleKeyDown);\n        };\n    }, [options, currentHoverIndex, value]);\n    useEffect(function () {\n        var _a;\n        var target = refActiveItem.current;\n        if (target && (isKeyboardHover.current || isFirstRender)) {\n            scrollIntoView(target, {\n                behavior: 'instant',\n                block: 'nearest',\n                scrollMode: 'if-needed',\n                boundary: (_a = target.parentNode) === null || _a === void 0 ? void 0 : _a.parentNode,\n            });\n        }\n    }, [currentHoverIndex, options]);\n    refActiveItem.current = null;\n    return options.length ? (React.createElement(\"div\", { className: prefixCls + \"-list-wrapper\" },\n        React.createElement(VirtualList, __assign({ needFiller: false, wrapper: \"ul\", role: \"menu\", style: style, data: options, isStaticItemHeight: true, threshold: props.virtualListProps ? 100 : null }, (isObject(props.virtualListProps) ? props.virtualListProps : {}), { onMouseMove: function () {\n                isKeyboardHover.current = false;\n            }, className: cs(prefixCls + \"-list\", prefixCls + \"-list-search\", (_a = {},\n                _a[prefixCls + \"-list-multiple\"] = multiple,\n                _a[prefixCls + \"-list-rtl\"] = rtl,\n                _a)) }), function (item, i) {\n            var _a;\n            var pathNodes = item.getPathNodes();\n            var pathLabel = pathNodes.map(function (x) { return x.label; }).join(' / ');\n            var label = isFunction(props.renderOption)\n                ? props.renderOption(inputValue, item._data)\n                : formatLabel(inputValue, pathLabel, prefixCls);\n            var isChecked = item._checked;\n            return (React.createElement(\"li\", { title: isString(label) ? label : isString(pathLabel) ? pathLabel : undefined, role: \"menuitem\", \"aria-disabled\": item.disabled, ref: function (node) {\n                    if (i === currentHoverIndex) {\n                        refActiveItem.current = node;\n                    }\n                    if (isChecked && !refActiveItem.current) {\n                        refActiveItem.current = node;\n                    }\n                }, className: cs(prefixCls + \"-list-search-item\", (_a = {},\n                    _a[prefixCls + \"-list-search-item-active\"] = isChecked,\n                    _a[prefixCls + \"-list-search-item-hover\"] = i === currentHoverIndex,\n                    _a[prefixCls + \"-list-search-item-disabled\"] = item.disabled,\n                    _a)), onClick: function (e) {\n                    handleSearchOptionClick(item, !isChecked, e);\n                }, key: i, onMouseEnter: function () {\n                    if (!isKeyboardHover.current && !item.disabled) {\n                        setCurrentHoverIndex(i);\n                    }\n                }, onMouseLeave: function () {\n                    if (!isKeyboardHover.current && !item.disabled) {\n                        setCurrentHoverIndex(defaultActiveFirstOption ? 0 : -1);\n                    }\n                } },\n                React.createElement(\"div\", { className: prefixCls + \"-list-item-label\" }, isFunction(props.renderOption) ? (label) : multiple ? (React.createElement(Checkbox, { checked: isChecked, disabled: item.disabled }, label)) : (React.createElement(React.Fragment, null,\n                    label,\n                    isChecked && (React.createElement(\"span\", { className: prefixCls + \"-check-icon\" },\n                        React.createElement(IconCheck, null))))))));\n        }))) : (React.createElement(React.Fragment, null, renderEmpty && renderEmpty()));\n};\nexport default SearchPanel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}