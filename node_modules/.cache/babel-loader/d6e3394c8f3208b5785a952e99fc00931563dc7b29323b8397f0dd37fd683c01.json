{"ast":null,"code":"import { isArray } from '../../_util/is';\nexport var defaultScales = [25, 33, 50, 67, 75, 80, 90, 100, 110, 125, 150, 175, 200, 250, 300, 400, 500];\nvar PreviewScales = /** @class */function () {\n  function PreviewScales(scales) {\n    this.updateScale(scales);\n  }\n  Object.defineProperty(PreviewScales.prototype, \"scales\", {\n    get: function () {\n      return this.scaleAttr;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PreviewScales.prototype, \"minScale\", {\n    get: function () {\n      return this.scaleAttr[0];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PreviewScales.prototype, \"maxScale\", {\n    get: function () {\n      return this.scaleAttr[this.scaleAttr.length - 1];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PreviewScales.prototype.updateScale = function (scales) {\n    var validScales = defaultScales;\n    if (isArray(scales) && scales.filter(function (num) {\n      return num > 0;\n    }).length) {\n      validScales = scales.filter(function (num) {\n        return num > 0;\n      });\n    }\n    validScales = validScales.map(function (num) {\n      return +(num / 100).toFixed(2);\n    });\n    // 如果缩放比例中不含1， 则需要手动添加在最合适的位置\n    if (!validScales.includes(1)) {\n      var closestIndex = this.findClosestIndex(1, validScales);\n      var closeSale = validScales[closestIndex];\n      var addIndex = closeSale < 1 ? closestIndex + 1 : closestIndex;\n      validScales.splice(addIndex, 0, 1);\n    }\n    this.scaleAttr = validScales;\n  };\n  PreviewScales.prototype.findClosestIndex = function (scale, scales) {\n    if (scales === void 0) {\n      scales = this.scaleAttr;\n    }\n    if (!scales.length) return;\n    if (scales.length === 1) return 0;\n    var closestIndex = scales.length - 1;\n    for (var i = 0; i < scales.length; i++) {\n      var current = scales[i];\n      if (scale === current) {\n        closestIndex = i;\n        break;\n      }\n      if (scale < current) {\n        var pre = scales[i - 1];\n        closestIndex = pre === undefined || Math.abs(pre - scale) <= Math.abs(current - scale) ? i - 1 : i;\n        break;\n      }\n    }\n    return closestIndex;\n  };\n  PreviewScales.prototype.getNextScale = function (cur, type) {\n    if (type === void 0) {\n      type = 'zoomIn';\n    }\n    var index = this.scaleAttr.indexOf(cur);\n    if (index === -1) {\n      index = this.findClosestIndex(cur);\n    }\n    if (type === 'zoomIn') {\n      return index === this.scaleAttr.length - 1 ? cur : this.scaleAttr[index + 1];\n    }\n    return index === 0 ? cur : this.scaleAttr[index - 1];\n  };\n  return PreviewScales;\n}();\nexport default PreviewScales;","map":{"version":3,"names":["isArray","defaultScales","PreviewScales","scales","updateScale","Object","defineProperty","prototype","get","scaleAttr","enumerable","configurable","length","validScales","filter","num","map","toFixed","includes","closestIndex","findClosestIndex","closeSale","addIndex","splice","scale","i","current","pre","undefined","Math","abs","getNextScale","cur","type","index","indexOf"],"sources":["D:/Code/LegalGPT-frontend/node_modules/@arco-design/web-react/es/Image/utils/getScale.js"],"sourcesContent":["import { isArray } from '../../_util/is';\nexport var defaultScales = [\n    25, 33, 50, 67, 75, 80, 90, 100, 110, 125, 150, 175, 200, 250, 300, 400, 500,\n];\nvar PreviewScales = /** @class */ (function () {\n    function PreviewScales(scales) {\n        this.updateScale(scales);\n    }\n    Object.defineProperty(PreviewScales.prototype, \"scales\", {\n        get: function () {\n            return this.scaleAttr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PreviewScales.prototype, \"minScale\", {\n        get: function () {\n            return this.scaleAttr[0];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PreviewScales.prototype, \"maxScale\", {\n        get: function () {\n            return this.scaleAttr[this.scaleAttr.length - 1];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PreviewScales.prototype.updateScale = function (scales) {\n        var validScales = defaultScales;\n        if (isArray(scales) && scales.filter(function (num) { return num > 0; }).length) {\n            validScales = scales.filter(function (num) { return num > 0; });\n        }\n        validScales = validScales.map(function (num) { return +(num / 100).toFixed(2); });\n        // 如果缩放比例中不含1， 则需要手动添加在最合适的位置\n        if (!validScales.includes(1)) {\n            var closestIndex = this.findClosestIndex(1, validScales);\n            var closeSale = validScales[closestIndex];\n            var addIndex = closeSale < 1 ? closestIndex + 1 : closestIndex;\n            validScales.splice(addIndex, 0, 1);\n        }\n        this.scaleAttr = validScales;\n    };\n    PreviewScales.prototype.findClosestIndex = function (scale, scales) {\n        if (scales === void 0) { scales = this.scaleAttr; }\n        if (!scales.length)\n            return;\n        if (scales.length === 1)\n            return 0;\n        var closestIndex = scales.length - 1;\n        for (var i = 0; i < scales.length; i++) {\n            var current = scales[i];\n            if (scale === current) {\n                closestIndex = i;\n                break;\n            }\n            if (scale < current) {\n                var pre = scales[i - 1];\n                closestIndex =\n                    pre === undefined || Math.abs(pre - scale) <= Math.abs(current - scale) ? i - 1 : i;\n                break;\n            }\n        }\n        return closestIndex;\n    };\n    PreviewScales.prototype.getNextScale = function (cur, type) {\n        if (type === void 0) { type = 'zoomIn'; }\n        var index = this.scaleAttr.indexOf(cur);\n        if (index === -1) {\n            index = this.findClosestIndex(cur);\n        }\n        if (type === 'zoomIn') {\n            return index === this.scaleAttr.length - 1 ? cur : this.scaleAttr[index + 1];\n        }\n        return index === 0 ? cur : this.scaleAttr[index - 1];\n    };\n    return PreviewScales;\n}());\nexport default PreviewScales;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}