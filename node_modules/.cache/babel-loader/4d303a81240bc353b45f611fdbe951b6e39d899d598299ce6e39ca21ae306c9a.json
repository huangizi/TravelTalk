{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport cs from '../_util/classNames';\nimport { ArrowUp, ArrowDown, Enter, Esc, Tab } from '../_util/keycode';\nimport Trigger from '../Trigger';\nimport OptGroup from './opt-group';\nimport Option from './option';\nimport ResizeObserver from '../_util/resizeObserver';\nimport { isArray, isFunction, isObject } from '../_util/is';\nimport getHotkeyHandler from '../_util/getHotkeyHandler';\nimport warning from '../_util/warning';\nimport SelectView from '../_class/select-view';\nimport VirtualList from '../_class/VirtualList';\nimport { preventDefaultEvent, isEmptyValue, getValidValue, isSelectOption, isSelectOptGroup, flatChildren } from './utils';\nimport { ConfigContext } from '../ConfigProvider';\nimport useMergeValue from '../_util/hooks/useMergeValue';\nimport omit from '../_util/omit';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useId from '../_util/hooks/useId';\n// 输入框粘贴会先触发 onPaste 后触发 onChange，但 onChange 的 value 中不包含换行符\n// 如果刚刚因为粘贴触发过分词，则 onChange 不再进行分词尝试\nvar THRESHOLD_TOKEN_SEPARATOR_TRIGGER = 100;\nvar defaultProps = {\n  trigger: 'click',\n  bordered: true,\n  filterOption: true,\n  unmountOnExit: true,\n  defaultActiveFirstOption: true\n};\nfunction Select(baseProps, ref) {\n  var _a = useContext(ConfigContext),\n    getPrefixCls = _a.getPrefixCls,\n    renderEmpty = _a.renderEmpty,\n    componentConfig = _a.componentConfig,\n    rtl = _a.rtl;\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Select);\n  var children = props.children,\n    renderFormat = props.renderFormat,\n    defaultActiveFirstOption = props.defaultActiveFirstOption,\n    disabled = props.disabled,\n    unmountOnExit = props.unmountOnExit,\n    notFoundContent = props.notFoundContent,\n    showSearch = props.showSearch,\n    tokenSeparators = props.tokenSeparators,\n    options = props.options,\n    filterOption = props.filterOption,\n    labelInValue = props.labelInValue,\n    getPopupContainer = props.getPopupContainer,\n    trigger = props.trigger,\n    triggerElement = props.triggerElement,\n    triggerProps = props.triggerProps,\n    dropdownRender = props.dropdownRender,\n    dropdownMenuStyle = props.dropdownMenuStyle,\n    dropdownMenuClassName = props.dropdownMenuClassName,\n    virtualListProps = props.virtualListProps,\n    // events\n    onChange = props.onChange,\n    onDeselect = props.onDeselect,\n    onClear = props.onClear,\n    onSearch = props.onSearch,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    onPopupScroll = props.onPopupScroll,\n    onVisibleChange = props.onVisibleChange,\n    onInputValueChange = props.onInputValueChange,\n    onPaste = props.onPaste,\n    onKeyDown = props.onKeyDown;\n  // TODO 兼容逻辑，3.0 移除 tags 模式\n  var mode = props.mode,\n    allowCreate = props.allowCreate;\n  if (mode === 'tags') {\n    mode = 'multiple';\n    allowCreate = true;\n    warning(true, \"[Arco Select] The 'tags' mode will be removed in the next major version, please use {mode: \\\"multiple\\\", allowCreate: true} instead.\");\n  }\n  var prefixCls = getPrefixCls('select');\n  var isMultipleMode = mode === 'multiple';\n  // TODO: 统一 useMergeValue 函数的表现\n  var _b = __read(useState(getValidValue(props.defaultValue, isMultipleMode, labelInValue)), 2),\n    stateValue = _b[0],\n    setValue = _b[1];\n  var value = 'value' in props ? getValidValue(props.value, isMultipleMode, labelInValue) : stateValue;\n  var _c = __read(useMergeValue('', {\n      value: 'inputValue' in props ? props.inputValue || '' : undefined\n    }), 3),\n    inputValue = _c[0],\n    setInputValue = _c[1],\n    stateInputValue = _c[2];\n  var _d = __read(useMergeValue(false, {\n      defaultValue: props.defaultPopupVisible,\n      value: 'popupVisible' in props ? props.popupVisible : triggerProps && 'popupVisible' in triggerProps ? triggerProps.popupVisible : undefined\n    }), 2),\n    popupVisible = _d[0],\n    setPopupVisible = _d[1];\n  // allowCreate 时，用户正在创建的选项值\n  var _e = __read(useState(null), 2),\n    userCreatingOption = _e[0],\n    setUserCreatingOption = _e[1];\n  // allowCreate 时，由用户输入而扩展到选项中的值\n  var _f = __read(useState([]), 2),\n    userCreatedOptions = _f[0],\n    setUserCreatedOptions = _f[1];\n  // 具有选中态或者 hover 态的 option 的 value\n  var _g = __read(useState(isArray(value) ? value[0] : value), 2),\n    valueActive = _g[0],\n    setValueActive = _g[1];\n  // 缓存较为耗时的 flatChildren 的结果\n  var _h = useMemo(function () {\n      return flatChildren({\n        children: children,\n        options: options,\n        filterOption: filterOption\n      }, {\n        prefixCls: prefixCls,\n        inputValue: inputValue,\n        userCreatedOptions: userCreatedOptions,\n        userCreatingOption: userCreatingOption\n      });\n    }, [children, options, filterOption, inputValue, userCreatingOption, userCreatedOptions]),\n    childrenList = _h.childrenList,\n    optionInfoMap = _h.optionInfoMap,\n    optionValueList = _h.optionValueList,\n    optionIndexListForArrowKey = _h.optionIndexListForArrowKey,\n    hasOptGroup = _h.hasOptGroup,\n    hasComplexLabelInOptions = _h.hasComplexLabelInOptions;\n  // ref\n  var refWrapper = useRef(null);\n  var refTrigger = useRef(null);\n  var refSelectView = useRef(null);\n  // 用来保存 value 和选中项的映射\n  var refValueMap = useRef([]);\n  // 用 none 表示目前处于键盘操作中，忽略鼠标的 onMouseEnter 和 onMouseLeave 事件\n  var refKeyboardArrowDirection = useRef(null);\n  // 触发 onInputValueChange 回调的值\n  var refOnInputChangeCallbackValue = useRef(inputValue);\n  // 触发 onInputValueChange 回调的原因\n  var refOnInputChangeCallbackReason = useRef(null);\n  // 上次成功触发自动分词的时间\n  var refTSLastSeparateTriggered = useRef(0);\n  // Whether in the hidden animation of drop-down\n  var refPopupExiting = useRef(false);\n  // Unique ID of this select instance\n  var instancePopupID = useId(prefixCls + \"-popup-\");\n  var isNoOptionSelected = isEmptyValue(value, isMultipleMode);\n  var valueActiveDefault = defaultActiveFirstOption ? optionValueList[optionIndexListForArrowKey[0]] : undefined;\n  var scrollIntoView = useCallback(function (optionValue, options) {\n    var _a;\n    var activeOption = optionInfoMap.get(optionValue);\n    if (refWrapper.current && ((_a = activeOption === null || activeOption === void 0 ? void 0 : activeOption.child) === null || _a === void 0 ? void 0 : _a.props)) {\n      refWrapper.current.scrollTo({\n        key: activeOption.child.props._key,\n        options: options\n      });\n    }\n  }, [optionInfoMap]);\n  // Try to update inputValue and trigger onInputValueChange callback\n  var tryUpdateInputValue = function (value, reason) {\n    if (value !== refOnInputChangeCallbackValue.current || reason !== refOnInputChangeCallbackReason.current) {\n      setInputValue(value);\n      refOnInputChangeCallbackValue.current = value;\n      refOnInputChangeCallbackReason.current = reason;\n      onInputValueChange && onInputValueChange(value, reason);\n    }\n  };\n  // 尝试更新 popupVisible，触发 onVisibleChange\n  var tryUpdatePopupVisible = function (value) {\n    if (popupVisible !== value) {\n      setPopupVisible(value);\n      onVisibleChange && onVisibleChange(value);\n      triggerProps && triggerProps.onVisibleChange && triggerProps.onVisibleChange(value);\n    }\n  };\n  // 处理模式切换时 value 格式的校正\n  useEffect(function () {\n    if (isMultipleMode) {\n      if (!Array.isArray(value)) {\n        setValue(value === undefined ? [] : [value]);\n      }\n    } else if (Array.isArray(value)) {\n      setValue(value.length === 0 ? undefined : value[0]);\n    }\n  }, [isMultipleMode, value]);\n  // 选项下拉框显示/隐藏时的一些自动行为\n  useEffect(function () {\n    if (popupVisible) {\n      // 重新设置 hover 态的 Option\n      var firstValue = isArray(value) ? value[0] : value;\n      var nextValueActive_1 = !isNoOptionSelected && optionInfoMap.has(firstValue) ? firstValue : valueActiveDefault;\n      setValueActive(nextValueActive_1);\n      // 在弹出框动画结束之后再执行scrollIntoView，否则会有不必要的滚动产生\n      setTimeout(function () {\n        return scrollIntoView(nextValueActive_1);\n      });\n    }\n  }, [popupVisible]);\n  // 处理键盘选择Option时的列表滚动\n  useEffect(function () {\n    if (refKeyboardArrowDirection.current === 'up' || refKeyboardArrowDirection.current === 'down') {\n      scrollIntoView(valueActive);\n      refKeyboardArrowDirection.current = 'none';\n    }\n  }, [valueActive]);\n  // 选项列表改变后，将 active 选项重置\n  useEffect(function () {\n    setValueActive(valueActiveDefault);\n  }, [JSON.stringify(childrenList.map(function (child) {\n    var _a;\n    return (_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.value;\n  }))]);\n  // 更新 refValueMap，避免数组规模无节制扩大\n  useEffect(function () {\n    refValueMap.current = refValueMap.current.filter(function (x) {\n      return isMultipleMode ? isArray(value) && value.indexOf(x.value) > -1 : x.value === value;\n    });\n  }, [value, isMultipleMode]);\n  // allowCreate 时，value 改变时更新下拉框选项\n  useEffect(function () {\n    // 将无对应下拉框选项的 value 当作自定义 tag，将 value 中不存在的 valueTag 移除\n    if (allowCreate && Array.isArray(value)) {\n      var newUserCreatedOptions = value.filter(function (v) {\n        var _a;\n        var option = optionInfoMap.get(v) || ((_a = refValueMap.current.find(function (item) {\n          return item.value === v;\n        })) === null || _a === void 0 ? void 0 : _a.option);\n        return !option || option._origin === 'userCreatingOption';\n      });\n      var validUserCreatedOptions = userCreatedOptions.filter(function (tag) {\n        return value.indexOf(tag) !== -1;\n      });\n      var _userCreatedOptions = validUserCreatedOptions.concat(newUserCreatedOptions);\n      if (_userCreatedOptions.toString() !== userCreatedOptions.toString()) {\n        setUserCreatedOptions(_userCreatedOptions);\n      }\n    }\n  }, [value]);\n  // allowCreate 时，根据输入内容动态修改下拉框选项\n  useEffect(function () {\n    if (allowCreate) {\n      // 避免正在输入的内容覆盖已有的选项\n      setUserCreatingOption(optionInfoMap.has(inputValue) ? null : inputValue);\n    }\n  }, [inputValue]);\n  // 在 inputValue 变化时，适时触发 onSearch\n  useEffect(function () {\n    var reason = refOnInputChangeCallbackReason.current;\n    if (stateInputValue === inputValue && (reason === 'manual' || reason === 'optionListHide')) {\n      onSearch && onSearch(inputValue, reason);\n    }\n  }, [inputValue]);\n  var getOptionInfoByValue = useCallback(function (value) {\n    var option = optionInfoMap.get(value);\n    if (option) {\n      var index = refValueMap.current.findIndex(function (item) {\n        return item.value === value;\n      });\n      if (index > -1) {\n        refValueMap.current.splice(index, 1, {\n          value: value,\n          option: option\n        });\n      } else {\n        refValueMap.current.push({\n          value: value,\n          option: option\n        });\n      }\n      return option;\n    }\n    var item = refValueMap.current.find(function (x) {\n      return x.value === value;\n    });\n    return item && item.option;\n  }, [optionInfoMap]);\n  // 使用方向键选择时，获取下一个 active option 的值\n  var getValueActive = function (direction) {\n    if (!optionIndexListForArrowKey.length) {\n      return undefined;\n    }\n    if (valueActive === undefined || !optionInfoMap.has(valueActive)) {\n      return optionValueList[optionIndexListForArrowKey[0]];\n    }\n    var activeOption = optionInfoMap.get(valueActive);\n    var activeIndex = activeOption._index;\n    var _index = optionIndexListForArrowKey.indexOf(activeIndex);\n    var _length = optionIndexListForArrowKey.length;\n    return optionValueList[optionIndexListForArrowKey[((direction === 'up' ? _index - 1 : _index + 1) + _length) % _length]];\n  };\n  // Object should be returned when labelInValue is true\n  var getValueAndOptionForCallback = function (stateValue, isEmpty) {\n    if (isEmpty === void 0) {\n      isEmpty = isEmptyValue(stateValue, isMultipleMode);\n    }\n    var value = stateValue;\n    var option = stateValue === undefined ? undefined : Array.isArray(stateValue) ? stateValue.map(getOptionInfoByValue) : getOptionInfoByValue(stateValue);\n    if (labelInValue && !isEmpty) {\n      var getOptionLabel_1 = function (optionValue, optionInfo) {\n        var e_1, _a;\n        if (optionInfo) {\n          return optionInfo.children;\n        }\n        // https://github.com/arco-design/arco-design/issues/442\n        // Make sure parameter value has valid label if props.value is already set\n        var propValue = 'value' in props ? props.value : 'defaultValue' in props ? props.defaultValue : null;\n        // Multiple mode\n        if (Array.isArray(propValue)) {\n          try {\n            for (var propValue_1 = __values(propValue), propValue_1_1 = propValue_1.next(); !propValue_1_1.done; propValue_1_1 = propValue_1.next()) {\n              var item = propValue_1_1.value;\n              if (isObject(item) && item.value === optionValue) {\n                return item.label;\n              }\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (propValue_1_1 && !propValue_1_1.done && (_a = propValue_1.return)) _a.call(propValue_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n        }\n        // Single mode\n        else if (isObject(propValue) && propValue.value === optionValue) {\n          return propValue.label;\n        }\n      };\n      if (Array.isArray(stateValue)) {\n        value = stateValue.map(function (optionValue, index) {\n          return {\n            value: optionValue,\n            label: getOptionLabel_1(optionValue, option[index])\n          };\n        });\n      } else {\n        value = {\n          value: stateValue,\n          label: getOptionLabel_1(stateValue, option)\n        };\n      }\n    }\n    return {\n      option: option,\n      value: value\n    };\n  };\n  var tryUpdateSelectValue = function (value) {\n    setValue(value);\n    if (onChange) {\n      var paramsForCallback = getValueAndOptionForCallback(value);\n      onChange(paramsForCallback.value, paramsForCallback.option);\n    }\n  };\n  // 多选时，选择一个选项\n  var checkOption = function (valueToAdd) {\n    var option = optionInfoMap.get(valueToAdd);\n    if (option) {\n      var newValue = value.concat(valueToAdd);\n      tryUpdateSelectValue(newValue);\n    }\n  };\n  // 多选时，取消一个选项\n  var uncheckOption = function (valueToRemove) {\n    // 取消选中时不需要检查option是否存在，因为可能已被外部剔除了此选项\n    var newValue = value.filter(function (v) {\n      return v !== valueToRemove;\n    });\n    tryUpdateSelectValue(newValue);\n    if (onDeselect) {\n      var paramsForCallback = getValueAndOptionForCallback(valueToRemove, false);\n      onDeselect(paramsForCallback.value, paramsForCallback.option);\n    }\n  };\n  var handleOptionClick = function (optionValue, disabled) {\n    if (disabled) {\n      return;\n    }\n    if (isMultipleMode) {\n      value.indexOf(optionValue) === -1 ? checkOption(optionValue) : uncheckOption(optionValue);\n      // 点击一个选项时，清空输入框内容\n      if (!isObject(showSearch) || !showSearch.retainInputValueWhileSelect) {\n        tryUpdateInputValue('', 'optionChecked');\n      }\n    } else {\n      if (optionValue !== value) {\n        tryUpdateSelectValue(optionValue);\n      }\n      setTimeout(function () {\n        tryUpdatePopupVisible(false);\n      });\n    }\n  };\n  // 注册快捷键\n  var hotkeyHandler = getHotkeyHandler(new Map([[Esc.code, function () {\n    return tryUpdatePopupVisible(false);\n  }], [Enter.code, function () {\n    if (popupVisible) {\n      var option = optionInfoMap.get(valueActive);\n      option && handleOptionClick(valueActive, option.disabled);\n    } else {\n      tryUpdatePopupVisible(true);\n    }\n  }], [Tab.code,\n  // 按tab键切换，关闭开启的弹出框\n  function () {\n    return tryUpdatePopupVisible(false);\n  }], [ArrowUp.code, function () {\n    if (popupVisible) {\n      refKeyboardArrowDirection.current = 'up';\n      setValueActive(getValueActive('up'));\n      return false;\n    }\n  }], [ArrowDown.code, function () {\n    if (popupVisible) {\n      refKeyboardArrowDirection.current = 'down';\n      setValueActive(getValueActive('down'));\n      return false;\n    }\n  }]]));\n  var renderPopup = function () {\n    var _a;\n    // 没有设置弹出框的 width 时，需要在虚拟列表渲染的瞬间获得子元素的最大宽度\n    var needMeasureLongestItem = (triggerProps === null || triggerProps === void 0 ? void 0 : triggerProps.autoAlignPopupWidth) === false;\n    // Option 存在复杂子元素时，让获得最长子元素变得困难，此时直接禁用虚拟滚动\n    var needForbidVirtual = needMeasureLongestItem && hasComplexLabelInOptions;\n    var mergedNotFoundContent = 'notFoundContent' in props ? notFoundContent : renderEmpty('Select');\n    // 选项列表元素\n    var eleOptionList = childrenList.length ? React.createElement(VirtualList, __assign({\n      id: instancePopupID,\n      role: \"listbox\",\n      style: dropdownMenuStyle,\n      className: cs(prefixCls + \"-popup-inner\", dropdownMenuClassName),\n      ref: refWrapper,\n      data: childrenList,\n      height: null,\n      isStaticItemHeight: !hasOptGroup,\n      measureLongestItem: needMeasureLongestItem,\n      itemKey: function (child) {\n        return child.props._key;\n      },\n      onMouseDown: preventDefaultEvent,\n      onMouseMove: function () {\n        refKeyboardArrowDirection.current = null;\n      },\n      onScroll: function (e) {\n        return onPopupScroll && onPopupScroll(e.target);\n      }\n    }, virtualListProps, {\n      threshold: needForbidVirtual ? null : virtualListProps === null || virtualListProps === void 0 ? void 0 : virtualListProps.threshold\n    }), function (child) {\n      var _a;\n      if (isSelectOptGroup(child)) {\n        return React.createElement(child.type, __assign({}, child.props, {\n          prefixCls: prefixCls\n        }));\n      }\n      if (isSelectOption(child)) {\n        var optionValue = (_a = child.props) === null || _a === void 0 ? void 0 : _a.value;\n        var optionProps = {\n          prefixCls: prefixCls,\n          rtl: rtl,\n          _valueActive: valueActive,\n          _valueSelect: value,\n          _isMultipleMode: isMultipleMode,\n          _isUserCreatingOption: allowCreate && userCreatingOption === optionValue,\n          _isUserCreatedOption: allowCreate && userCreatedOptions.indexOf(optionValue) > -1,\n          _onClick: handleOptionClick,\n          _onMouseEnter: function (value) {\n            refKeyboardArrowDirection.current === null && setValueActive(value);\n          },\n          _onMouseLeave: function () {\n            refKeyboardArrowDirection.current === null && setValueActive(undefined);\n          }\n        };\n        return child && React.createElement(child.type, __assign({}, child.props, optionProps));\n      }\n      return child;\n    }) : null;\n    // Avoid drop-down box jitter when user is creating a selection\n    var isUserCreating = allowCreate && inputValue;\n    // Dropdown-placeholder when there is no options\n    var eleNoOptionPlaceholder = mergedNotFoundContent && !isUserCreating ? React.createElement(\"div\", {\n      style: dropdownMenuStyle,\n      className: cs(prefixCls + \"-popup-inner\", dropdownMenuClassName)\n    }, mergedNotFoundContent) : null;\n    return React.createElement(\"div\", {\n      className: cs(prefixCls + \"-popup\", (_a = {}, _a[prefixCls + \"-popup-hidden\"] = eleOptionList === null && eleNoOptionPlaceholder === null, _a[prefixCls + \"-popup-multiple\"] = isMultipleMode, _a)),\n      // Make sure hotkey works when dropdown layer get focused\n      tabIndex: -1,\n      onKeyDown: function (e) {\n        return hotkeyHandler(e);\n      }\n    }, typeof dropdownRender === 'function' ? dropdownRender(eleOptionList || eleNoOptionPlaceholder) : eleOptionList || eleNoOptionPlaceholder);\n  };\n  var handleTokenSeparators = function (str) {\n    var hasSeparator = false;\n    if (isMultipleMode && isArray(tokenSeparators) && tokenSeparators.length) {\n      var rawValues_1 = str.split(new RegExp(\"[\" + tokenSeparators.join('') + \"]\"));\n      // 输入了分隔符的情况\n      if (rawValues_1.length > 1) {\n        var splitValues = rawValues_1.filter(function (v, index) {\n          return v && rawValues_1.indexOf(v) === index;\n        });\n        var newValue_1 = value.slice(0);\n        var needUpdate_1 = false;\n        splitValues.forEach(function (v) {\n          if (newValue_1.indexOf(v) === -1 && (allowCreate || optionInfoMap.get(v))) {\n            newValue_1.push(v);\n            needUpdate_1 = true;\n          }\n        });\n        if (needUpdate_1) {\n          tryUpdateSelectValue(newValue_1);\n        }\n        hasSeparator = true;\n      }\n    }\n    return hasSeparator;\n  };\n  // SelectView组件事件处理\n  var selectViewEventHandlers = {\n    onFocus: onFocus,\n    onBlur: function (event) {\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n      // when drop-down is always hidden, input-text needs to be cleared after blur\n      !popupVisible && !refPopupExiting.current && tryUpdateInputValue('', 'optionListHide');\n    },\n    onKeyDown: function (event) {\n      // 处理特殊功能键的自动分词\n      if (event.target.tagName === 'INPUT' && event.target.value) {\n        var isTab = event.key === Tab.key;\n        var isEnter = event.key === Enter.key;\n        if (isEnter || isTab) {\n          var suffix = isEnter ? '\\n' : isTab ? '\\t' : '';\n          if (handleTokenSeparators(event.target.value + suffix)) {\n            refTSLastSeparateTriggered.current = Date.now();\n            // 回车后不会触发 onChangeInputValue 回调，所以在这里直接清空输入框\n            tryUpdateInputValue('', 'tokenSeparator');\n          }\n        }\n      }\n      // 处理快捷键\n      hotkeyHandler(event);\n      onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n    },\n    onChangeInputValue: function (value, _a) {\n      var inputType = _a.nativeEvent.inputType;\n      if (inputType === 'insertFromPaste' && Date.now() - refTSLastSeparateTriggered.current < THRESHOLD_TOKEN_SEPARATOR_TRIGGER || handleTokenSeparators(value)) {\n        tryUpdateInputValue('', 'tokenSeparator');\n      } else {\n        tryUpdateInputValue(value, 'manual');\n      }\n      if (!popupVisible && value) {\n        tryUpdatePopupVisible(true);\n      }\n    },\n    onPaste: function (e) {\n      if (handleTokenSeparators(e.clipboardData.getData('text'))) {\n        refTSLastSeparateTriggered.current = Date.now();\n      }\n      onPaste === null || onPaste === void 0 ? void 0 : onPaste(e);\n    },\n    // Option Items\n    onRemoveCheckedItem: function (_, index, event) {\n      event.stopPropagation();\n      uncheckOption(value[index]);\n    },\n    onClear: function (event) {\n      event.stopPropagation();\n      if (isMultipleMode) {\n        // 保留已经被选中但被disabled的选项值\n        var newValue = value.filter(function (v) {\n          var item = optionInfoMap.get(v);\n          return item && item.disabled;\n        });\n        tryUpdateSelectValue(newValue);\n      } else {\n        tryUpdateSelectValue(undefined);\n      }\n      tryUpdateInputValue('', 'manual');\n      onClear === null || onClear === void 0 ? void 0 : onClear(popupVisible);\n    }\n  };\n  useImperativeHandle(ref, function () {\n    var _a;\n    return {\n      dom: (_a = refSelectView.current) === null || _a === void 0 ? void 0 : _a.dom,\n      focus: function () {\n        refSelectView.current && refSelectView.current.focus();\n      },\n      blur: function () {\n        refSelectView.current && refSelectView.current.blur();\n      },\n      hotkeyHandler: hotkeyHandler,\n      activeOptionValue: valueActive,\n      getOptionInfoByValue: getOptionInfoByValue,\n      getOptionInfoList: function () {\n        return __spreadArray([], __read(optionInfoMap.values()), false).filter(function (info) {\n          return info._valid;\n        });\n      },\n      scrollIntoView: scrollIntoView\n    };\n  }, [hotkeyHandler, optionInfoMap, valueActive, getOptionInfoByValue, scrollIntoView]);\n  var renderView = function (eleView) {\n    return React.createElement(Trigger, __assign({\n      ref: function (ref) {\n        return refTrigger.current = ref;\n      },\n      popup: renderPopup,\n      trigger: trigger,\n      disabled: disabled,\n      getPopupContainer: getPopupContainer,\n      classNames: \"slideDynamicOrigin\",\n      autoAlignPopupWidth: true,\n      popupAlign: {\n        bottom: 4\n      },\n      popupVisible: popupVisible,\n      unmountOnExit: unmountOnExit,\n      onVisibleChange: tryUpdatePopupVisible,\n      __onExit: function () {\n        refPopupExiting.current = true;\n      },\n      __onExited: function () {\n        refPopupExiting.current = false;\n        tryUpdateInputValue('', 'optionListHide');\n      }\n    }, omit(triggerProps, ['popupVisible', 'onVisibleChange'])), eleView);\n  };\n  var usedTriggerElement = typeof triggerElement === 'function' ? triggerElement(getValueAndOptionForCallback(value)) : triggerElement;\n  return React.createElement(ResizeObserver, {\n    onResize: function () {\n      return refTrigger.current.updatePopupPosition();\n    }\n  }, usedTriggerElement !== undefined && usedTriggerElement !== null ? renderView(usedTriggerElement) : React.createElement(SelectView, __assign({}, props, selectViewEventHandlers, {\n    ref: refSelectView,\n    // state\n    value: value,\n    inputValue: inputValue,\n    popupVisible: popupVisible,\n    // other\n    rtl: rtl,\n    prefixCls: prefixCls,\n    ariaControls: instancePopupID,\n    isEmptyValue: isNoOptionSelected,\n    isMultiple: isMultipleMode,\n    onSort: tryUpdateSelectValue,\n    renderText: function (value) {\n      var option = getOptionInfoByValue(value);\n      var text = value;\n      if (isFunction(renderFormat)) {\n        var paramsForCallback = getValueAndOptionForCallback(value, false);\n        text = renderFormat(paramsForCallback.option || null, paramsForCallback.value);\n      } else {\n        var foundLabelFromProps = false;\n        if (labelInValue) {\n          var propValue = props.value || props.defaultValue;\n          if (Array.isArray(propValue)) {\n            var targetLabeledValue = propValue.find(function (item) {\n              return isObject(item) && item.value === value;\n            });\n            if (targetLabeledValue) {\n              text = targetLabeledValue.label;\n              foundLabelFromProps = true;\n            }\n          } else if (isObject(propValue)) {\n            text = propValue.label;\n            foundLabelFromProps = true;\n          }\n        }\n        if (!foundLabelFromProps && option && 'children' in option) {\n          text = option.children;\n        }\n      }\n      return {\n        text: text,\n        disabled: option && option.disabled\n      };\n    },\n    renderView: renderView\n  })));\n}\nvar ForwardRefSelect = React.forwardRef(Select);\nvar SelectComponent = ForwardRefSelect;\nSelectComponent.displayName = 'Select';\nSelectComponent.Option = Option;\nSelectComponent.OptGroup = OptGroup;\nexport default SelectComponent;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__values","TypeError","__spreadArray","to","from","pack","l","Array","slice","concat","React","useCallback","useContext","useEffect","useImperativeHandle","useMemo","useRef","useState","cs","ArrowUp","ArrowDown","Enter","Esc","Tab","Trigger","OptGroup","Option","ResizeObserver","isArray","isFunction","isObject","getHotkeyHandler","warning","SelectView","VirtualList","preventDefaultEvent","isEmptyValue","getValidValue","isSelectOption","isSelectOptGroup","flatChildren","ConfigContext","useMergeValue","omit","useMergeProps","useId","THRESHOLD_TOKEN_SEPARATOR_TRIGGER","defaultProps","trigger","bordered","filterOption","unmountOnExit","defaultActiveFirstOption","Select","baseProps","ref","_a","getPrefixCls","renderEmpty","componentConfig","rtl","props","children","renderFormat","disabled","notFoundContent","showSearch","tokenSeparators","options","labelInValue","getPopupContainer","triggerElement","triggerProps","dropdownRender","dropdownMenuStyle","dropdownMenuClassName","virtualListProps","onChange","onDeselect","onClear","onSearch","onFocus","onBlur","onPopupScroll","onVisibleChange","onInputValueChange","onPaste","onKeyDown","mode","allowCreate","prefixCls","isMultipleMode","_b","defaultValue","stateValue","setValue","_c","inputValue","undefined","setInputValue","stateInputValue","_d","defaultPopupVisible","popupVisible","setPopupVisible","_e","userCreatingOption","setUserCreatingOption","_f","userCreatedOptions","setUserCreatedOptions","_g","valueActive","setValueActive","_h","childrenList","optionInfoMap","optionValueList","optionIndexListForArrowKey","hasOptGroup","hasComplexLabelInOptions","refWrapper","refTrigger","refSelectView","refValueMap","refKeyboardArrowDirection","refOnInputChangeCallbackValue","refOnInputChangeCallbackReason","refTSLastSeparateTriggered","refPopupExiting","instancePopupID","isNoOptionSelected","valueActiveDefault","scrollIntoView","optionValue","activeOption","get","current","child","scrollTo","key","_key","tryUpdateInputValue","reason","tryUpdatePopupVisible","firstValue","nextValueActive_1","has","setTimeout","JSON","stringify","map","filter","x","indexOf","newUserCreatedOptions","v","option","find","item","_origin","validUserCreatedOptions","tag","_userCreatedOptions","toString","getOptionInfoByValue","index","findIndex","splice","getValueActive","direction","activeIndex","_index","_length","getValueAndOptionForCallback","isEmpty","getOptionLabel_1","optionInfo","e_1","propValue","propValue_1","propValue_1_1","label","e_1_1","return","tryUpdateSelectValue","paramsForCallback","checkOption","valueToAdd","newValue","uncheckOption","valueToRemove","handleOptionClick","retainInputValueWhileSelect","hotkeyHandler","Map","code","renderPopup","needMeasureLongestItem","autoAlignPopupWidth","needForbidVirtual","mergedNotFoundContent","eleOptionList","createElement","id","role","style","className","data","height","isStaticItemHeight","measureLongestItem","itemKey","onMouseDown","onMouseMove","onScroll","target","threshold","type","optionProps","_valueActive","_valueSelect","_isMultipleMode","_isUserCreatingOption","_isUserCreatedOption","_onClick","_onMouseEnter","_onMouseLeave","isUserCreating","eleNoOptionPlaceholder","tabIndex","handleTokenSeparators","str","hasSeparator","rawValues_1","split","RegExp","join","splitValues","newValue_1","needUpdate_1","forEach","selectViewEventHandlers","event","tagName","isTab","isEnter","suffix","Date","now","onChangeInputValue","inputType","nativeEvent","clipboardData","getData","onRemoveCheckedItem","_","stopPropagation","dom","focus","blur","activeOptionValue","getOptionInfoList","values","info","_valid","renderView","eleView","popup","classNames","popupAlign","bottom","__onExit","__onExited","usedTriggerElement","onResize","updatePopupPosition","ariaControls","isMultiple","onSort","renderText","text","foundLabelFromProps","targetLabeledValue","ForwardRefSelect","forwardRef","SelectComponent","displayName"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Select/select.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState, } from 'react';\nimport cs from '../_util/classNames';\nimport { ArrowUp, ArrowDown, Enter, Esc, Tab } from '../_util/keycode';\nimport Trigger from '../Trigger';\nimport OptGroup from './opt-group';\nimport Option from './option';\nimport ResizeObserver from '../_util/resizeObserver';\nimport { isArray, isFunction, isObject } from '../_util/is';\nimport getHotkeyHandler from '../_util/getHotkeyHandler';\nimport warning from '../_util/warning';\nimport SelectView from '../_class/select-view';\nimport VirtualList from '../_class/VirtualList';\nimport { preventDefaultEvent, isEmptyValue, getValidValue, isSelectOption, isSelectOptGroup, flatChildren, } from './utils';\nimport { ConfigContext } from '../ConfigProvider';\nimport useMergeValue from '../_util/hooks/useMergeValue';\nimport omit from '../_util/omit';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useId from '../_util/hooks/useId';\n// 输入框粘贴会先触发 onPaste 后触发 onChange，但 onChange 的 value 中不包含换行符\n// 如果刚刚因为粘贴触发过分词，则 onChange 不再进行分词尝试\nvar THRESHOLD_TOKEN_SEPARATOR_TRIGGER = 100;\nvar defaultProps = {\n    trigger: 'click',\n    bordered: true,\n    filterOption: true,\n    unmountOnExit: true,\n    defaultActiveFirstOption: true,\n};\nfunction Select(baseProps, ref) {\n    var _a = useContext(ConfigContext), getPrefixCls = _a.getPrefixCls, renderEmpty = _a.renderEmpty, componentConfig = _a.componentConfig, rtl = _a.rtl;\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Select);\n    var children = props.children, renderFormat = props.renderFormat, defaultActiveFirstOption = props.defaultActiveFirstOption, disabled = props.disabled, unmountOnExit = props.unmountOnExit, notFoundContent = props.notFoundContent, showSearch = props.showSearch, tokenSeparators = props.tokenSeparators, options = props.options, filterOption = props.filterOption, labelInValue = props.labelInValue, getPopupContainer = props.getPopupContainer, trigger = props.trigger, triggerElement = props.triggerElement, triggerProps = props.triggerProps, dropdownRender = props.dropdownRender, dropdownMenuStyle = props.dropdownMenuStyle, dropdownMenuClassName = props.dropdownMenuClassName, virtualListProps = props.virtualListProps, \n    // events\n    onChange = props.onChange, onDeselect = props.onDeselect, onClear = props.onClear, onSearch = props.onSearch, onFocus = props.onFocus, onBlur = props.onBlur, onPopupScroll = props.onPopupScroll, onVisibleChange = props.onVisibleChange, onInputValueChange = props.onInputValueChange, onPaste = props.onPaste, onKeyDown = props.onKeyDown;\n    // TODO 兼容逻辑，3.0 移除 tags 模式\n    var mode = props.mode, allowCreate = props.allowCreate;\n    if (mode === 'tags') {\n        mode = 'multiple';\n        allowCreate = true;\n        warning(true, \"[Arco Select] The 'tags' mode will be removed in the next major version, please use {mode: \\\"multiple\\\", allowCreate: true} instead.\");\n    }\n    var prefixCls = getPrefixCls('select');\n    var isMultipleMode = mode === 'multiple';\n    // TODO: 统一 useMergeValue 函数的表现\n    var _b = __read(useState(getValidValue(props.defaultValue, isMultipleMode, labelInValue)), 2), stateValue = _b[0], setValue = _b[1];\n    var value = 'value' in props ? getValidValue(props.value, isMultipleMode, labelInValue) : stateValue;\n    var _c = __read(useMergeValue('', {\n        value: 'inputValue' in props ? props.inputValue || '' : undefined,\n    }), 3), inputValue = _c[0], setInputValue = _c[1], stateInputValue = _c[2];\n    var _d = __read(useMergeValue(false, {\n        defaultValue: props.defaultPopupVisible,\n        value: 'popupVisible' in props\n            ? props.popupVisible\n            : triggerProps && 'popupVisible' in triggerProps\n                ? triggerProps.popupVisible\n                : undefined,\n    }), 2), popupVisible = _d[0], setPopupVisible = _d[1];\n    // allowCreate 时，用户正在创建的选项值\n    var _e = __read(useState(null), 2), userCreatingOption = _e[0], setUserCreatingOption = _e[1];\n    // allowCreate 时，由用户输入而扩展到选项中的值\n    var _f = __read(useState([]), 2), userCreatedOptions = _f[0], setUserCreatedOptions = _f[1];\n    // 具有选中态或者 hover 态的 option 的 value\n    var _g = __read(useState(isArray(value) ? value[0] : value), 2), valueActive = _g[0], setValueActive = _g[1];\n    // 缓存较为耗时的 flatChildren 的结果\n    var _h = useMemo(function () {\n        return flatChildren({ children: children, options: options, filterOption: filterOption }, {\n            prefixCls: prefixCls,\n            inputValue: inputValue,\n            userCreatedOptions: userCreatedOptions,\n            userCreatingOption: userCreatingOption,\n        });\n    }, [children, options, filterOption, inputValue, userCreatingOption, userCreatedOptions]), childrenList = _h.childrenList, optionInfoMap = _h.optionInfoMap, optionValueList = _h.optionValueList, optionIndexListForArrowKey = _h.optionIndexListForArrowKey, hasOptGroup = _h.hasOptGroup, hasComplexLabelInOptions = _h.hasComplexLabelInOptions;\n    // ref\n    var refWrapper = useRef(null);\n    var refTrigger = useRef(null);\n    var refSelectView = useRef(null);\n    // 用来保存 value 和选中项的映射\n    var refValueMap = useRef([]);\n    // 用 none 表示目前处于键盘操作中，忽略鼠标的 onMouseEnter 和 onMouseLeave 事件\n    var refKeyboardArrowDirection = useRef(null);\n    // 触发 onInputValueChange 回调的值\n    var refOnInputChangeCallbackValue = useRef(inputValue);\n    // 触发 onInputValueChange 回调的原因\n    var refOnInputChangeCallbackReason = useRef(null);\n    // 上次成功触发自动分词的时间\n    var refTSLastSeparateTriggered = useRef(0);\n    // Whether in the hidden animation of drop-down\n    var refPopupExiting = useRef(false);\n    // Unique ID of this select instance\n    var instancePopupID = useId(prefixCls + \"-popup-\");\n    var isNoOptionSelected = isEmptyValue(value, isMultipleMode);\n    var valueActiveDefault = defaultActiveFirstOption\n        ? optionValueList[optionIndexListForArrowKey[0]]\n        : undefined;\n    var scrollIntoView = useCallback(function (optionValue, options) {\n        var _a;\n        var activeOption = optionInfoMap.get(optionValue);\n        if (refWrapper.current && ((_a = activeOption === null || activeOption === void 0 ? void 0 : activeOption.child) === null || _a === void 0 ? void 0 : _a.props)) {\n            refWrapper.current.scrollTo({ key: activeOption.child.props._key, options: options });\n        }\n    }, [optionInfoMap]);\n    // Try to update inputValue and trigger onInputValueChange callback\n    var tryUpdateInputValue = function (value, reason) {\n        if (value !== refOnInputChangeCallbackValue.current ||\n            reason !== refOnInputChangeCallbackReason.current) {\n            setInputValue(value);\n            refOnInputChangeCallbackValue.current = value;\n            refOnInputChangeCallbackReason.current = reason;\n            onInputValueChange && onInputValueChange(value, reason);\n        }\n    };\n    // 尝试更新 popupVisible，触发 onVisibleChange\n    var tryUpdatePopupVisible = function (value) {\n        if (popupVisible !== value) {\n            setPopupVisible(value);\n            onVisibleChange && onVisibleChange(value);\n            triggerProps && triggerProps.onVisibleChange && triggerProps.onVisibleChange(value);\n        }\n    };\n    // 处理模式切换时 value 格式的校正\n    useEffect(function () {\n        if (isMultipleMode) {\n            if (!Array.isArray(value)) {\n                setValue(value === undefined ? [] : [value]);\n            }\n        }\n        else if (Array.isArray(value)) {\n            setValue(value.length === 0 ? undefined : value[0]);\n        }\n    }, [isMultipleMode, value]);\n    // 选项下拉框显示/隐藏时的一些自动行为\n    useEffect(function () {\n        if (popupVisible) {\n            // 重新设置 hover 态的 Option\n            var firstValue = isArray(value) ? value[0] : value;\n            var nextValueActive_1 = !isNoOptionSelected && optionInfoMap.has(firstValue) ? firstValue : valueActiveDefault;\n            setValueActive(nextValueActive_1);\n            // 在弹出框动画结束之后再执行scrollIntoView，否则会有不必要的滚动产生\n            setTimeout(function () { return scrollIntoView(nextValueActive_1); });\n        }\n    }, [popupVisible]);\n    // 处理键盘选择Option时的列表滚动\n    useEffect(function () {\n        if (refKeyboardArrowDirection.current === 'up' ||\n            refKeyboardArrowDirection.current === 'down') {\n            scrollIntoView(valueActive);\n            refKeyboardArrowDirection.current = 'none';\n        }\n    }, [valueActive]);\n    // 选项列表改变后，将 active 选项重置\n    useEffect(function () {\n        setValueActive(valueActiveDefault);\n    }, [JSON.stringify(childrenList.map(function (child) { var _a; return (_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.value; }))]);\n    // 更新 refValueMap，避免数组规模无节制扩大\n    useEffect(function () {\n        refValueMap.current = refValueMap.current.filter(function (x) {\n            return isMultipleMode\n                ? isArray(value) && value.indexOf(x.value) > -1\n                : x.value === value;\n        });\n    }, [value, isMultipleMode]);\n    // allowCreate 时，value 改变时更新下拉框选项\n    useEffect(function () {\n        // 将无对应下拉框选项的 value 当作自定义 tag，将 value 中不存在的 valueTag 移除\n        if (allowCreate && Array.isArray(value)) {\n            var newUserCreatedOptions = value.filter(function (v) {\n                var _a;\n                var option = optionInfoMap.get(v) || ((_a = refValueMap.current.find(function (item) { return item.value === v; })) === null || _a === void 0 ? void 0 : _a.option);\n                return !option || option._origin === 'userCreatingOption';\n            });\n            var validUserCreatedOptions = userCreatedOptions.filter(function (tag) { return value.indexOf(tag) !== -1; });\n            var _userCreatedOptions = validUserCreatedOptions.concat(newUserCreatedOptions);\n            if (_userCreatedOptions.toString() !== userCreatedOptions.toString()) {\n                setUserCreatedOptions(_userCreatedOptions);\n            }\n        }\n    }, [value]);\n    // allowCreate 时，根据输入内容动态修改下拉框选项\n    useEffect(function () {\n        if (allowCreate) {\n            // 避免正在输入的内容覆盖已有的选项\n            setUserCreatingOption(optionInfoMap.has(inputValue) ? null : inputValue);\n        }\n    }, [inputValue]);\n    // 在 inputValue 变化时，适时触发 onSearch\n    useEffect(function () {\n        var reason = refOnInputChangeCallbackReason.current;\n        if (stateInputValue === inputValue && (reason === 'manual' || reason === 'optionListHide')) {\n            onSearch && onSearch(inputValue, reason);\n        }\n    }, [inputValue]);\n    var getOptionInfoByValue = useCallback(function (value) {\n        var option = optionInfoMap.get(value);\n        if (option) {\n            var index = refValueMap.current.findIndex(function (item) { return item.value === value; });\n            if (index > -1) {\n                refValueMap.current.splice(index, 1, { value: value, option: option });\n            }\n            else {\n                refValueMap.current.push({ value: value, option: option });\n            }\n            return option;\n        }\n        var item = refValueMap.current.find(function (x) { return x.value === value; });\n        return item && item.option;\n    }, [optionInfoMap]);\n    // 使用方向键选择时，获取下一个 active option 的值\n    var getValueActive = function (direction) {\n        if (!optionIndexListForArrowKey.length) {\n            return undefined;\n        }\n        if (valueActive === undefined || !optionInfoMap.has(valueActive)) {\n            return optionValueList[optionIndexListForArrowKey[0]];\n        }\n        var activeOption = optionInfoMap.get(valueActive);\n        var activeIndex = activeOption._index;\n        var _index = optionIndexListForArrowKey.indexOf(activeIndex);\n        var _length = optionIndexListForArrowKey.length;\n        return optionValueList[optionIndexListForArrowKey[((direction === 'up' ? _index - 1 : _index + 1) + _length) % _length]];\n    };\n    // Object should be returned when labelInValue is true\n    var getValueAndOptionForCallback = function (stateValue, isEmpty) {\n        if (isEmpty === void 0) { isEmpty = isEmptyValue(stateValue, isMultipleMode); }\n        var value = stateValue;\n        var option = stateValue === undefined\n            ? undefined\n            : Array.isArray(stateValue)\n                ? stateValue.map(getOptionInfoByValue)\n                : getOptionInfoByValue(stateValue);\n        if (labelInValue && !isEmpty) {\n            var getOptionLabel_1 = function (optionValue, optionInfo) {\n                var e_1, _a;\n                if (optionInfo) {\n                    return optionInfo.children;\n                }\n                // https://github.com/arco-design/arco-design/issues/442\n                // Make sure parameter value has valid label if props.value is already set\n                var propValue = 'value' in props ? props.value : 'defaultValue' in props ? props.defaultValue : null;\n                // Multiple mode\n                if (Array.isArray(propValue)) {\n                    try {\n                        for (var propValue_1 = __values(propValue), propValue_1_1 = propValue_1.next(); !propValue_1_1.done; propValue_1_1 = propValue_1.next()) {\n                            var item = propValue_1_1.value;\n                            if (isObject(item) && item.value === optionValue) {\n                                return item.label;\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (propValue_1_1 && !propValue_1_1.done && (_a = propValue_1.return)) _a.call(propValue_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                // Single mode\n                else if (isObject(propValue) && propValue.value === optionValue) {\n                    return propValue.label;\n                }\n            };\n            if (Array.isArray(stateValue)) {\n                value = stateValue.map(function (optionValue, index) { return ({\n                    value: optionValue,\n                    label: getOptionLabel_1(optionValue, option[index]),\n                }); });\n            }\n            else {\n                value = { value: stateValue, label: getOptionLabel_1(stateValue, option) };\n            }\n        }\n        return { option: option, value: value };\n    };\n    var tryUpdateSelectValue = function (value) {\n        setValue(value);\n        if (onChange) {\n            var paramsForCallback = getValueAndOptionForCallback(value);\n            onChange(paramsForCallback.value, paramsForCallback.option);\n        }\n    };\n    // 多选时，选择一个选项\n    var checkOption = function (valueToAdd) {\n        var option = optionInfoMap.get(valueToAdd);\n        if (option) {\n            var newValue = value.concat(valueToAdd);\n            tryUpdateSelectValue(newValue);\n        }\n    };\n    // 多选时，取消一个选项\n    var uncheckOption = function (valueToRemove) {\n        // 取消选中时不需要检查option是否存在，因为可能已被外部剔除了此选项\n        var newValue = value.filter(function (v) { return v !== valueToRemove; });\n        tryUpdateSelectValue(newValue);\n        if (onDeselect) {\n            var paramsForCallback = getValueAndOptionForCallback(valueToRemove, false);\n            onDeselect(paramsForCallback.value, paramsForCallback.option);\n        }\n    };\n    var handleOptionClick = function (optionValue, disabled) {\n        if (disabled) {\n            return;\n        }\n        if (isMultipleMode) {\n            value.indexOf(optionValue) === -1\n                ? checkOption(optionValue)\n                : uncheckOption(optionValue);\n            // 点击一个选项时，清空输入框内容\n            if (!isObject(showSearch) || !showSearch.retainInputValueWhileSelect) {\n                tryUpdateInputValue('', 'optionChecked');\n            }\n        }\n        else {\n            if (optionValue !== value) {\n                tryUpdateSelectValue(optionValue);\n            }\n            setTimeout(function () {\n                tryUpdatePopupVisible(false);\n            });\n        }\n    };\n    // 注册快捷键\n    var hotkeyHandler = getHotkeyHandler(new Map([\n        [Esc.code, function () { return tryUpdatePopupVisible(false); }],\n        [\n            Enter.code,\n            function () {\n                if (popupVisible) {\n                    var option = optionInfoMap.get(valueActive);\n                    option && handleOptionClick(valueActive, option.disabled);\n                }\n                else {\n                    tryUpdatePopupVisible(true);\n                }\n            },\n        ],\n        [\n            Tab.code,\n            // 按tab键切换，关闭开启的弹出框\n            function () { return tryUpdatePopupVisible(false); },\n        ],\n        [\n            ArrowUp.code,\n            function () {\n                if (popupVisible) {\n                    refKeyboardArrowDirection.current = 'up';\n                    setValueActive(getValueActive('up'));\n                    return false;\n                }\n            },\n        ],\n        [\n            ArrowDown.code,\n            function () {\n                if (popupVisible) {\n                    refKeyboardArrowDirection.current = 'down';\n                    setValueActive(getValueActive('down'));\n                    return false;\n                }\n            },\n        ],\n    ]));\n    var renderPopup = function () {\n        var _a;\n        // 没有设置弹出框的 width 时，需要在虚拟列表渲染的瞬间获得子元素的最大宽度\n        var needMeasureLongestItem = (triggerProps === null || triggerProps === void 0 ? void 0 : triggerProps.autoAlignPopupWidth) === false;\n        // Option 存在复杂子元素时，让获得最长子元素变得困难，此时直接禁用虚拟滚动\n        var needForbidVirtual = needMeasureLongestItem && hasComplexLabelInOptions;\n        var mergedNotFoundContent = 'notFoundContent' in props ? notFoundContent : renderEmpty('Select');\n        // 选项列表元素\n        var eleOptionList = childrenList.length ? (React.createElement(VirtualList, __assign({ id: instancePopupID, role: \"listbox\", style: dropdownMenuStyle, className: cs(prefixCls + \"-popup-inner\", dropdownMenuClassName), ref: refWrapper, data: childrenList, height: null, isStaticItemHeight: !hasOptGroup, measureLongestItem: needMeasureLongestItem, itemKey: function (child) { return child.props._key; }, onMouseDown: preventDefaultEvent, onMouseMove: function () {\n                refKeyboardArrowDirection.current = null;\n            }, onScroll: function (e) { return onPopupScroll && onPopupScroll(e.target); } }, virtualListProps, { threshold: needForbidVirtual ? null : virtualListProps === null || virtualListProps === void 0 ? void 0 : virtualListProps.threshold }), function (child) {\n            var _a;\n            if (isSelectOptGroup(child)) {\n                return React.createElement(child.type, __assign({}, child.props, { prefixCls: prefixCls }));\n            }\n            if (isSelectOption(child)) {\n                var optionValue = (_a = child.props) === null || _a === void 0 ? void 0 : _a.value;\n                var optionProps = {\n                    prefixCls: prefixCls,\n                    rtl: rtl,\n                    _valueActive: valueActive,\n                    _valueSelect: value,\n                    _isMultipleMode: isMultipleMode,\n                    _isUserCreatingOption: allowCreate && userCreatingOption === optionValue,\n                    _isUserCreatedOption: allowCreate && userCreatedOptions.indexOf(optionValue) > -1,\n                    _onClick: handleOptionClick,\n                    _onMouseEnter: function (value) {\n                        refKeyboardArrowDirection.current === null && setValueActive(value);\n                    },\n                    _onMouseLeave: function () {\n                        refKeyboardArrowDirection.current === null && setValueActive(undefined);\n                    },\n                };\n                return child && React.createElement(child.type, __assign({}, child.props, optionProps));\n            }\n            return child;\n        })) : null;\n        // Avoid drop-down box jitter when user is creating a selection\n        var isUserCreating = allowCreate && inputValue;\n        // Dropdown-placeholder when there is no options\n        var eleNoOptionPlaceholder = mergedNotFoundContent && !isUserCreating ? (React.createElement(\"div\", { style: dropdownMenuStyle, className: cs(prefixCls + \"-popup-inner\", dropdownMenuClassName) }, mergedNotFoundContent)) : null;\n        return (React.createElement(\"div\", { className: cs(prefixCls + \"-popup\", (_a = {},\n                _a[prefixCls + \"-popup-hidden\"] = eleOptionList === null && eleNoOptionPlaceholder === null,\n                _a[prefixCls + \"-popup-multiple\"] = isMultipleMode,\n                _a)), \n            // Make sure hotkey works when dropdown layer get focused\n            tabIndex: -1, onKeyDown: function (e) { return hotkeyHandler(e); } }, typeof dropdownRender === 'function'\n            ? dropdownRender(eleOptionList || eleNoOptionPlaceholder)\n            : eleOptionList || eleNoOptionPlaceholder));\n    };\n    var handleTokenSeparators = function (str) {\n        var hasSeparator = false;\n        if (isMultipleMode && isArray(tokenSeparators) && tokenSeparators.length) {\n            var rawValues_1 = str.split(new RegExp(\"[\" + tokenSeparators.join('') + \"]\"));\n            // 输入了分隔符的情况\n            if (rawValues_1.length > 1) {\n                var splitValues = rawValues_1.filter(function (v, index) { return v && rawValues_1.indexOf(v) === index; });\n                var newValue_1 = value.slice(0);\n                var needUpdate_1 = false;\n                splitValues.forEach(function (v) {\n                    if (newValue_1.indexOf(v) === -1 && (allowCreate || optionInfoMap.get(v))) {\n                        newValue_1.push(v);\n                        needUpdate_1 = true;\n                    }\n                });\n                if (needUpdate_1) {\n                    tryUpdateSelectValue(newValue_1);\n                }\n                hasSeparator = true;\n            }\n        }\n        return hasSeparator;\n    };\n    // SelectView组件事件处理\n    var selectViewEventHandlers = {\n        onFocus: onFocus,\n        onBlur: function (event) {\n            onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n            // when drop-down is always hidden, input-text needs to be cleared after blur\n            !popupVisible && !refPopupExiting.current && tryUpdateInputValue('', 'optionListHide');\n        },\n        onKeyDown: function (event) {\n            // 处理特殊功能键的自动分词\n            if (event.target.tagName === 'INPUT' && event.target.value) {\n                var isTab = event.key === Tab.key;\n                var isEnter = event.key === Enter.key;\n                if (isEnter || isTab) {\n                    var suffix = isEnter ? '\\n' : isTab ? '\\t' : '';\n                    if (handleTokenSeparators(event.target.value + suffix)) {\n                        refTSLastSeparateTriggered.current = Date.now();\n                        // 回车后不会触发 onChangeInputValue 回调，所以在这里直接清空输入框\n                        tryUpdateInputValue('', 'tokenSeparator');\n                    }\n                }\n            }\n            // 处理快捷键\n            hotkeyHandler(event);\n            onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n        },\n        onChangeInputValue: function (value, _a) {\n            var inputType = _a.nativeEvent.inputType;\n            if ((inputType === 'insertFromPaste' &&\n                Date.now() - refTSLastSeparateTriggered.current < THRESHOLD_TOKEN_SEPARATOR_TRIGGER) ||\n                handleTokenSeparators(value)) {\n                tryUpdateInputValue('', 'tokenSeparator');\n            }\n            else {\n                tryUpdateInputValue(value, 'manual');\n            }\n            if (!popupVisible && value) {\n                tryUpdatePopupVisible(true);\n            }\n        },\n        onPaste: function (e) {\n            if (handleTokenSeparators(e.clipboardData.getData('text'))) {\n                refTSLastSeparateTriggered.current = Date.now();\n            }\n            onPaste === null || onPaste === void 0 ? void 0 : onPaste(e);\n        },\n        // Option Items\n        onRemoveCheckedItem: function (_, index, event) {\n            event.stopPropagation();\n            uncheckOption(value[index]);\n        },\n        onClear: function (event) {\n            event.stopPropagation();\n            if (isMultipleMode) {\n                // 保留已经被选中但被disabled的选项值\n                var newValue = value.filter(function (v) {\n                    var item = optionInfoMap.get(v);\n                    return item && item.disabled;\n                });\n                tryUpdateSelectValue(newValue);\n            }\n            else {\n                tryUpdateSelectValue(undefined);\n            }\n            tryUpdateInputValue('', 'manual');\n            onClear === null || onClear === void 0 ? void 0 : onClear(popupVisible);\n        },\n    };\n    useImperativeHandle(ref, function () {\n        var _a;\n        return ({\n            dom: (_a = refSelectView.current) === null || _a === void 0 ? void 0 : _a.dom,\n            focus: function () {\n                refSelectView.current && refSelectView.current.focus();\n            },\n            blur: function () {\n                refSelectView.current && refSelectView.current.blur();\n            },\n            hotkeyHandler: hotkeyHandler,\n            activeOptionValue: valueActive,\n            getOptionInfoByValue: getOptionInfoByValue,\n            getOptionInfoList: function () { return __spreadArray([], __read(optionInfoMap.values()), false).filter(function (info) { return info._valid; }); },\n            scrollIntoView: scrollIntoView,\n        });\n    }, [hotkeyHandler, optionInfoMap, valueActive, getOptionInfoByValue, scrollIntoView]);\n    var renderView = function (eleView) {\n        return (React.createElement(Trigger, __assign({ ref: function (ref) { return (refTrigger.current = ref); }, popup: renderPopup, trigger: trigger, disabled: disabled, getPopupContainer: getPopupContainer, classNames: \"slideDynamicOrigin\", autoAlignPopupWidth: true, popupAlign: { bottom: 4 }, popupVisible: popupVisible, unmountOnExit: unmountOnExit, onVisibleChange: tryUpdatePopupVisible, __onExit: function () {\n                refPopupExiting.current = true;\n            }, __onExited: function () {\n                refPopupExiting.current = false;\n                tryUpdateInputValue('', 'optionListHide');\n            } }, omit(triggerProps, ['popupVisible', 'onVisibleChange'])), eleView));\n    };\n    var usedTriggerElement = typeof triggerElement === 'function'\n        ? triggerElement(getValueAndOptionForCallback(value))\n        : triggerElement;\n    return (React.createElement(ResizeObserver, { onResize: function () { return refTrigger.current.updatePopupPosition(); } }, usedTriggerElement !== undefined && usedTriggerElement !== null ? (renderView(usedTriggerElement)) : (React.createElement(SelectView, __assign({}, props, selectViewEventHandlers, { ref: refSelectView, \n        // state\n        value: value, inputValue: inputValue, popupVisible: popupVisible, \n        // other\n        rtl: rtl, prefixCls: prefixCls, ariaControls: instancePopupID, isEmptyValue: isNoOptionSelected, isMultiple: isMultipleMode, onSort: tryUpdateSelectValue, renderText: function (value) {\n            var option = getOptionInfoByValue(value);\n            var text = value;\n            if (isFunction(renderFormat)) {\n                var paramsForCallback = getValueAndOptionForCallback(value, false);\n                text = renderFormat(paramsForCallback.option || null, paramsForCallback.value);\n            }\n            else {\n                var foundLabelFromProps = false;\n                if (labelInValue) {\n                    var propValue = props.value || props.defaultValue;\n                    if (Array.isArray(propValue)) {\n                        var targetLabeledValue = propValue.find(function (item) { return isObject(item) && item.value === value; });\n                        if (targetLabeledValue) {\n                            text = targetLabeledValue.label;\n                            foundLabelFromProps = true;\n                        }\n                    }\n                    else if (isObject(propValue)) {\n                        text = propValue.label;\n                        foundLabelFromProps = true;\n                    }\n                }\n                if (!foundLabelFromProps && option && 'children' in option) {\n                    text = option.children;\n                }\n            }\n            return {\n                text: text,\n                disabled: option && option.disabled,\n            };\n        }, renderView: renderView })))));\n}\nvar ForwardRefSelect = React.forwardRef(Select);\nvar SelectComponent = ForwardRefSelect;\nSelectComponent.displayName = 'Select';\nSelectComponent.Option = Option;\nSelectComponent.OptGroup = OptGroup;\nexport default SelectComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}