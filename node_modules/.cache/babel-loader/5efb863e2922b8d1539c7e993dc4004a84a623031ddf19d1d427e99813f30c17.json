{"ast":null,"code":"import React, { useMemo } from 'react';\nimport IconDown from '../../../icon/react-icon/IconDown';\nimport Dropdown from '../../Dropdown';\nimport Menu from '../../Menu';\nimport IconHover from '../../_class/icon-hover';\nexport default function DropdownIcon(props) {\n  var prefixCls = props.prefixCls,\n    currentOffset = props.currentOffset,\n    headerSize = props.headerSize,\n    headerWrapperSize = props.headerWrapperSize,\n    getTitleRef = props.getTitleRef,\n    paneChildren = props.paneChildren,\n    direction = props.direction;\n  var paneKeys = paneChildren.map(function (child) {\n    return child.key;\n  });\n  var size = direction === 'vertical' ? headerSize.height : headerSize.width;\n  var wrapperSize = direction === 'vertical' ? headerWrapperSize.height : headerWrapperSize.width;\n  var tabSizes = useMemo(function () {\n    var map = {};\n    var wrapperRect = headerWrapperSize.domRect;\n    paneKeys.map(function (key) {\n      var titleDom = getTitleRef(key);\n      if (!titleDom) return;\n      var rect = titleDom.getBoundingClientRect();\n      map[key] = {\n        left: rect.left - wrapperRect.left,\n        right: rect.left - wrapperRect.left + rect.width,\n        top: rect.top - wrapperRect.top,\n        bottom: rect.top - wrapperRect.top + rect.height\n      };\n    });\n    return map;\n  }, [paneKeys.join(','), size, wrapperSize]);\n  var rangeIndex = useMemo(function () {\n    var start = -1;\n    var end = -1;\n    for (var key in tabSizes) {\n      var _a = tabSizes[key],\n        left = _a.left,\n        right = _a.right;\n      if (left >= currentOffset && right - currentOffset <= wrapperSize && start === -1) {\n        start = paneKeys.indexOf(key);\n        end = start;\n      }\n      if (left >= currentOffset && right - currentOffset > wrapperSize) {\n        end = paneKeys.indexOf(key);\n        break;\n      }\n    }\n    return [start, end];\n  }, [tabSizes, paneKeys.join(','), currentOffset]);\n  return React.createElement(Dropdown, {\n    trigger: \"click\",\n    droplist: React.createElement(Menu, {\n      onClickMenuItem: props.onClickTab\n    }, paneChildren.map(function (child, index) {\n      if (index < rangeIndex[0] || index >= rangeIndex[1]) {\n        return React.createElement(Menu.Item, {\n          key: child.key,\n          disabled: child.disabled\n        }, child.props.title);\n      }\n    }))\n  }, React.createElement(IconHover, {\n    role: \"button\",\n    \"aria-label\": \"expand tabs\",\n    prefix: prefixCls + \"-dropdown\",\n    className: prefixCls + \"-dropdown-icon\"\n  }, React.createElement(IconDown, null)));\n}","map":{"version":3,"names":["React","useMemo","IconDown","Dropdown","Menu","IconHover","DropdownIcon","props","prefixCls","currentOffset","headerSize","headerWrapperSize","getTitleRef","paneChildren","direction","paneKeys","map","child","key","size","height","width","wrapperSize","tabSizes","wrapperRect","domRect","titleDom","rect","getBoundingClientRect","left","right","top","bottom","join","rangeIndex","start","end","_a","indexOf","createElement","trigger","droplist","onClickMenuItem","onClickTab","index","Item","disabled","title","role","prefix","className"],"sources":["D:/Code/ceo-copilot-frontend/node_modules/@arco-design/web-react/es/Tabs/tab-header/dropdown-icon.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport IconDown from '../../../icon/react-icon/IconDown';\nimport Dropdown from '../../Dropdown';\nimport Menu from '../../Menu';\nimport IconHover from '../../_class/icon-hover';\nexport default function DropdownIcon(props) {\n    var prefixCls = props.prefixCls, currentOffset = props.currentOffset, headerSize = props.headerSize, headerWrapperSize = props.headerWrapperSize, getTitleRef = props.getTitleRef, paneChildren = props.paneChildren, direction = props.direction;\n    var paneKeys = paneChildren.map(function (child) { return child.key; });\n    var size = direction === 'vertical' ? headerSize.height : headerSize.width;\n    var wrapperSize = direction === 'vertical' ? headerWrapperSize.height : headerWrapperSize.width;\n    var tabSizes = useMemo(function () {\n        var map = {};\n        var wrapperRect = headerWrapperSize.domRect;\n        paneKeys.map(function (key) {\n            var titleDom = getTitleRef(key);\n            if (!titleDom)\n                return;\n            var rect = titleDom.getBoundingClientRect();\n            map[key] = {\n                left: rect.left - wrapperRect.left,\n                right: rect.left - wrapperRect.left + rect.width,\n                top: rect.top - wrapperRect.top,\n                bottom: rect.top - wrapperRect.top + rect.height,\n            };\n        });\n        return map;\n    }, [paneKeys.join(','), size, wrapperSize]);\n    var rangeIndex = useMemo(function () {\n        var start = -1;\n        var end = -1;\n        for (var key in tabSizes) {\n            var _a = tabSizes[key], left = _a.left, right = _a.right;\n            if (left >= currentOffset && right - currentOffset <= wrapperSize && start === -1) {\n                start = paneKeys.indexOf(key);\n                end = start;\n            }\n            if (left >= currentOffset && right - currentOffset > wrapperSize) {\n                end = paneKeys.indexOf(key);\n                break;\n            }\n        }\n        return [start, end];\n    }, [tabSizes, paneKeys.join(','), currentOffset]);\n    return (React.createElement(Dropdown, { trigger: \"click\", droplist: React.createElement(Menu, { onClickMenuItem: props.onClickTab }, paneChildren.map(function (child, index) {\n            if (index < rangeIndex[0] || index >= rangeIndex[1]) {\n                return (React.createElement(Menu.Item, { key: child.key, disabled: child.disabled }, child.props.title));\n            }\n        })) },\n        React.createElement(IconHover, { role: \"button\", \"aria-label\": \"expand tabs\", prefix: prefixCls + \"-dropdown\", className: prefixCls + \"-dropdown-icon\" },\n            React.createElement(IconDown, null))));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}