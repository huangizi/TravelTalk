{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport React, { useState, useImperativeHandle, forwardRef } from 'react';\nimport Modal from '../modal';\nfunction HookModal(props, ref) {\n  var _a = __read(useState(true), 2),\n    visible = _a[0],\n    setVisible = _a[1];\n  var _b = __read(useState(props), 2),\n    config = _b[0],\n    setConfig = _b[1];\n  useImperativeHandle(ref, function () {\n    return {\n      update: function (config) {\n        setConfig(config);\n      },\n      close: function () {\n        setVisible(false);\n      }\n    };\n  });\n  function onOk() {\n    var ret = config.onOk && config.onOk();\n    if (ret && ret.then) {\n      setConfig(function (config) {\n        return __assign(__assign({}, config), {\n          confirmLoading: true\n        });\n      });\n      ret.then(function () {\n        setVisible(false);\n      }, function (e) {\n        console.error(e);\n        setConfig(function (config) {\n          return __assign(__assign({}, config), {\n            confirmLoading: false\n          });\n        });\n      });\n    }\n    if (!ret) {\n      setVisible(false);\n    }\n  }\n  function onCancel() {\n    config.onCancel && config.onCancel();\n    setVisible(false);\n  }\n  return React.createElement(Modal, __assign({\n    unmountOnExit: true,\n    simple: true\n  }, config, {\n    visible: visible,\n    onOk: onOk,\n    onCancel: onCancel\n  }), config.content);\n}\nexport default forwardRef(HookModal);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","React","useState","useImperativeHandle","forwardRef","Modal","HookModal","props","ref","_a","visible","setVisible","_b","config","setConfig","update","close","onOk","ret","then","confirmLoading","console","onCancel","createElement","unmountOnExit","simple","content"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Modal/useModal/hookModal.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState, useImperativeHandle, forwardRef } from 'react';\nimport Modal from '../modal';\nfunction HookModal(props, ref) {\n    var _a = __read(useState(true), 2), visible = _a[0], setVisible = _a[1];\n    var _b = __read(useState(props), 2), config = _b[0], setConfig = _b[1];\n    useImperativeHandle(ref, function () { return ({\n        update: function (config) {\n            setConfig(config);\n        },\n        close: function () {\n            setVisible(false);\n        },\n    }); });\n    function onOk() {\n        var ret = config.onOk && config.onOk();\n        if (ret && ret.then) {\n            setConfig(function (config) { return (__assign(__assign({}, config), { confirmLoading: true })); });\n            ret.then(function () {\n                setVisible(false);\n            }, function (e) {\n                console.error(e);\n                setConfig(function (config) { return (__assign(__assign({}, config), { confirmLoading: false })); });\n            });\n        }\n        if (!ret) {\n            setVisible(false);\n        }\n    }\n    function onCancel() {\n        config.onCancel && config.onCancel();\n        setVisible(false);\n    }\n    return (React.createElement(Modal, __assign({ unmountOnExit: true, simple: true }, config, { visible: visible, onOk: onOk, onCancel: onCancel }), config.content));\n}\nexport default forwardRef(HookModal);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}