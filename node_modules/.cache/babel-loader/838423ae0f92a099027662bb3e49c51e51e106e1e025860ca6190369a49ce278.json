{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useEffect, useContext } from 'react';\nimport Trigger from '../Trigger';\nimport DateInputRange from '../_class/picker/input-range';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { pickDataAttributes } from '../_util/pick';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getDayjsValue, getValueWithTime, getNow, methods, getSortedDayjsArray, isDayjsArrayChange, toTimezone, toLocal, isValidTimeString } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport RangePickerPanel from './panels/range';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport { getAvailableDayjsLength, getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport PickerContext from './context';\n// get default format by mode\nfunction getFormat(props) {\n  var format = props.format,\n    showTime = props.showTime,\n    mode = props.mode;\n  var valueFormat;\n  switch (mode) {\n    case 'date':\n      valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n      break;\n    case 'month':\n      valueFormat = 'YYYY-MM';\n      break;\n    case 'year':\n      valueFormat = 'YYYY';\n      break;\n    case 'week':\n      valueFormat = 'YYYY-wo';\n      break;\n    case 'quarter':\n      valueFormat = 'YYYY-[Q]Q';\n      break;\n    default:\n      valueFormat = 'YYYY-MM-DD';\n  }\n  if (format) {\n    valueFormat = format;\n  }\n  return valueFormat;\n}\nvar defaultProps = {\n  allowClear: true,\n  unmountOnExit: true,\n  position: 'bl',\n  editable: true,\n  mode: 'date'\n};\nvar Picker = function (baseProps) {\n  var _a, _b;\n  var _c = useContext(ConfigContext),\n    getPrefixCls = _c.getPrefixCls,\n    locale = _c.locale,\n    ctxSize = _c.size,\n    componentConfig = _c.componentConfig,\n    rtl = _c.rtl;\n  if (rtl) {\n    defaultProps.position = 'br';\n  }\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n  var allowClear = props.allowClear,\n    className = props.className,\n    style = props.style,\n    placeholder = props.placeholder,\n    getPopupContainer = props.getPopupContainer,\n    disabled = props.disabled,\n    position = props.position,\n    error = props.error,\n    status = props.status,\n    unmountOnExit = props.unmountOnExit,\n    editable = props.editable,\n    triggerProps = props.triggerProps,\n    shortcuts = props.shortcuts,\n    onSelect = props.onSelect,\n    onVisibleChange = props.onVisibleChange,\n    propsValue = props.value,\n    onChange = props.onChange,\n    icons = props.icons,\n    disabledDate = props.disabledDate,\n    disabledTime = props.disabledTime,\n    mode = props.mode,\n    showTime = props.showTime,\n    onSelectShortcut = props.onSelectShortcut,\n    extra = props.extra,\n    shortcutsPlacementLeft = props.shortcutsPlacementLeft,\n    onOk = props.onOk,\n    defaultPickerValue = props.defaultPickerValue,\n    pickerValue = props.pickerValue,\n    panelRender = props.panelRender,\n    onPickerValueChange = props.onPickerValueChange,\n    triggerElement = props.triggerElement,\n    clearRangeOnReselect = props.clearRangeOnReselect,\n    separator = props.separator,\n    utcOffset = props.utcOffset,\n    timezone = props.timezone;\n  var prefixCls = getPrefixCls('picker-range');\n  var weekStart = isUndefined(props.dayStartOfWeek) ? getDefaultWeekStart(locale.dayjsLocale) : props.dayStartOfWeek;\n  var refInput = useRef(null);\n  var refPanel = useRef(null);\n  var refShortcuts = useRef(null);\n  var shortcutEnterTimer = useRef(null);\n  var shortcutLeaveTimer = useRef(null);\n  var format = getFormat(props);\n  // get input index when half disabled\n  function getAvailableInputIndex() {\n    if (isArray(disabled)) {\n      if (disabled[0] && !disabled[1]) {\n        return 1;\n      }\n      if (disabled[1] && !disabled[0]) {\n        return 0;\n      }\n    }\n  }\n  var availableInputIndex = getAvailableInputIndex();\n  var isHalfAvailable = typeof availableInputIndex === 'number';\n  var disabledTimePickerIndex = isHalfAvailable ? 1 ^ availableInputIndex : undefined;\n  // current focus index\n  var _d = __read(useState(isHalfAvailable ? availableInputIndex : 0), 2),\n    focusedInputIndex = _d[0],\n    setFocusedInputIndex = _d[1];\n  useEffect(function () {\n    if (isHalfAvailable) {\n      setFocusedInputIndex(availableInputIndex);\n    }\n  }, [disabled]);\n  var nextFocusedInputIndex = 1 ^ focusedInputIndex;\n  var _e = __read(useState(), 2),\n    inputValue = _e[0],\n    setInputValue = _e[1];\n  var _f = __read(useState(), 2),\n    hoverPlaceholderValue = _f[0],\n    setHoverPlaceholderValue = _f[1];\n  var _g = __read(useState(getDefaultValue()), 2),\n    value = _g[0],\n    setValue = _g[1];\n  var _h = __read(useState(), 2),\n    valueShow = _h[0],\n    setValueShow = _h[1];\n  var _j = __read(useState(), 2),\n    valueShowHover = _j[0],\n    setValueShowHover = _j[1];\n  var _k = __read(useState(), 2),\n    shortcutsValue = _k[0],\n    setShortcutsValue = _k[1];\n  var _l = __read(useState(props.popupVisible), 2),\n    popupVisible = _l[0],\n    setPopupVisible = _l[1];\n  var _m = __read(useState([mode, mode]), 2),\n    panelModes = _m[0],\n    setPanelModes = _m[1];\n  var _o = __read(useState(false), 2),\n    isTimePanel = _o[0],\n    setIsTimePanel = _o[1];\n  var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n  var propsValueDayjs = getDayjsValue(propsValue, format, utcOffset, timezone);\n  var mergedValue = 'value' in props ? propsValueDayjs : value;\n  var panelValue = shortcutsValue || valueShow || mergedValue || [];\n  var selectedLength = getAvailableDayjsLength(valueShow || mergedValue);\n  // the first time we select a range after open\n  var firstRange = useRef(true);\n  var now = getNow();\n  var zoneNow = toTimezone(now, utcOffset, timezone);\n  function getTimeValues() {\n    var timeValues = [];\n    var defaultTimeValue = isObject(showTime) && showTime.defaultValue ? getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss', utcOffset, timezone) : [];\n    timeValues[0] = panelValue[0] || defaultTimeValue[0] || zoneNow;\n    timeValues[1] = panelValue[1] || defaultTimeValue[1] || zoneNow;\n    return timeValues;\n  }\n  var timeValues = getTimeValues();\n  var selectedDisabledDate = isHalfAvailable ? function (current) {\n    return availableInputIndex === 0 ? current.isAfter(panelValue[1], mode) : current.isBefore(panelValue[0], mode);\n  } : undefined;\n  // if triggerElement !== undefined, we should activate clearRangeOnReselect by default\n  var customTriggerElement = triggerElement !== undefined;\n  var resetRange = customTriggerElement || clearRangeOnReselect;\n  function getDefaultValue() {\n    var value;\n    if (props.value) {\n      value = getDayjsValue(props.value, format, utcOffset, timezone);\n    } else {\n      value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n    }\n    if (isHalfAvailable && (!value || value && !value[nextFocusedInputIndex])) {\n      var nv = [];\n      nv[nextFocusedInputIndex] = getNow(utcOffset, timezone);\n      return nv;\n    }\n    return value;\n  }\n  var defaultPageShowDates = mergedValue || getDayjsValue(defaultPickerValue, format) || [now, now];\n  // show date at two panels\n  var _p = __read(useState(getShowDatesFromFocused(defaultPageShowDates)), 2),\n    pageShowDates = _p[0],\n    setPageShowDates = _p[1];\n  var mergedPageShowDate = getShowDatesFromFocused(getDayjsValue(pickerValue, format, utcOffset, timezone)) || pageShowDates;\n  var previousUtcOffset = usePrevious(utcOffset);\n  var previousTimezone = usePrevious(timezone);\n  // when timezone or utcOffset change changed\n  useUpdate(function () {\n    if (isArray(value) && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n      var localValue = value.map(function (v) {\n        return toLocal(v, previousUtcOffset, previousTimezone);\n      });\n      var zoneValue = localValue.map(function (v) {\n        return toTimezone(v, utcOffset, timezone);\n      });\n      setValue(zoneValue);\n    }\n  }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n  // panel open and change mode\n  useUpdate(function () {\n    setPageShowDates(getShowDatesFromFocused(mergedPageShowDate));\n  }, [mode]);\n  useEffect(function () {\n    setPanelModes([mode, mode]);\n  }, [mode]);\n  useEffect(function () {\n    setHoverPlaceholderValue(undefined);\n    setInputValue(undefined);\n    if (mergedPopupVisible) {\n      setIsTimePanel(false);\n      setPanelModes([mode, mode]);\n      setPageShowDates(getShowDatesFromFocused(defaultPageShowDates));\n      setValueShow(mergedValue);\n      if (shortcutsPlacementLeft) {\n        refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n      }\n    } else {\n      setValueShow(undefined);\n      setValueShowHover(undefined);\n      setShortcutsValue(undefined);\n      blurInput();\n    }\n    firstRange.current = mergedPopupVisible;\n  }, [mergedPopupVisible]);\n  var startStr = (_a = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[0]) === null || _a === void 0 ? void 0 : _a.format(format);\n  var endStr = (_b = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[1]) === null || _b === void 0 ? void 0 : _b.format(format);\n  useEffect(function () {\n    setValueShow(undefined);\n    setValueShowHover(undefined);\n  }, [startStr, endStr]);\n  function setFixedPageShowDates(innerValue, index) {\n    if (index === void 0) {\n      index = focusedInputIndex;\n    }\n    var newPageShowDates = getShowDatesFromFocused(innerValue, index);\n    setPageShowDates(newPageShowDates);\n    handlePickerValueChange(newPageShowDates);\n  }\n  function handlePickerValueChange(v) {\n    if (!isSamePanel([v[0], pageShowDates[0]], mode)) {\n      onPickerValueChange && onPickerValueChange(isArray(v) ? v.map(function (v) {\n        return v && v.format(format);\n      }) : undefined, v);\n    }\n  }\n  function getShowDatesFromFocused(dates, index) {\n    if (index === void 0) {\n      index = focusedInputIndex;\n    }\n    var prev = index === 0 || isSamePanel(dates, mode);\n    if (isArray(dates) && dates.length < 2) {\n      return getPageShowDatesByValue(dates[0] || getNow(utcOffset, timezone), mode, 'prev');\n    }\n    if (isArray(dates) && dates.length === 2) {\n      if (dates[index]) {\n        return getPageShowDatesByValue(dates[index], mode, prev ? 'prev' : 'next');\n      }\n      return getPageShowDatesByValue(dates[index === 0 ? 1 : 0] || getNow(utcOffset, timezone), mode, prev && !dates[index === 0 ? 1 : 0] ? 'prev' : 'next');\n    }\n  }\n  function isSamePanel(innerValue, pickerMode) {\n    if (innerValue && innerValue.length === 2 && isValidDayjsArray(innerValue)) {\n      return (pickerMode === 'date' || pickerMode === 'week') && innerValue[0].isSame(innerValue[1], 'month') || (pickerMode === 'month' || pickerMode === 'quarter') && innerValue[0].isSame(innerValue[1], 'year') || pickerMode === 'year' && Math.floor(innerValue[0].year() / 10) === Math.floor(innerValue[1].year() / 10);\n    }\n  }\n  // get page show date by specify value\n  function getPageShowDatesByValue(value, pickerMode, type) {\n    if (value === void 0) {\n      value = getNow(utcOffset, timezone);\n    }\n    if (pickerMode === void 0) {\n      pickerMode = mode;\n    }\n    if (type === void 0) {\n      type = 'prev';\n    }\n    var prev = type === 'prev';\n    switch (pickerMode) {\n      case 'date':\n      case 'week':\n        return prev ? [value, methods.add(value, 1, 'month')] : [methods.subtract(value, 1, 'month'), value];\n      case 'month':\n      case 'quarter':\n        return prev ? [value, methods.add(value, 1, 'year')] : [methods.subtract(value, 1, 'year'), value];\n      case 'year':\n        return prev ? [value, methods.add(value, 10, 'year')] : [methods.subtract(value, 10, 'year'), value];\n      default:\n        return [];\n    }\n  }\n  function focusInput(index) {\n    refInput.current && refInput.current.focus && refInput.current.focus(isHalfAvailable ? availableInputIndex : index);\n  }\n  function blurInput() {\n    refInput.current && refInput.current.blur && refInput.current.blur();\n  }\n  function visibleChange(visible) {\n    if (visible) {\n      setTimeout(function () {\n        return focusInput();\n      });\n      setOpen(visible);\n    } else {\n      setOpen(false);\n    }\n  }\n  // open or close popup\n  function setOpen(visible) {\n    onVisibleChange && onVisibleChange(visible);\n    setPopupVisible(visible);\n  }\n  function onClear(e) {\n    e.stopPropagation();\n    var newValueShow = __spreadArray([], __read(panelValue), false);\n    if (isHalfAvailable) {\n      newValueShow[availableInputIndex] = undefined;\n    } else {\n      newValueShow = undefined;\n    }\n    setValue(newValueShow);\n    setValueShow(newValueShow);\n    onHandleChange(newValueShow);\n    props.onClear && props.onClear();\n  }\n  function changeFocusedInputIndex(index, silent) {\n    setInputValue(undefined);\n    setFocusedInputIndex(index);\n    if (panelValue && panelValue.length && !silent) {\n      var newPageShowDates = getShowDatesFromFocused(panelValue, index);\n      setPageShowDates(newPageShowDates);\n      handlePickerValueChange(newPageShowDates);\n    }\n  }\n  function isDisabledDate(date) {\n    var selectedDisabled = typeof selectedDisabledDate === 'function' ? selectedDisabledDate(date) : false;\n    var originDisabledDate = typeof disabledDate === 'function' ? disabledDate(date) : false;\n    return originDisabledDate || selectedDisabled;\n  }\n  // Determine whether the input date is in the correct format\n  function isValid(time) {\n    return isValidTimeString(time, format) && !isDisabledDate(getDayjsValue(time, format))\n    // (panelValue[nextFocusedInputIndex]\n    //   ? nextFocusedInputIndex === 0\n    //     ? panelValue[nextFocusedInputIndex].isBefore(dayjs(time, format))\n    //     : panelValue[nextFocusedInputIndex].isAfter(dayjs(time, format))\n    //   : true)\n    ;\n  }\n\n  function onChangeInput(e) {\n    var newValueShow = __spreadArray([], __read(panelValue || []), false);\n    var niv = e.target.value;\n    setInputValue(niv);\n    if (!mergedPopupVisible) {\n      setOpen(true);\n    }\n    if (isValid(niv)) {\n      newValueShow[focusedInputIndex] = getDayjsValue(niv, format);\n      setValueShow(newValueShow);\n      setFixedPageShowDates(newValueShow);\n      setInputValue(undefined);\n    }\n  }\n  // Compare with the last value, trigger onChange only if the value changes\n  function onHandleChange(newValue) {\n    if (isDayjsArrayChange(mergedValue, newValue)) {\n      var localValue = isArray(newValue) ? newValue.map(function (v) {\n        return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n      }) : undefined;\n      onChange && onChange(isArray(localValue) ? localValue.map(function (v) {\n        return v && v.format(format);\n      }) : undefined, localValue);\n    }\n  }\n  function onPressEnter() {\n    if (isArray(valueShow) && valueShow.length) {\n      if (inputValue && !isValid(inputValue)) {\n        setInputValue(undefined);\n      } else if (selectedLength !== 2) {\n        switchFocusedInput();\n      } else if (selectedLength === 2) {\n        onConfirmValue(valueShow);\n      }\n    } else if (mergedPopupVisible) {\n      setOpen(false);\n    }\n  }\n  // Confirm and update component value\n  function onConfirmValue(date, keepOpen) {\n    var confirmValue = date || panelValue;\n    if (!confirmValue || !confirmValue[0] || !confirmValue[1]) {\n      return;\n    }\n    var sortedValues = getSortedDayjsArray(confirmValue);\n    setValue(sortedValues);\n    onHandleChange(sortedValues);\n    if (triggerElement !== null && !keepOpen) {\n      setOpen(false);\n    }\n  }\n  // Callback when click the confirm button\n  function onClickConfirmBtn() {\n    onConfirmValue();\n    var localePanelValue = panelValue.map(function (v) {\n      return getLocaleDayjsValue(v, locale.dayjsLocale);\n    });\n    onOk && onOk(localePanelValue.map(function (v) {\n      return v && v.format(format);\n    }), localePanelValue);\n  }\n  function getUnit() {\n    switch (mode) {\n      case 'date':\n      case 'week':\n        return 'date';\n      case 'month':\n        return 'month';\n      case 'year':\n        return 'year';\n      default:\n        return undefined;\n    }\n  }\n  function outOfRange(date) {\n    if (selectedLength !== 2) {\n      return false;\n    }\n    var v = valueShow || mergedValue;\n    if (focusedInputIndex === 0 && date.isAfter(v[1], getUnit())) {\n      return true;\n    }\n    if (focusedInputIndex === 1 && date.isBefore(v[0], getUnit())) {\n      return true;\n    }\n    return false;\n  }\n  // Callback when click the panel date cell\n  function onSelectPanel(_, date) {\n    var isOutOfRange = outOfRange(date) && firstRange.current;\n    var newValueShow = resetRange && selectedLength === 2 && !isHalfAvailable ? [] : __spreadArray([], __read(panelValue), false);\n    // if custom triggerElement, focused input index always 0 -> 1\n    var focusedIndex = customTriggerElement ? selectedLength === 0 || selectedLength === 2 ? 0 : 1 : focusedInputIndex;\n    var newDate = showTime ? getValueWithTime(date, timeValues[focusedIndex]) : date;\n    if (isOutOfRange) {\n      newValueShow[focusedIndex] = newDate;\n      newValueShow[1 ^ focusedIndex] = undefined;\n    } else {\n      newValueShow[focusedIndex] = newDate;\n    }\n    var sortedValueShow = getSortedDayjsArray(newValueShow);\n    onSelectValueShow(sortedValueShow);\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    var newSelectedLength = getAvailableDayjsLength(newValueShow);\n    if (resetRange) {\n      if (selectedLength === 0 || selectedLength === 2 && !isHalfAvailable) {\n        customTriggerElement ? setFocusedInputIndex(1) : switchFocusedInput(true);\n      } else if (!showTime) {\n        onConfirmValue(newValueShow);\n      }\n    } else if (newSelectedLength <= 1) {\n      switchFocusedInput(true);\n    } else if (selectedLength === 2 && firstRange.current && !isHalfAvailable) {\n      firstRange.current = false;\n      switchFocusedInput(true);\n      if (!showTime && !isOutOfRange) {\n        onConfirmValue(newValueShow, true);\n      }\n    } else {\n      firstRange.current = false;\n      if (!showTime && !isOutOfRange) {\n        onConfirmValue(newValueShow);\n      }\n    }\n  }\n  // Callback when click TimePicker\n  function onTimePickerSelect(index, _, time) {\n    var newValueShow = isArray(panelValue) ? __spreadArray([], __read(panelValue), false) : [];\n    var newTimeValue = getValueWithTime(newValueShow[index] || getNow(utcOffset, timezone), time);\n    newValueShow[index] = newTimeValue;\n    onSelectValueShow(newValueShow);\n  }\n  function onSelectValueShow(newValueShow) {\n    setValueShow(newValueShow);\n    setValueShowHover(undefined);\n    var sortedValues = getSortedDayjsArray(newValueShow);\n    var zoneValues = sortedValues.map(function (v) {\n      return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n    });\n    onSelect && onSelect(zoneValues.map(function (v) {\n      return v && v.format(format);\n    }), zoneValues, {\n      type: focusedInputIndex === 1 ? 'end' : 'start'\n    });\n  }\n  // Switch to next focused input\n  function switchFocusedInput(silent) {\n    changeFocusedInputIndex(nextFocusedInputIndex, silent);\n    setTimeout(function () {\n      return focusInput(nextFocusedInputIndex);\n    });\n  }\n  // Callback when mouse entered the date cell\n  function onMouseEnterCell(date, disabled) {\n    var newValueShowHover = __spreadArray([], __read(panelValue || []), false);\n    var needShowHover = resetRange ? selectedLength === 1 : selectedLength !== 0;\n    if (!disabled && needShowHover && !outOfRange(date)) {\n      newValueShowHover[focusedInputIndex] = getValueWithTime(date, timeValues[focusedInputIndex]);\n      setValueShowHover(newValueShowHover);\n      setInputValue(undefined);\n    }\n    if (!disabled) {\n      var placeHolderValue = showTime ? getValueWithTime(date, timeValues[focusedInputIndex]) : date;\n      setHoverPlaceholderValue(placeHolderValue.locale(locale.dayjsLocale).format(format));\n    }\n  }\n  function onMouseLeaveCell() {\n    setValueShowHover(undefined);\n    setHoverPlaceholderValue(undefined);\n  }\n  function isValidDayjsArray(sv) {\n    return sv && isArray(sv) && sv.length === 2 && isDayjs(sv[0]) && isDayjs(sv[1]);\n  }\n  // Determine whether the value entered in the shortcut is in the correct format\n  function isValidShortcut(shortcut) {\n    var sv = typeof shortcut.value === 'function' && shortcut.value();\n    return isValidDayjsArray(sv);\n  }\n  function clearShortcutsTimer() {\n    clearTimeout(shortcutEnterTimer.current);\n    clearTimeout(shortcutLeaveTimer.current);\n    shortcutEnterTimer.current = null;\n    shortcutLeaveTimer.current = null;\n  }\n  // Callback when mouse entered the shortcuts\n  function onMouseEnterShortcut(shortcut) {\n    clearShortcutsTimer();\n    shortcutEnterTimer.current = setTimeout(function () {\n      if (isValidShortcut(shortcut)) {\n        var nv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n        setShortcutsValue(nv);\n        setFixedPageShowDates(nv);\n      }\n    }, 50);\n  }\n  // Callback when mouse leaved the shortcuts\n  function onMouseLeaveShortcut() {\n    clearShortcutsTimer();\n    shortcutLeaveTimer.current = setTimeout(function () {\n      setShortcutsValue(undefined);\n      setFixedPageShowDates(valueShow || mergedValue || [getNow(utcOffset, timezone), getNow(utcOffset, timezone)]);\n    }, 50);\n  }\n  // Callback when click the shortcuts button\n  function onHandleSelectShortcut(shortcut) {\n    onSelectShortcut && onSelectShortcut(shortcut);\n    if (isValidShortcut(shortcut)) {\n      var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      onConfirmValue(time);\n    }\n  }\n  // Modify panel date (the value of the panel itself, not the component value)\n  function changePageShowDates(type, unit, num) {\n    if (num === void 0) {\n      num = 1;\n    }\n    var index = type === 'prev' ? 0 : 1;\n    var newPageShowDates = __spreadArray([], __read(mergedPageShowDate), false);\n    if (type === 'prev') {\n      newPageShowDates[index] = methods.subtract(mergedPageShowDate[index], num, unit);\n    }\n    if (type === 'next') {\n      newPageShowDates[index] = methods.add(mergedPageShowDate[index], num, unit);\n    }\n    newPageShowDates = getPageShowDatesByValue(newPageShowDates[index], mode, type);\n    setFixedPageShowDates(newPageShowDates);\n  }\n  // Callback when click the prev or next button\n  function getHeaderOperations(pickerMode) {\n    if (pickerMode === void 0) {\n      pickerMode = mode;\n    }\n    if (pickerMode === 'date' || pickerMode === 'week') {\n      return {\n        onPrev: function () {\n          return changePageShowDates('prev', 'month');\n        },\n        onNext: function () {\n          return changePageShowDates('next', 'month');\n        },\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year');\n        }\n      };\n    }\n    if (pickerMode === 'month' || pickerMode === 'quarter') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year');\n        }\n      };\n    }\n    if (pickerMode === 'year') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year', 10);\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year', 10);\n        }\n      };\n    }\n  }\n  function onClickSelectTimeBtn() {\n    setIsTimePanel(!isTimePanel);\n  }\n  function renderPopup(panelOnly) {\n    var _a;\n    var classNames = cs(prefixCls + \"-container\", (_a = {}, _a[prefixCls + \"-panel-only\"] = panelOnly, _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft, _a[prefixCls + \"-container-rtl\"] = rtl, _a), panelOnly ? className : '');\n    var shortcutsProps = {\n      prefixCls: getPrefixCls('picker'),\n      showTime: showTime,\n      shortcuts: shortcuts,\n      onMouseEnterShortcut: onMouseEnterShortcut,\n      onMouseLeaveShortcut: onMouseLeaveShortcut,\n      onSelectShortcut: onHandleSelectShortcut\n    };\n    var shouldShowFooter = showTime && panelModes[0] === 'date' && panelModes[1] === 'date' || extra || isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft;\n    var content = React.createElement(React.Fragment, null, React.createElement(RangePickerPanel, __assign({}, props, getHeaderOperations(), {\n      getHeaderOperations: getHeaderOperations,\n      setRangePageShowDates: setFixedPageShowDates,\n      pageShowDates: mergedPageShowDate,\n      value: panelValue,\n      format: format,\n      onSelectPanel: onSelectPanel,\n      onMouseEnterCell: onMouseEnterCell,\n      onMouseLeaveCell: onMouseLeaveCell,\n      disabledDate: function (current) {\n        return isDisabledDate(current);\n      },\n      disabledTime: disabledTime,\n      mode: mode,\n      localeName: locale.dayjsLocale,\n      showTime: showTime,\n      timeValues: shortcutsValue || timeValues,\n      onTimePickerSelect: onTimePickerSelect,\n      popupVisible: mergedPopupVisible,\n      disabledTimePickerIndex: disabledTimePickerIndex,\n      isTimePanel: isTimePanel,\n      valueShowHover: valueShowHover,\n      panelModes: panelModes,\n      setPanelModes: setPanelModes\n    })), shouldShowFooter && React.createElement(Footer, __assign({}, shortcutsProps, {\n      DATEPICKER_LOCALE: locale.DatePicker,\n      disabled: !(isArray(panelValue) && panelValue[0] && panelValue[1]),\n      onClickConfirmBtn: onClickConfirmBtn,\n      extra: extra,\n      shortcutsPlacementLeft: shortcutsPlacementLeft,\n      onClickSelectTimeBtn: onClickSelectTimeBtn,\n      isTimePanel: isTimePanel\n    })));\n    var contentWithShortcuts = shortcutsPlacementLeft ? React.createElement(React.Fragment, null, React.createElement(Shortcuts, __assign({\n      ref: refShortcuts\n    }, shortcutsProps)), React.createElement(\"div\", {\n      ref: refPanel,\n      className: prefixCls + \"-panel-wrapper\"\n    }, content)) : content;\n    var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n    return React.createElement(\"div\", {\n      className: classNames,\n      onClick: function () {\n        return focusInput();\n      },\n      style: panelOnly ? style : {}\n    }, panelNode);\n  }\n  var size = props.size || ctxSize;\n  var placeholders = isArray(placeholder) ? placeholder : locale.DatePicker.placeholders[mode];\n  var suffixIcon = icons && icons.inputSuffix === null ? null : icons && icons.inputSuffix || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n  var baseInputProps = {\n    style: style,\n    className: className,\n    popupVisible: mergedPopupVisible,\n    format: format,\n    disabled: disabled,\n    error: error,\n    status: status,\n    size: size,\n    onPressEnter: onPressEnter,\n    onClear: onClear,\n    suffixIcon: suffixIcon,\n    editable: editable,\n    allowClear: allowClear,\n    prefix: props.prefix\n  };\n  var triggerDisabled = isArray(disabled) ? disabled[0] && disabled[1] : disabled;\n  return React.createElement(PickerContext.Provider, {\n    value: {\n      utcOffset: utcOffset,\n      timezone: timezone,\n      weekStart: weekStart\n    }\n  }, triggerElement === null ? renderPopup(true) : React.createElement(Trigger, __assign({\n    popup: renderPopup,\n    trigger: \"click\",\n    clickToClose: false,\n    position: position,\n    disabled: triggerDisabled,\n    popupAlign: {\n      bottom: 4\n    },\n    getPopupContainer: getPopupContainer,\n    onVisibleChange: visibleChange,\n    popupVisible: mergedPopupVisible,\n    classNames: \"slideDynamicOrigin\",\n    unmountOnExit: unmountOnExit\n  }, triggerProps), triggerElement || React.createElement(DateInputRange, __assign({}, pickDataAttributes(props), baseInputProps, {\n    ref: refInput,\n    placeholder: placeholders,\n    value: valueShow || mergedValue,\n    onChange: onChangeInput,\n    inputValue: hoverPlaceholderValue || inputValue,\n    changeFocusedInputIndex: changeFocusedInputIndex,\n    focusedInputIndex: focusedInputIndex,\n    isPlaceholder: !!hoverPlaceholderValue,\n    separator: separator\n  }))));\n};\nPicker.displayName = 'RangePicker';\nexport default Picker;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","React","useState","useRef","useEffect","useContext","Trigger","DateInputRange","isArray","isDayjs","isObject","isUndefined","cs","pickDataAttributes","ConfigContext","getDayjsValue","getValueWithTime","getNow","methods","getSortedDayjsArray","isDayjsArrayChange","toTimezone","toLocal","isValidTimeString","IconCalendar","IconCalendarClock","RangePickerPanel","Footer","Shortcuts","getAvailableDayjsLength","getDefaultWeekStart","getLocaleDayjsValue","useMergeProps","usePrevious","useUpdate","PickerContext","getFormat","props","format","showTime","mode","valueFormat","defaultProps","allowClear","unmountOnExit","position","editable","Picker","baseProps","_a","_b","_c","getPrefixCls","locale","ctxSize","size","componentConfig","rtl","DatePicker","className","style","placeholder","getPopupContainer","disabled","status","triggerProps","shortcuts","onSelect","onVisibleChange","propsValue","onChange","icons","disabledDate","disabledTime","onSelectShortcut","extra","shortcutsPlacementLeft","onOk","defaultPickerValue","pickerValue","panelRender","onPickerValueChange","triggerElement","clearRangeOnReselect","separator","utcOffset","timezone","prefixCls","weekStart","dayStartOfWeek","dayjsLocale","refInput","refPanel","refShortcuts","shortcutEnterTimer","shortcutLeaveTimer","getAvailableInputIndex","availableInputIndex","isHalfAvailable","disabledTimePickerIndex","undefined","_d","focusedInputIndex","setFocusedInputIndex","nextFocusedInputIndex","_e","inputValue","setInputValue","_f","hoverPlaceholderValue","setHoverPlaceholderValue","_g","getDefaultValue","setValue","_h","valueShow","setValueShow","_j","valueShowHover","setValueShowHover","_k","shortcutsValue","setShortcutsValue","_l","popupVisible","setPopupVisible","_m","panelModes","setPanelModes","_o","isTimePanel","setIsTimePanel","mergedPopupVisible","propsValueDayjs","mergedValue","panelValue","selectedLength","firstRange","now","zoneNow","getTimeValues","timeValues","defaultTimeValue","defaultValue","selectedDisabledDate","current","isAfter","isBefore","customTriggerElement","resetRange","nv","defaultPageShowDates","_p","getShowDatesFromFocused","pageShowDates","setPageShowDates","mergedPageShowDate","previousUtcOffset","previousTimezone","localValue","map","v","zoneValue","maxHeight","clientHeight","blurInput","startStr","endStr","setFixedPageShowDates","innerValue","index","newPageShowDates","handlePickerValueChange","isSamePanel","dates","prev","getPageShowDatesByValue","pickerMode","isValidDayjsArray","isSame","Math","floor","year","type","add","subtract","focusInput","focus","blur","visibleChange","visible","setTimeout","setOpen","onClear","stopPropagation","newValueShow","onHandleChange","changeFocusedInputIndex","silent","isDisabledDate","date","selectedDisabled","originDisabledDate","isValid","time","onChangeInput","niv","target","newValue","onPressEnter","switchFocusedInput","onConfirmValue","keepOpen","confirmValue","sortedValues","onClickConfirmBtn","localePanelValue","getUnit","outOfRange","onSelectPanel","_","isOutOfRange","focusedIndex","newDate","sortedValueShow","onSelectValueShow","newSelectedLength","onTimePickerSelect","newTimeValue","zoneValues","onMouseEnterCell","newValueShowHover","needShowHover","placeHolderValue","onMouseLeaveCell","sv","isValidShortcut","shortcut","clearShortcutsTimer","clearTimeout","onMouseEnterShortcut","onMouseLeaveShortcut","onHandleSelectShortcut","changePageShowDates","unit","num","getHeaderOperations","onPrev","onNext","onSuperPrev","onSuperNext","onClickSelectTimeBtn","renderPopup","panelOnly","classNames","shortcutsProps","shouldShowFooter","content","createElement","Fragment","setRangePageShowDates","localeName","DATEPICKER_LOCALE","contentWithShortcuts","ref","panelNode","onClick","placeholders","suffixIcon","inputSuffix","baseInputProps","prefix","triggerDisabled","Provider","popup","trigger","clickToClose","popupAlign","bottom","isPlaceholder","displayName"],"sources":["D:/Code/LegalGPT-frontend/node_modules/@arco-design/web-react/es/DatePicker/picker-range.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useEffect, useContext } from 'react';\nimport Trigger from '../Trigger';\nimport DateInputRange from '../_class/picker/input-range';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { pickDataAttributes } from '../_util/pick';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getDayjsValue, getValueWithTime, getNow, methods, getSortedDayjsArray, isDayjsArrayChange, toTimezone, toLocal, isValidTimeString, } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport RangePickerPanel from './panels/range';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport { getAvailableDayjsLength, getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport PickerContext from './context';\n// get default format by mode\nfunction getFormat(props) {\n    var format = props.format, showTime = props.showTime, mode = props.mode;\n    var valueFormat;\n    switch (mode) {\n        case 'date':\n            valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n            break;\n        case 'month':\n            valueFormat = 'YYYY-MM';\n            break;\n        case 'year':\n            valueFormat = 'YYYY';\n            break;\n        case 'week':\n            valueFormat = 'YYYY-wo';\n            break;\n        case 'quarter':\n            valueFormat = 'YYYY-[Q]Q';\n            break;\n        default:\n            valueFormat = 'YYYY-MM-DD';\n    }\n    if (format) {\n        valueFormat = format;\n    }\n    return valueFormat;\n}\nvar defaultProps = {\n    allowClear: true,\n    unmountOnExit: true,\n    position: 'bl',\n    editable: true,\n    mode: 'date',\n};\nvar Picker = function (baseProps) {\n    var _a, _b;\n    var _c = useContext(ConfigContext), getPrefixCls = _c.getPrefixCls, locale = _c.locale, ctxSize = _c.size, componentConfig = _c.componentConfig, rtl = _c.rtl;\n    if (rtl) {\n        defaultProps.position = 'br';\n    }\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n    var allowClear = props.allowClear, className = props.className, style = props.style, placeholder = props.placeholder, getPopupContainer = props.getPopupContainer, disabled = props.disabled, position = props.position, error = props.error, status = props.status, unmountOnExit = props.unmountOnExit, editable = props.editable, triggerProps = props.triggerProps, shortcuts = props.shortcuts, onSelect = props.onSelect, onVisibleChange = props.onVisibleChange, propsValue = props.value, onChange = props.onChange, icons = props.icons, disabledDate = props.disabledDate, disabledTime = props.disabledTime, mode = props.mode, showTime = props.showTime, onSelectShortcut = props.onSelectShortcut, extra = props.extra, shortcutsPlacementLeft = props.shortcutsPlacementLeft, onOk = props.onOk, defaultPickerValue = props.defaultPickerValue, pickerValue = props.pickerValue, panelRender = props.panelRender, onPickerValueChange = props.onPickerValueChange, triggerElement = props.triggerElement, clearRangeOnReselect = props.clearRangeOnReselect, separator = props.separator, utcOffset = props.utcOffset, timezone = props.timezone;\n    var prefixCls = getPrefixCls('picker-range');\n    var weekStart = isUndefined(props.dayStartOfWeek)\n        ? getDefaultWeekStart(locale.dayjsLocale)\n        : props.dayStartOfWeek;\n    var refInput = useRef(null);\n    var refPanel = useRef(null);\n    var refShortcuts = useRef(null);\n    var shortcutEnterTimer = useRef(null);\n    var shortcutLeaveTimer = useRef(null);\n    var format = getFormat(props);\n    // get input index when half disabled\n    function getAvailableInputIndex() {\n        if (isArray(disabled)) {\n            if (disabled[0] && !disabled[1]) {\n                return 1;\n            }\n            if (disabled[1] && !disabled[0]) {\n                return 0;\n            }\n        }\n    }\n    var availableInputIndex = getAvailableInputIndex();\n    var isHalfAvailable = typeof availableInputIndex === 'number';\n    var disabledTimePickerIndex = isHalfAvailable ? 1 ^ availableInputIndex : undefined;\n    // current focus index\n    var _d = __read(useState(isHalfAvailable ? availableInputIndex : 0), 2), focusedInputIndex = _d[0], setFocusedInputIndex = _d[1];\n    useEffect(function () {\n        if (isHalfAvailable) {\n            setFocusedInputIndex(availableInputIndex);\n        }\n    }, [disabled]);\n    var nextFocusedInputIndex = 1 ^ focusedInputIndex;\n    var _e = __read(useState(), 2), inputValue = _e[0], setInputValue = _e[1];\n    var _f = __read(useState(), 2), hoverPlaceholderValue = _f[0], setHoverPlaceholderValue = _f[1];\n    var _g = __read(useState(getDefaultValue()), 2), value = _g[0], setValue = _g[1];\n    var _h = __read(useState(), 2), valueShow = _h[0], setValueShow = _h[1];\n    var _j = __read(useState(), 2), valueShowHover = _j[0], setValueShowHover = _j[1];\n    var _k = __read(useState(), 2), shortcutsValue = _k[0], setShortcutsValue = _k[1];\n    var _l = __read(useState(props.popupVisible), 2), popupVisible = _l[0], setPopupVisible = _l[1];\n    var _m = __read(useState([mode, mode]), 2), panelModes = _m[0], setPanelModes = _m[1];\n    var _o = __read(useState(false), 2), isTimePanel = _o[0], setIsTimePanel = _o[1];\n    var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n    var propsValueDayjs = getDayjsValue(propsValue, format, utcOffset, timezone);\n    var mergedValue = 'value' in props ? propsValueDayjs : value;\n    var panelValue = shortcutsValue || valueShow || mergedValue || [];\n    var selectedLength = getAvailableDayjsLength(valueShow || mergedValue);\n    // the first time we select a range after open\n    var firstRange = useRef(true);\n    var now = getNow();\n    var zoneNow = toTimezone(now, utcOffset, timezone);\n    function getTimeValues() {\n        var timeValues = [];\n        var defaultTimeValue = isObject(showTime) && showTime.defaultValue\n            ? getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss', utcOffset, timezone)\n            : [];\n        timeValues[0] = panelValue[0] || defaultTimeValue[0] || zoneNow;\n        timeValues[1] = panelValue[1] || defaultTimeValue[1] || zoneNow;\n        return timeValues;\n    }\n    var timeValues = getTimeValues();\n    var selectedDisabledDate = isHalfAvailable\n        ? function (current) {\n            return availableInputIndex === 0\n                ? current.isAfter(panelValue[1], mode)\n                : current.isBefore(panelValue[0], mode);\n        }\n        : undefined;\n    // if triggerElement !== undefined, we should activate clearRangeOnReselect by default\n    var customTriggerElement = triggerElement !== undefined;\n    var resetRange = customTriggerElement || clearRangeOnReselect;\n    function getDefaultValue() {\n        var value;\n        if (props.value) {\n            value = getDayjsValue(props.value, format, utcOffset, timezone);\n        }\n        else {\n            value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n        }\n        if (isHalfAvailable && (!value || (value && !value[nextFocusedInputIndex]))) {\n            var nv = [];\n            nv[nextFocusedInputIndex] = getNow(utcOffset, timezone);\n            return nv;\n        }\n        return value;\n    }\n    var defaultPageShowDates = mergedValue ||\n        getDayjsValue(defaultPickerValue, format) || [now, now];\n    // show date at two panels\n    var _p = __read(useState(getShowDatesFromFocused(defaultPageShowDates)), 2), pageShowDates = _p[0], setPageShowDates = _p[1];\n    var mergedPageShowDate = getShowDatesFromFocused(getDayjsValue(pickerValue, format, utcOffset, timezone)) ||\n        pageShowDates;\n    var previousUtcOffset = usePrevious(utcOffset);\n    var previousTimezone = usePrevious(timezone);\n    // when timezone or utcOffset change changed\n    useUpdate(function () {\n        if (isArray(value) && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n            var localValue = value.map(function (v) { return toLocal(v, previousUtcOffset, previousTimezone); });\n            var zoneValue = localValue.map(function (v) { return toTimezone(v, utcOffset, timezone); });\n            setValue(zoneValue);\n        }\n    }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n    // panel open and change mode\n    useUpdate(function () {\n        setPageShowDates(getShowDatesFromFocused(mergedPageShowDate));\n    }, [mode]);\n    useEffect(function () {\n        setPanelModes([mode, mode]);\n    }, [mode]);\n    useEffect(function () {\n        setHoverPlaceholderValue(undefined);\n        setInputValue(undefined);\n        if (mergedPopupVisible) {\n            setIsTimePanel(false);\n            setPanelModes([mode, mode]);\n            setPageShowDates(getShowDatesFromFocused(defaultPageShowDates));\n            setValueShow(mergedValue);\n            if (shortcutsPlacementLeft) {\n                refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n            }\n        }\n        else {\n            setValueShow(undefined);\n            setValueShowHover(undefined);\n            setShortcutsValue(undefined);\n            blurInput();\n        }\n        firstRange.current = mergedPopupVisible;\n    }, [mergedPopupVisible]);\n    var startStr = (_a = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[0]) === null || _a === void 0 ? void 0 : _a.format(format);\n    var endStr = (_b = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[1]) === null || _b === void 0 ? void 0 : _b.format(format);\n    useEffect(function () {\n        setValueShow(undefined);\n        setValueShowHover(undefined);\n    }, [startStr, endStr]);\n    function setFixedPageShowDates(innerValue, index) {\n        if (index === void 0) { index = focusedInputIndex; }\n        var newPageShowDates = getShowDatesFromFocused(innerValue, index);\n        setPageShowDates(newPageShowDates);\n        handlePickerValueChange(newPageShowDates);\n    }\n    function handlePickerValueChange(v) {\n        if (!isSamePanel([v[0], pageShowDates[0]], mode)) {\n            onPickerValueChange &&\n                onPickerValueChange(isArray(v) ? v.map(function (v) { return v && v.format(format); }) : undefined, v);\n        }\n    }\n    function getShowDatesFromFocused(dates, index) {\n        if (index === void 0) { index = focusedInputIndex; }\n        var prev = index === 0 || isSamePanel(dates, mode);\n        if (isArray(dates) && dates.length < 2) {\n            return getPageShowDatesByValue(dates[0] || getNow(utcOffset, timezone), mode, 'prev');\n        }\n        if (isArray(dates) && dates.length === 2) {\n            if (dates[index]) {\n                return getPageShowDatesByValue(dates[index], mode, prev ? 'prev' : 'next');\n            }\n            return getPageShowDatesByValue(dates[index === 0 ? 1 : 0] || getNow(utcOffset, timezone), mode, prev && !dates[index === 0 ? 1 : 0] ? 'prev' : 'next');\n        }\n    }\n    function isSamePanel(innerValue, pickerMode) {\n        if (innerValue && innerValue.length === 2 && isValidDayjsArray(innerValue)) {\n            return (((pickerMode === 'date' || pickerMode === 'week') &&\n                innerValue[0].isSame(innerValue[1], 'month')) ||\n                ((pickerMode === 'month' || pickerMode === 'quarter') &&\n                    innerValue[0].isSame(innerValue[1], 'year')) ||\n                (pickerMode === 'year' &&\n                    Math.floor(innerValue[0].year() / 10) === Math.floor(innerValue[1].year() / 10)));\n        }\n    }\n    // get page show date by specify value\n    function getPageShowDatesByValue(value, pickerMode, type) {\n        if (value === void 0) { value = getNow(utcOffset, timezone); }\n        if (pickerMode === void 0) { pickerMode = mode; }\n        if (type === void 0) { type = 'prev'; }\n        var prev = type === 'prev';\n        switch (pickerMode) {\n            case 'date':\n            case 'week':\n                return prev\n                    ? [value, methods.add(value, 1, 'month')]\n                    : [methods.subtract(value, 1, 'month'), value];\n            case 'month':\n            case 'quarter':\n                return prev\n                    ? [value, methods.add(value, 1, 'year')]\n                    : [methods.subtract(value, 1, 'year'), value];\n            case 'year':\n                return prev\n                    ? [value, methods.add(value, 10, 'year')]\n                    : [methods.subtract(value, 10, 'year'), value];\n            default:\n                return [];\n        }\n    }\n    function focusInput(index) {\n        refInput.current &&\n            refInput.current.focus &&\n            refInput.current.focus(isHalfAvailable ? availableInputIndex : index);\n    }\n    function blurInput() {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n    }\n    function visibleChange(visible) {\n        if (visible) {\n            setTimeout(function () { return focusInput(); });\n            setOpen(visible);\n        }\n        else {\n            setOpen(false);\n        }\n    }\n    // open or close popup\n    function setOpen(visible) {\n        onVisibleChange && onVisibleChange(visible);\n        setPopupVisible(visible);\n    }\n    function onClear(e) {\n        e.stopPropagation();\n        var newValueShow = __spreadArray([], __read(panelValue), false);\n        if (isHalfAvailable) {\n            newValueShow[availableInputIndex] = undefined;\n        }\n        else {\n            newValueShow = undefined;\n        }\n        setValue(newValueShow);\n        setValueShow(newValueShow);\n        onHandleChange(newValueShow);\n        props.onClear && props.onClear();\n    }\n    function changeFocusedInputIndex(index, silent) {\n        setInputValue(undefined);\n        setFocusedInputIndex(index);\n        if (panelValue && panelValue.length && !silent) {\n            var newPageShowDates = getShowDatesFromFocused(panelValue, index);\n            setPageShowDates(newPageShowDates);\n            handlePickerValueChange(newPageShowDates);\n        }\n    }\n    function isDisabledDate(date) {\n        var selectedDisabled = typeof selectedDisabledDate === 'function' ? selectedDisabledDate(date) : false;\n        var originDisabledDate = typeof disabledDate === 'function' ? disabledDate(date) : false;\n        return originDisabledDate || selectedDisabled;\n    }\n    // Determine whether the input date is in the correct format\n    function isValid(time) {\n        return (isValidTimeString(time, format) && !isDisabledDate(getDayjsValue(time, format))\n        // (panelValue[nextFocusedInputIndex]\n        //   ? nextFocusedInputIndex === 0\n        //     ? panelValue[nextFocusedInputIndex].isBefore(dayjs(time, format))\n        //     : panelValue[nextFocusedInputIndex].isAfter(dayjs(time, format))\n        //   : true)\n        );\n    }\n    function onChangeInput(e) {\n        var newValueShow = __spreadArray([], __read((panelValue || [])), false);\n        var niv = e.target.value;\n        setInputValue(niv);\n        if (!mergedPopupVisible) {\n            setOpen(true);\n        }\n        if (isValid(niv)) {\n            newValueShow[focusedInputIndex] = getDayjsValue(niv, format);\n            setValueShow(newValueShow);\n            setFixedPageShowDates(newValueShow);\n            setInputValue(undefined);\n        }\n    }\n    // Compare with the last value, trigger onChange only if the value changes\n    function onHandleChange(newValue) {\n        if (isDayjsArrayChange(mergedValue, newValue)) {\n            var localValue = isArray(newValue)\n                ? newValue.map(function (v) {\n                    return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n                })\n                : undefined;\n            onChange &&\n                onChange(isArray(localValue) ? localValue.map(function (v) { return v && v.format(format); }) : undefined, localValue);\n        }\n    }\n    function onPressEnter() {\n        if (isArray(valueShow) && valueShow.length) {\n            if (inputValue && !isValid(inputValue)) {\n                setInputValue(undefined);\n            }\n            else if (selectedLength !== 2) {\n                switchFocusedInput();\n            }\n            else if (selectedLength === 2) {\n                onConfirmValue(valueShow);\n            }\n        }\n        else if (mergedPopupVisible) {\n            setOpen(false);\n        }\n    }\n    // Confirm and update component value\n    function onConfirmValue(date, keepOpen) {\n        var confirmValue = date || panelValue;\n        if (!confirmValue || !confirmValue[0] || !confirmValue[1]) {\n            return;\n        }\n        var sortedValues = getSortedDayjsArray(confirmValue);\n        setValue(sortedValues);\n        onHandleChange(sortedValues);\n        if (triggerElement !== null && !keepOpen) {\n            setOpen(false);\n        }\n    }\n    // Callback when click the confirm button\n    function onClickConfirmBtn() {\n        onConfirmValue();\n        var localePanelValue = panelValue.map(function (v) { return getLocaleDayjsValue(v, locale.dayjsLocale); });\n        onOk &&\n            onOk(localePanelValue.map(function (v) { return v && v.format(format); }), localePanelValue);\n    }\n    function getUnit() {\n        switch (mode) {\n            case 'date':\n            case 'week':\n                return 'date';\n            case 'month':\n                return 'month';\n            case 'year':\n                return 'year';\n            default:\n                return undefined;\n        }\n    }\n    function outOfRange(date) {\n        if (selectedLength !== 2) {\n            return false;\n        }\n        var v = valueShow || mergedValue;\n        if (focusedInputIndex === 0 && date.isAfter(v[1], getUnit())) {\n            return true;\n        }\n        if (focusedInputIndex === 1 && date.isBefore(v[0], getUnit())) {\n            return true;\n        }\n        return false;\n    }\n    // Callback when click the panel date cell\n    function onSelectPanel(_, date) {\n        var isOutOfRange = outOfRange(date) && firstRange.current;\n        var newValueShow = resetRange && selectedLength === 2 && !isHalfAvailable ? [] : __spreadArray([], __read(panelValue), false);\n        // if custom triggerElement, focused input index always 0 -> 1\n        var focusedIndex = customTriggerElement\n            ? selectedLength === 0 || selectedLength === 2\n                ? 0\n                : 1\n            : focusedInputIndex;\n        var newDate = showTime ? getValueWithTime(date, timeValues[focusedIndex]) : date;\n        if (isOutOfRange) {\n            newValueShow[focusedIndex] = newDate;\n            newValueShow[1 ^ focusedIndex] = undefined;\n        }\n        else {\n            newValueShow[focusedIndex] = newDate;\n        }\n        var sortedValueShow = getSortedDayjsArray(newValueShow);\n        onSelectValueShow(sortedValueShow);\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        var newSelectedLength = getAvailableDayjsLength(newValueShow);\n        if (resetRange) {\n            if (selectedLength === 0 || (selectedLength === 2 && !isHalfAvailable)) {\n                customTriggerElement ? setFocusedInputIndex(1) : switchFocusedInput(true);\n            }\n            else if (!showTime) {\n                onConfirmValue(newValueShow);\n            }\n        }\n        else if (newSelectedLength <= 1) {\n            switchFocusedInput(true);\n        }\n        else if (selectedLength === 2 && firstRange.current && !isHalfAvailable) {\n            firstRange.current = false;\n            switchFocusedInput(true);\n            if (!showTime && !isOutOfRange) {\n                onConfirmValue(newValueShow, true);\n            }\n        }\n        else {\n            firstRange.current = false;\n            if (!showTime && !isOutOfRange) {\n                onConfirmValue(newValueShow);\n            }\n        }\n    }\n    // Callback when click TimePicker\n    function onTimePickerSelect(index, _, time) {\n        var newValueShow = isArray(panelValue) ? __spreadArray([], __read(panelValue), false) : [];\n        var newTimeValue = getValueWithTime(newValueShow[index] || getNow(utcOffset, timezone), time);\n        newValueShow[index] = newTimeValue;\n        onSelectValueShow(newValueShow);\n    }\n    function onSelectValueShow(newValueShow) {\n        setValueShow(newValueShow);\n        setValueShowHover(undefined);\n        var sortedValues = getSortedDayjsArray(newValueShow);\n        var zoneValues = sortedValues.map(function (v) {\n            return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n        });\n        onSelect &&\n            onSelect(zoneValues.map(function (v) { return v && v.format(format); }), zoneValues, { type: focusedInputIndex === 1 ? 'end' : 'start' });\n    }\n    // Switch to next focused input\n    function switchFocusedInput(silent) {\n        changeFocusedInputIndex(nextFocusedInputIndex, silent);\n        setTimeout(function () { return focusInput(nextFocusedInputIndex); });\n    }\n    // Callback when mouse entered the date cell\n    function onMouseEnterCell(date, disabled) {\n        var newValueShowHover = __spreadArray([], __read((panelValue || [])), false);\n        var needShowHover = resetRange ? selectedLength === 1 : selectedLength !== 0;\n        if (!disabled && needShowHover && !outOfRange(date)) {\n            newValueShowHover[focusedInputIndex] = getValueWithTime(date, timeValues[focusedInputIndex]);\n            setValueShowHover(newValueShowHover);\n            setInputValue(undefined);\n        }\n        if (!disabled) {\n            var placeHolderValue = showTime\n                ? getValueWithTime(date, timeValues[focusedInputIndex])\n                : date;\n            setHoverPlaceholderValue(placeHolderValue.locale(locale.dayjsLocale).format(format));\n        }\n    }\n    function onMouseLeaveCell() {\n        setValueShowHover(undefined);\n        setHoverPlaceholderValue(undefined);\n    }\n    function isValidDayjsArray(sv) {\n        return sv && isArray(sv) && sv.length === 2 && isDayjs(sv[0]) && isDayjs(sv[1]);\n    }\n    // Determine whether the value entered in the shortcut is in the correct format\n    function isValidShortcut(shortcut) {\n        var sv = typeof shortcut.value === 'function' && shortcut.value();\n        return isValidDayjsArray(sv);\n    }\n    function clearShortcutsTimer() {\n        clearTimeout(shortcutEnterTimer.current);\n        clearTimeout(shortcutLeaveTimer.current);\n        shortcutEnterTimer.current = null;\n        shortcutLeaveTimer.current = null;\n    }\n    // Callback when mouse entered the shortcuts\n    function onMouseEnterShortcut(shortcut) {\n        clearShortcutsTimer();\n        shortcutEnterTimer.current = setTimeout(function () {\n            if (isValidShortcut(shortcut)) {\n                var nv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n                setShortcutsValue(nv);\n                setFixedPageShowDates(nv);\n            }\n        }, 50);\n    }\n    // Callback when mouse leaved the shortcuts\n    function onMouseLeaveShortcut() {\n        clearShortcutsTimer();\n        shortcutLeaveTimer.current = setTimeout(function () {\n            setShortcutsValue(undefined);\n            setFixedPageShowDates(valueShow || mergedValue || [getNow(utcOffset, timezone), getNow(utcOffset, timezone)]);\n        }, 50);\n    }\n    // Callback when click the shortcuts button\n    function onHandleSelectShortcut(shortcut) {\n        onSelectShortcut && onSelectShortcut(shortcut);\n        if (isValidShortcut(shortcut)) {\n            var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            onConfirmValue(time);\n        }\n    }\n    // Modify panel date (the value of the panel itself, not the component value)\n    function changePageShowDates(type, unit, num) {\n        if (num === void 0) { num = 1; }\n        var index = type === 'prev' ? 0 : 1;\n        var newPageShowDates = __spreadArray([], __read(mergedPageShowDate), false);\n        if (type === 'prev') {\n            newPageShowDates[index] = methods.subtract(mergedPageShowDate[index], num, unit);\n        }\n        if (type === 'next') {\n            newPageShowDates[index] = methods.add(mergedPageShowDate[index], num, unit);\n        }\n        newPageShowDates = getPageShowDatesByValue(newPageShowDates[index], mode, type);\n        setFixedPageShowDates(newPageShowDates);\n    }\n    // Callback when click the prev or next button\n    function getHeaderOperations(pickerMode) {\n        if (pickerMode === void 0) { pickerMode = mode; }\n        if (pickerMode === 'date' || pickerMode === 'week') {\n            return {\n                onPrev: function () { return changePageShowDates('prev', 'month'); },\n                onNext: function () { return changePageShowDates('next', 'month'); },\n                onSuperPrev: function () { return changePageShowDates('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDates('next', 'year'); },\n            };\n        }\n        if (pickerMode === 'month' || pickerMode === 'quarter') {\n            return {\n                onSuperPrev: function () { return changePageShowDates('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDates('next', 'year'); },\n            };\n        }\n        if (pickerMode === 'year') {\n            return {\n                onSuperPrev: function () { return changePageShowDates('prev', 'year', 10); },\n                onSuperNext: function () { return changePageShowDates('next', 'year', 10); },\n            };\n        }\n    }\n    function onClickSelectTimeBtn() {\n        setIsTimePanel(!isTimePanel);\n    }\n    function renderPopup(panelOnly) {\n        var _a;\n        var classNames = cs(prefixCls + \"-container\", (_a = {},\n            _a[prefixCls + \"-panel-only\"] = panelOnly,\n            _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft,\n            _a[prefixCls + \"-container-rtl\"] = rtl,\n            _a), panelOnly ? className : '');\n        var shortcutsProps = {\n            prefixCls: getPrefixCls('picker'),\n            showTime: showTime,\n            shortcuts: shortcuts,\n            onMouseEnterShortcut: onMouseEnterShortcut,\n            onMouseLeaveShortcut: onMouseLeaveShortcut,\n            onSelectShortcut: onHandleSelectShortcut,\n        };\n        var shouldShowFooter = (showTime && panelModes[0] === 'date' && panelModes[1] === 'date') ||\n            extra ||\n            (isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft);\n        var content = (React.createElement(React.Fragment, null,\n            React.createElement(RangePickerPanel, __assign({}, props, getHeaderOperations(), { getHeaderOperations: getHeaderOperations, setRangePageShowDates: setFixedPageShowDates, pageShowDates: mergedPageShowDate, value: panelValue, format: format, onSelectPanel: onSelectPanel, onMouseEnterCell: onMouseEnterCell, onMouseLeaveCell: onMouseLeaveCell, disabledDate: function (current) { return isDisabledDate(current); }, disabledTime: disabledTime, mode: mode, localeName: locale.dayjsLocale, showTime: showTime, timeValues: shortcutsValue || timeValues, onTimePickerSelect: onTimePickerSelect, popupVisible: mergedPopupVisible, disabledTimePickerIndex: disabledTimePickerIndex, isTimePanel: isTimePanel, valueShowHover: valueShowHover, panelModes: panelModes, setPanelModes: setPanelModes })),\n            shouldShowFooter && (React.createElement(Footer, __assign({}, shortcutsProps, { DATEPICKER_LOCALE: locale.DatePicker, disabled: !(isArray(panelValue) && panelValue[0] && panelValue[1]), onClickConfirmBtn: onClickConfirmBtn, extra: extra, shortcutsPlacementLeft: shortcutsPlacementLeft, onClickSelectTimeBtn: onClickSelectTimeBtn, isTimePanel: isTimePanel })))));\n        var contentWithShortcuts = shortcutsPlacementLeft ? (React.createElement(React.Fragment, null,\n            React.createElement(Shortcuts, __assign({ ref: refShortcuts }, shortcutsProps)),\n            React.createElement(\"div\", { ref: refPanel, className: prefixCls + \"-panel-wrapper\" }, content))) : (content);\n        var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n        return (React.createElement(\"div\", { className: classNames, onClick: function () { return focusInput(); }, style: panelOnly ? style : {} }, panelNode));\n    }\n    var size = props.size || ctxSize;\n    var placeholders = isArray(placeholder) ? placeholder : locale.DatePicker.placeholders[mode];\n    var suffixIcon = icons && icons.inputSuffix === null\n        ? null\n        : (icons && icons.inputSuffix) || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n    var baseInputProps = {\n        style: style,\n        className: className,\n        popupVisible: mergedPopupVisible,\n        format: format,\n        disabled: disabled,\n        error: error,\n        status: status,\n        size: size,\n        onPressEnter: onPressEnter,\n        onClear: onClear,\n        suffixIcon: suffixIcon,\n        editable: editable,\n        allowClear: allowClear,\n        prefix: props.prefix,\n    };\n    var triggerDisabled = isArray(disabled) ? disabled[0] && disabled[1] : disabled;\n    return (React.createElement(PickerContext.Provider, { value: { utcOffset: utcOffset, timezone: timezone, weekStart: weekStart } }, triggerElement === null ? (renderPopup(true)) : (React.createElement(Trigger, __assign({ popup: renderPopup, trigger: \"click\", clickToClose: false, position: position, disabled: triggerDisabled, popupAlign: { bottom: 4 }, getPopupContainer: getPopupContainer, onVisibleChange: visibleChange, popupVisible: mergedPopupVisible, classNames: \"slideDynamicOrigin\", unmountOnExit: unmountOnExit }, triggerProps), triggerElement || (React.createElement(DateInputRange, __assign({}, pickDataAttributes(props), baseInputProps, { ref: refInput, placeholder: placeholders, value: valueShow || mergedValue, onChange: onChangeInput, inputValue: hoverPlaceholderValue || inputValue, changeFocusedInputIndex: changeFocusedInputIndex, focusedInputIndex: focusedInputIndex, isPlaceholder: !!hoverPlaceholderValue, separator: separator })))))));\n};\nPicker.displayName = 'RangePicker';\nexport default Picker;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}