{"ast":null,"code":"import React, { useRef, useEffect } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../../_util/classNames';\nimport { getRectDiff } from '../utils';\nimport throttleByRaf from '../../_util/throttleByRaf';\nvar getInkStyle = function getInkStyle(direction, curTitle, headerRef) {\n  var style = {};\n  if (curTitle) {\n    var diffStyle = getRectDiff(curTitle, headerRef);\n    if (direction === 'vertical') {\n      style = {\n        top: diffStyle.top + \"px\",\n        height: curTitle.offsetHeight + \"px\",\n        left: '',\n        width: ''\n      };\n    } else {\n      style = {\n        left: diffStyle.left + \"px\",\n        width: curTitle.offsetWidth + \"px\",\n        top: '',\n        height: ''\n      };\n    }\n  }\n  return style;\n};\nvar TabInk = function TabInk(_a) {\n  var _b;\n  var prefixCls = _a.prefixCls,\n    animation = _a.animation,\n    disabled = _a.disabled,\n    direction = _a.direction,\n    getTitleRef = _a.getTitleRef,\n    activeTab = _a.activeTab,\n    getHeaderRef = _a.getHeaderRef;\n  var inkRef = useRef();\n  var inkStyleRef = useRef();\n  useEffect(function () {\n    var setInkStyle = throttleByRaf(function () {\n      var newStyle = getInkStyle(direction, getTitleRef(activeTab), getHeaderRef('headerRef').current);\n      if (newStyle && !isEqualWith(inkStyleRef.current, newStyle)) {\n        inkStyleRef.current = newStyle;\n        Object.keys(newStyle).forEach(function (key) {\n          inkRef.current.style[key] = newStyle[key];\n        });\n      }\n    });\n    setInkStyle();\n    return function () {\n      setInkStyle.cancel && setInkStyle.cancel();\n    };\n  });\n  return React.createElement(\"div\", {\n    className: cs(prefixCls + \"-header-ink\", (_b = {}, _b[prefixCls + \"-header-ink-no-animation\"] = !animation, _b[prefixCls + \"-header-ink-disabled\"] = disabled, _b)),\n    ref: inkRef\n  });\n};\nexport default TabInk;","map":{"version":3,"names":["React","useRef","useEffect","isEqualWith","cs","getRectDiff","throttleByRaf","getInkStyle","direction","curTitle","headerRef","style","diffStyle","top","height","offsetHeight","left","width","offsetWidth","TabInk","_a","_b","prefixCls","animation","disabled","getTitleRef","activeTab","getHeaderRef","inkRef","inkStyleRef","setInkStyle","newStyle","current","Object","keys","forEach","key","cancel","createElement","className","ref"],"sources":["D:/Code/EchoGPT-frontend/node_modules/@arco-design/web-react/es/Tabs/tab-header/tab-ink.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../../_util/classNames';\nimport { getRectDiff } from '../utils';\nimport throttleByRaf from '../../_util/throttleByRaf';\nvar getInkStyle = function (direction, curTitle, headerRef) {\n    var style = {};\n    if (curTitle) {\n        var diffStyle = getRectDiff(curTitle, headerRef);\n        if (direction === 'vertical') {\n            style = {\n                top: diffStyle.top + \"px\",\n                height: curTitle.offsetHeight + \"px\",\n                left: '',\n                width: '',\n            };\n        }\n        else {\n            style = {\n                left: diffStyle.left + \"px\",\n                width: curTitle.offsetWidth + \"px\",\n                top: '',\n                height: '',\n            };\n        }\n    }\n    return style;\n};\nvar TabInk = function (_a) {\n    var _b;\n    var prefixCls = _a.prefixCls, animation = _a.animation, disabled = _a.disabled, direction = _a.direction, getTitleRef = _a.getTitleRef, activeTab = _a.activeTab, getHeaderRef = _a.getHeaderRef;\n    var inkRef = useRef();\n    var inkStyleRef = useRef();\n    useEffect(function () {\n        var setInkStyle = throttleByRaf(function () {\n            var newStyle = getInkStyle(direction, getTitleRef(activeTab), getHeaderRef('headerRef').current);\n            if (newStyle && !isEqualWith(inkStyleRef.current, newStyle)) {\n                inkStyleRef.current = newStyle;\n                Object.keys(newStyle).forEach(function (key) {\n                    inkRef.current.style[key] = newStyle[key];\n                });\n            }\n        });\n        setInkStyle();\n        return function () {\n            setInkStyle.cancel && setInkStyle.cancel();\n        };\n    });\n    return (React.createElement(\"div\", { className: cs(prefixCls + \"-header-ink\", (_b = {},\n            _b[prefixCls + \"-header-ink-no-animation\"] = !animation,\n            _b[prefixCls + \"-header-ink-disabled\"] = disabled,\n            _b)), ref: inkRef }));\n};\nexport default TabInk;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChD,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,OAAOC,EAAE,MAAM,wBAAwB;AACvC,SAASC,WAAW,QAAQ,UAAU;AACtC,OAAOC,aAAa,MAAM,2BAA2B;AACrD,IAAIC,WAAW,GAAG,SAAdA,WAAWA,CAAaC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,EAAE;EACxD,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd,IAAIF,QAAQ,EAAE;IACV,IAAIG,SAAS,GAAGP,WAAW,CAACI,QAAQ,EAAEC,SAAS,CAAC;IAChD,IAAIF,SAAS,KAAK,UAAU,EAAE;MAC1BG,KAAK,GAAG;QACJE,GAAG,EAAED,SAAS,CAACC,GAAG,GAAG,IAAI;QACzBC,MAAM,EAAEL,QAAQ,CAACM,YAAY,GAAG,IAAI;QACpCC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE;MACX,CAAC;IACL,CAAC,MACI;MACDN,KAAK,GAAG;QACJK,IAAI,EAAEJ,SAAS,CAACI,IAAI,GAAG,IAAI;QAC3BC,KAAK,EAAER,QAAQ,CAACS,WAAW,GAAG,IAAI;QAClCL,GAAG,EAAE,EAAE;QACPC,MAAM,EAAE;MACZ,CAAC;IACL;EACJ;EACA,OAAOH,KAAK;AAChB,CAAC;AACD,IAAIQ,MAAM,GAAG,SAATA,MAAMA,CAAaC,EAAE,EAAE;EACvB,IAAIC,EAAE;EACN,IAAIC,SAAS,GAAGF,EAAE,CAACE,SAAS;IAAEC,SAAS,GAAGH,EAAE,CAACG,SAAS;IAAEC,QAAQ,GAAGJ,EAAE,CAACI,QAAQ;IAAEhB,SAAS,GAAGY,EAAE,CAACZ,SAAS;IAAEiB,WAAW,GAAGL,EAAE,CAACK,WAAW;IAAEC,SAAS,GAAGN,EAAE,CAACM,SAAS;IAAEC,YAAY,GAAGP,EAAE,CAACO,YAAY;EAChM,IAAIC,MAAM,GAAG3B,MAAM,EAAE;EACrB,IAAI4B,WAAW,GAAG5B,MAAM,EAAE;EAC1BC,SAAS,CAAC,YAAY;IAClB,IAAI4B,WAAW,GAAGxB,aAAa,CAAC,YAAY;MACxC,IAAIyB,QAAQ,GAAGxB,WAAW,CAACC,SAAS,EAAEiB,WAAW,CAACC,SAAS,CAAC,EAAEC,YAAY,CAAC,WAAW,CAAC,CAACK,OAAO,CAAC;MAChG,IAAID,QAAQ,IAAI,CAAC5B,WAAW,CAAC0B,WAAW,CAACG,OAAO,EAAED,QAAQ,CAAC,EAAE;QACzDF,WAAW,CAACG,OAAO,GAAGD,QAAQ;QAC9BE,MAAM,CAACC,IAAI,CAACH,QAAQ,CAAC,CAACI,OAAO,CAAC,UAAUC,GAAG,EAAE;UACzCR,MAAM,CAACI,OAAO,CAACrB,KAAK,CAACyB,GAAG,CAAC,GAAGL,QAAQ,CAACK,GAAG,CAAC;QAC7C,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IACFN,WAAW,EAAE;IACb,OAAO,YAAY;MACfA,WAAW,CAACO,MAAM,IAAIP,WAAW,CAACO,MAAM,EAAE;IAC9C,CAAC;EACL,CAAC,CAAC;EACF,OAAQrC,KAAK,CAACsC,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAEnC,EAAE,CAACkB,SAAS,GAAG,aAAa,GAAGD,EAAE,GAAG,CAAC,CAAC,EAC9EA,EAAE,CAACC,SAAS,GAAG,0BAA0B,CAAC,GAAG,CAACC,SAAS,EACvDF,EAAE,CAACC,SAAS,GAAG,sBAAsB,CAAC,GAAGE,QAAQ,EACjDH,EAAE,EAAE;IAAEmB,GAAG,EAAEZ;EAAO,CAAC,CAAC;AAChC,CAAC;AACD,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}